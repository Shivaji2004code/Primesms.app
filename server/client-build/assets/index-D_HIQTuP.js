var tC=Object.defineProperty;var sC=(e,t,s)=>t in e?tC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Lx=(e,t,s)=>sC(e,typeof t!="symbol"?t+"":t,s);function rC(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mv={exports:{}},$d={},Iv={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=Symbol.for("react.element"),nC=Symbol.for("react.portal"),aC=Symbol.for("react.fragment"),iC=Symbol.for("react.strict_mode"),oC=Symbol.for("react.profiler"),lC=Symbol.for("react.provider"),cC=Symbol.for("react.context"),dC=Symbol.for("react.forward_ref"),uC=Symbol.for("react.suspense"),mC=Symbol.for("react.memo"),hC=Symbol.for("react.lazy"),Fx=Symbol.iterator;function fC(e){return e===null||typeof e!="object"?null:(e=Fx&&e[Fx]||e["@@iterator"],typeof e=="function"?e:null)}var Dv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ov=Object.assign,Lv={};function Gi(e,t,s){this.props=e,this.context=t,this.refs=Lv,this.updater=s||Dv}Gi.prototype.isReactComponent={};Gi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fv(){}Fv.prototype=Gi.prototype;function kf(e,t,s){this.props=e,this.context=t,this.refs=Lv,this.updater=s||Dv}var Tf=kf.prototype=new Fv;Tf.constructor=kf;Ov(Tf,Gi.prototype);Tf.isPureReactComponent=!0;var Vx=Array.isArray,Vv=Object.prototype.hasOwnProperty,Pf={current:null},Uv={key:!0,ref:!0,__self:!0,__source:!0};function Bv(e,t,s){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Vv.call(t,n)&&!Uv.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:yl,type:e,key:i,ref:o,props:a,_owner:Pf.current}}function pC(e,t){return{$$typeof:yl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ef(e){return typeof e=="object"&&e!==null&&e.$$typeof===yl}function xC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Ux=/\/+/g;function Uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xC(""+e.key):t.toString(36)}function hc(e,t,s,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yl:case nC:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Uu(o,0):n,Vx(a)?(s="",e!=null&&(s=e.replace(Ux,"$&/")+"/"),hc(a,t,s,"",function(d){return d})):a!=null&&(Ef(a)&&(a=pC(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ux,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Vx(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Uu(i,l);o+=hc(i,t,s,c,a)}else if(c=fC(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Uu(i,l++),o+=hc(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ol(e,t,s){if(e==null)return e;var n=[],a=0;return hc(e,n,"","",function(i){return t.call(s,i,a++)}),n}function gC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var us={current:null},fc={transition:null},yC={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:fc,ReactCurrentOwner:Pf};function zv(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Ol,forEach:function(e,t,s){Ol(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ol(e,function(){t++}),t},toArray:function(e){return Ol(e,function(t){return t})||[]},only:function(e){if(!Ef(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=Gi;Le.Fragment=aC;Le.Profiler=oC;Le.PureComponent=kf;Le.StrictMode=iC;Le.Suspense=uC;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC;Le.act=zv;Le.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ov({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Pf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Vv.call(t,c)&&!Uv.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:yl,type:e.type,key:a,ref:i,props:n,_owner:o}};Le.createContext=function(e){return e={$$typeof:cC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lC,_context:e},e.Consumer=e};Le.createElement=Bv;Le.createFactory=function(e){var t=Bv.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:dC,render:e}};Le.isValidElement=Ef;Le.lazy=function(e){return{$$typeof:hC,_payload:{_status:-1,_result:e},_init:gC}};Le.memo=function(e,t){return{$$typeof:mC,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=fc.transition;fc.transition={};try{e()}finally{fc.transition=t}};Le.unstable_act=zv;Le.useCallback=function(e,t){return us.current.useCallback(e,t)};Le.useContext=function(e){return us.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return us.current.useDeferredValue(e)};Le.useEffect=function(e,t){return us.current.useEffect(e,t)};Le.useId=function(){return us.current.useId()};Le.useImperativeHandle=function(e,t,s){return us.current.useImperativeHandle(e,t,s)};Le.useInsertionEffect=function(e,t){return us.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return us.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return us.current.useMemo(e,t)};Le.useReducer=function(e,t,s){return us.current.useReducer(e,t,s)};Le.useRef=function(e){return us.current.useRef(e)};Le.useState=function(e){return us.current.useState(e)};Le.useSyncExternalStore=function(e,t,s){return us.current.useSyncExternalStore(e,t,s)};Le.useTransition=function(){return us.current.useTransition()};Le.version="18.3.1";Iv.exports=Le;var h=Iv.exports;const K=Cf(h),Af=rC({__proto__:null,default:K},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC=h,bC=Symbol.for("react.element"),jC=Symbol.for("react.fragment"),wC=Object.prototype.hasOwnProperty,NC=vC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SC={key:!0,ref:!0,__self:!0,__source:!0};function $v(e,t,s){var n,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)wC.call(t,n)&&!SC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:bC,type:e,key:i,ref:o,props:a,_owner:NC.current}}$d.Fragment=jC;$d.jsx=$v;$d.jsxs=$v;Mv.exports=$d;var r=Mv.exports,Wv={exports:{}},Vs={},Hv={exports:{}},Gv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var B=O.length;O.push(L);e:for(;0<B;){var H=B-1>>>1,G=O[H];if(0<a(G,L))O[H]=L,O[B]=G,B=H;else break e}}function s(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var L=O[0],B=O.pop();if(B!==L){O[0]=B;e:for(var H=0,G=O.length,de=G>>>1;H<de;){var ve=2*(H+1)-1,Pe=O[ve],Me=ve+1,ge=O[Me];if(0>a(Pe,B))Me<G&&0>a(ge,Pe)?(O[H]=ge,O[Me]=B,H=Me):(O[H]=Pe,O[ve]=B,H=ve);else if(Me<G&&0>a(ge,B))O[H]=ge,O[Me]=B,H=Me;else break e}}return L}function a(O,L){var B=O.sortIndex-L.sortIndex;return B!==0?B:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,f=3,p=!1,w=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var L=s(d);L!==null;){if(L.callback===null)n(d);else if(L.startTime<=O)n(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=s(d)}}function b(O){if(y=!1,x(O),!w)if(s(c)!==null)w=!0,A(S);else{var L=s(d);L!==null&&z(b,L.startTime-O)}}function S(O,L){w=!1,y&&(y=!1,v(C),C=-1),p=!0;var B=f;try{for(x(L),m=s(c);m!==null&&(!(m.expirationTime>L)||O&&!R());){var H=m.callback;if(typeof H=="function"){m.callback=null,f=m.priorityLevel;var G=H(m.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?m.callback=G:m===s(c)&&n(c),x(L)}else n(c);m=s(c)}if(m!==null)var de=!0;else{var ve=s(d);ve!==null&&z(b,ve.startTime-L),de=!1}return de}finally{m=null,f=B,p=!1}}var k=!1,T=null,C=-1,D=5,_=-1;function R(){return!(e.unstable_now()-_<D)}function P(){if(T!==null){var O=e.unstable_now();_=O;var L=!0;try{L=T(!0,O)}finally{L?E():(k=!1,T=null)}}else k=!1}var E;if(typeof g=="function")E=function(){g(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,I=N.port2;N.port1.onmessage=P,E=function(){I.postMessage(null)}}else E=function(){j(P,0)};function A(O){T=O,k||(k=!0,E())}function z(O,L){C=j(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,A(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var B=f;f=L;try{return O()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=f;f=O;try{return L()}finally{f=B}},e.unstable_scheduleCallback=function(O,L,B){var H=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?H+B:H):B=H,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,O={id:u++,callback:L,priorityLevel:O,startTime:B,expirationTime:G,sortIndex:-1},B>H?(O.sortIndex=B,t(d,O),s(c)===null&&O===s(d)&&(y?(v(C),C=-1):y=!0,z(b,B-H))):(O.sortIndex=G,t(c,O),w||p||(w=!0,A(S))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var L=f;return function(){var B=f;f=L;try{return O.apply(this,arguments)}finally{f=B}}}})(Gv);Hv.exports=Gv;var CC=Hv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=h,Os=CC;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kv=new Set,zo={};function za(e,t){Ei(e,t),Ei(e+"Capture",t)}function Ei(e,t){for(zo[e]=t,e=0;e<t.length;e++)Kv.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,TC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bx={},zx={};function PC(e){return Gm.call(zx,e)?!0:Gm.call(Bx,e)?!1:TC.test(e)?zx[e]=!0:(Bx[e]=!0,!1)}function EC(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AC(e,t,s,n){if(t===null||typeof t>"u"||EC(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ms(e,t,s,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new ms(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new ms(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new ms(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new ms(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new ms(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new ms(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new ms(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new ms(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new ms(e,5,!1,e.toLowerCase(),null,!1,!1)});var _f=/[\-:]([a-z])/g;function Rf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_f,Rf);Yt[t]=new ms(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_f,Rf);Yt[t]=new ms(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_f,Rf);Yt[t]=new ms(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new ms(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new ms(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mf(e,t,s,n){var a=Yt.hasOwnProperty(t)?Yt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AC(t,s,a,n)&&(s=null),n||a===null?PC(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var pn=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ll=Symbol.for("react.element"),si=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),Km=Symbol.for("react.profiler"),qv=Symbol.for("react.provider"),Yv=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),Of=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Zv=Symbol.for("react.offscreen"),$x=Symbol.iterator;function so(e){return e===null||typeof e!="object"?null:(e=$x&&e[$x]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,Bu;function yo(e){if(Bu===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Bu=t&&t[1]||""}return`
`+Bu+e}var zu=!1;function $u(e,t){if(!e||zu)return"";zu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{zu=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?yo(e):""}function _C(e){switch(e.tag){case 5:return yo(e.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return e=$u(e.type,!1),e;case 11:return e=$u(e.type.render,!1),e;case 1:return e=$u(e.type,!0),e;default:return""}}function Zm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ri:return"Fragment";case si:return"Portal";case Km:return"Profiler";case If:return"StrictMode";case qm:return"Suspense";case Ym:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yv:return(e.displayName||"Context")+".Consumer";case qv:return(e._context.displayName||"Context")+".Provider";case Df:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Of:return t=e.displayName||null,t!==null?t:Zm(e.type)||"Memo";case kn:t=e._payload,e=e._init;try{return Zm(e(t))}catch{}}return null}function RC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(t);case 8:return t===If?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MC(e){var t=Qv(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fl(e){e._valueTracker||(e._valueTracker=MC(e))}function Xv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Qv(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Dc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qm(e,t){var s=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Wx(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Zn(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jv(e,t){t=t.checked,t!=null&&Mf(e,"checked",t,!1)}function Xm(e,t){Jv(e,t);var s=Zn(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jm(e,t.type,s):t.hasOwnProperty("defaultValue")&&Jm(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hx(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Jm(e,t,s){(t!=="number"||Dc(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var vo=Array.isArray;function vi(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Zn(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function eh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gx(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Z(92));if(vo(s)){if(1<s.length)throw Error(Z(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Zn(s)}}function eb(e,t){var s=Zn(t.value),n=Zn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Kx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function th(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vl,sb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vl=Vl||document.createElement("div"),Vl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $o(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IC=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(e){IC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Co[t]=Co[e]})});function rb(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Co.hasOwnProperty(e)&&Co[e]?(""+t).trim():t+"px"}function nb(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=rb(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var DC=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(e,t){if(t){if(DC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function rh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=null;function Lf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ah=null,bi=null,ji=null;function qx(e){if(e=jl(e)){if(typeof ah!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=qd(t),ah(e.stateNode,e.type,t))}}function ab(e){bi?ji?ji.push(e):ji=[e]:bi=e}function ib(){if(bi){var e=bi,t=ji;if(ji=bi=null,qx(e),t)for(e=0;e<t.length;e++)qx(t[e])}}function ob(e,t){return e(t)}function lb(){}var Wu=!1;function cb(e,t,s){if(Wu)return e(t,s);Wu=!0;try{return ob(e,t,s)}finally{Wu=!1,(bi!==null||ji!==null)&&(lb(),ib())}}function Wo(e,t){var s=e.stateNode;if(s===null)return null;var n=qd(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Z(231,t,typeof s));return s}var ih=!1;if(en)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){ih=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{ih=!1}function OC(e,t,s,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var ko=!1,Oc=null,Lc=!1,oh=null,LC={onError:function(e){ko=!0,Oc=e}};function FC(e,t,s,n,a,i,o,l,c){ko=!1,Oc=null,OC.apply(LC,arguments)}function VC(e,t,s,n,a,i,o,l,c){if(FC.apply(this,arguments),ko){if(ko){var d=Oc;ko=!1,Oc=null}else throw Error(Z(198));Lc||(Lc=!0,oh=d)}}function $a(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function db(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yx(e){if($a(e)!==e)throw Error(Z(188))}function UC(e){var t=e.alternate;if(!t){if(t=$a(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Yx(a),e;if(i===n)return Yx(a),t;i=i.sibling}throw Error(Z(188))}if(s.return!==n.return)s=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(s.alternate!==n)throw Error(Z(190))}if(s.tag!==3)throw Error(Z(188));return s.stateNode.current===s?e:t}function ub(e){return e=UC(e),e!==null?mb(e):null}function mb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mb(e);if(t!==null)return t;e=e.sibling}return null}var hb=Os.unstable_scheduleCallback,Zx=Os.unstable_cancelCallback,BC=Os.unstable_shouldYield,zC=Os.unstable_requestPaint,jt=Os.unstable_now,$C=Os.unstable_getCurrentPriorityLevel,Ff=Os.unstable_ImmediatePriority,fb=Os.unstable_UserBlockingPriority,Fc=Os.unstable_NormalPriority,WC=Os.unstable_LowPriority,pb=Os.unstable_IdlePriority,Wd=null,_r=null;function HC(e){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Wd,e,void 0,(e.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:qC,GC=Math.log,KC=Math.LN2;function qC(e){return e>>>=0,e===0?32:31-(GC(e)/KC|0)|0}var Ul=64,Bl=4194304;function bo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vc(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?n=bo(l):(i&=o,i!==0&&(n=bo(i)))}else o=s&~a,o!==0?n=bo(o):i!==0&&(n=bo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-hr(t),a=1<<s,n|=e[s],t&=~a;return n}function YC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZC(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-hr(i),l=1<<o,c=a[o];c===-1?(!(l&s)||l&n)&&(a[o]=YC(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function lh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xb(){var e=Ul;return Ul<<=1,!(Ul&4194240)&&(Ul=64),e}function Hu(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function vl(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hr(t),e[t]=s}function QC(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-hr(s),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~i}}function Vf(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-hr(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var Qe=0;function gb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yb,Uf,vb,bb,jb,ch=!1,zl=[],Fn=null,Vn=null,Un=null,Ho=new Map,Go=new Map,Rn=[],XC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qx(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(t.pointerId)}}function no(e,t,s,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=jl(t),t!==null&&Uf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function JC(e,t,s,n,a){switch(t){case"focusin":return Fn=no(Fn,e,t,s,n,a),!0;case"dragenter":return Vn=no(Vn,e,t,s,n,a),!0;case"mouseover":return Un=no(Un,e,t,s,n,a),!0;case"pointerover":var i=a.pointerId;return Ho.set(i,no(Ho.get(i)||null,e,t,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Go.set(i,no(Go.get(i)||null,e,t,s,n,a)),!0}return!1}function wb(e){var t=wa(e.target);if(t!==null){var s=$a(t);if(s!==null){if(t=s.tag,t===13){if(t=db(s),t!==null){e.blockedOn=t,jb(e.priority,function(){vb(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=dh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);nh=n,s.target.dispatchEvent(n),nh=null}else return t=jl(s),t!==null&&Uf(t),e.blockedOn=s,!1;t.shift()}return!0}function Xx(e,t,s){pc(e)&&s.delete(t)}function ek(){ch=!1,Fn!==null&&pc(Fn)&&(Fn=null),Vn!==null&&pc(Vn)&&(Vn=null),Un!==null&&pc(Un)&&(Un=null),Ho.forEach(Xx),Go.forEach(Xx)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,ch||(ch=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,ek)))}function Ko(e){function t(a){return ao(a,e)}if(0<zl.length){ao(zl[0],e);for(var s=1;s<zl.length;s++){var n=zl[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Fn!==null&&ao(Fn,e),Vn!==null&&ao(Vn,e),Un!==null&&ao(Un,e),Ho.forEach(t),Go.forEach(t),s=0;s<Rn.length;s++)n=Rn[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rn.length&&(s=Rn[0],s.blockedOn===null);)wb(s),s.blockedOn===null&&Rn.shift()}var wi=pn.ReactCurrentBatchConfig,Uc=!0;function tk(e,t,s,n){var a=Qe,i=wi.transition;wi.transition=null;try{Qe=1,Bf(e,t,s,n)}finally{Qe=a,wi.transition=i}}function sk(e,t,s,n){var a=Qe,i=wi.transition;wi.transition=null;try{Qe=4,Bf(e,t,s,n)}finally{Qe=a,wi.transition=i}}function Bf(e,t,s,n){if(Uc){var a=dh(e,t,s,n);if(a===null)tm(e,t,n,Bc,s),Qx(e,n);else if(JC(a,e,t,s,n))n.stopPropagation();else if(Qx(e,n),t&4&&-1<XC.indexOf(e)){for(;a!==null;){var i=jl(a);if(i!==null&&yb(i),i=dh(e,t,s,n),i===null&&tm(e,t,n,Bc,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else tm(e,t,n,null,s)}}var Bc=null;function dh(e,t,s,n){if(Bc=null,e=Lf(n),e=wa(e),e!==null)if(t=$a(e),t===null)e=null;else if(s=t.tag,s===13){if(e=db(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bc=e,null}function Nb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($C()){case Ff:return 1;case fb:return 4;case Fc:case WC:return 16;case pb:return 536870912;default:return 16}default:return 16}}var Dn=null,zf=null,xc=null;function Sb(){if(xc)return xc;var e,t=zf,s=t.length,n,a="value"in Dn?Dn.value:Dn.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===a[i-n];n++);return xc=a.slice(e,1<n?1-n:void 0)}function gc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function Jx(){return!1}function Us(e){function t(s,n,a,i,o){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$l:Jx,this.isPropagationStopped=Jx,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=Us(Ki),bl=pt({},Ki,{view:0,detail:0}),rk=Us(bl),Gu,Ku,io,Hd=pt({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(Gu=e.screenX-io.screenX,Ku=e.screenY-io.screenY):Ku=Gu=0,io=e),Gu)},movementY:function(e){return"movementY"in e?e.movementY:Ku}}),eg=Us(Hd),nk=pt({},Hd,{dataTransfer:0}),ak=Us(nk),ik=pt({},bl,{relatedTarget:0}),qu=Us(ik),ok=pt({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),lk=Us(ok),ck=pt({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dk=Us(ck),uk=pt({},Ki,{data:0}),tg=Us(uk),mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fk[e])?!!t[e]:!1}function Wf(){return pk}var xk=pt({},bl,{key:function(e){if(e.key){var t=mk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wf,charCode:function(e){return e.type==="keypress"?gc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gk=Us(xk),yk=pt({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sg=Us(yk),vk=pt({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wf}),bk=Us(vk),jk=pt({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),wk=Us(jk),Nk=pt({},Hd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sk=Us(Nk),Ck=[9,13,27,32],Hf=en&&"CompositionEvent"in window,To=null;en&&"documentMode"in document&&(To=document.documentMode);var kk=en&&"TextEvent"in window&&!To,Cb=en&&(!Hf||To&&8<To&&11>=To),rg=" ",ng=!1;function kb(e,t){switch(e){case"keyup":return Ck.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ni=!1;function Tk(e,t){switch(e){case"compositionend":return Tb(t);case"keypress":return t.which!==32?null:(ng=!0,rg);case"textInput":return e=t.data,e===rg&&ng?null:e;default:return null}}function Pk(e,t){if(ni)return e==="compositionend"||!Hf&&kb(e,t)?(e=Sb(),xc=zf=Dn=null,ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cb&&t.locale!=="ko"?null:t.data;default:return null}}var Ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ek[e.type]:t==="textarea"}function Pb(e,t,s,n){ab(n),t=zc(t,"onChange"),0<t.length&&(s=new $f("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Po=null,qo=null;function Ak(e){Vb(e,0)}function Gd(e){var t=oi(e);if(Xv(t))return e}function _k(e,t){if(e==="change")return t}var Eb=!1;if(en){var Yu;if(en){var Zu="oninput"in document;if(!Zu){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Zu=typeof ig.oninput=="function"}Yu=Zu}else Yu=!1;Eb=Yu&&(!document.documentMode||9<document.documentMode)}function og(){Po&&(Po.detachEvent("onpropertychange",Ab),qo=Po=null)}function Ab(e){if(e.propertyName==="value"&&Gd(qo)){var t=[];Pb(t,qo,e,Lf(e)),cb(Ak,t)}}function Rk(e,t,s){e==="focusin"?(og(),Po=t,qo=s,Po.attachEvent("onpropertychange",Ab)):e==="focusout"&&og()}function Mk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gd(qo)}function Ik(e,t){if(e==="click")return Gd(t)}function Dk(e,t){if(e==="input"||e==="change")return Gd(t)}function Ok(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gr=typeof Object.is=="function"?Object.is:Ok;function Yo(e,t){if(gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Gm.call(t,a)||!gr(e[a],t[a]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cg(e,t){var s=lg(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lg(s)}}function _b(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_b(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rb(){for(var e=window,t=Dc();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Dc(e.document)}return t}function Gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lk(e){var t=Rb(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&_b(s.ownerDocument.documentElement,s)){if(n!==null&&Gf(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=cg(s,i);var o=cg(s,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fk=en&&"documentMode"in document&&11>=document.documentMode,ai=null,uh=null,Eo=null,mh=!1;function dg(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mh||ai==null||ai!==Dc(n)||(n=ai,"selectionStart"in n&&Gf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Eo&&Yo(Eo,n)||(Eo=n,n=zc(uh,"onSelect"),0<n.length&&(t=new $f("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=ai)))}function Wl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ii={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},Qu={},Mb={};en&&(Mb=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Kd(e){if(Qu[e])return Qu[e];if(!ii[e])return e;var t=ii[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Mb)return Qu[e]=t[s];return e}var Ib=Kd("animationend"),Db=Kd("animationiteration"),Ob=Kd("animationstart"),Lb=Kd("transitionend"),Fb=new Map,ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(e,t){Fb.set(e,t),za(t,[e])}for(var Xu=0;Xu<ug.length;Xu++){var Ju=ug[Xu],Vk=Ju.toLowerCase(),Uk=Ju[0].toUpperCase()+Ju.slice(1);ca(Vk,"on"+Uk)}ca(Ib,"onAnimationEnd");ca(Db,"onAnimationIteration");ca(Ob,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(Lb,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));za("onBeforeInput",["compositionend","keypress","textInput","paste"]);za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function mg(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,VC(n,t,void 0,e),e.currentTarget=null}function Vb(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;mg(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;mg(a,l,d),i=c}}}if(Lc)throw e=oh,Lc=!1,oh=null,e}function ot(e,t){var s=t[gh];s===void 0&&(s=t[gh]=new Set);var n=e+"__bubble";s.has(n)||(Ub(t,e,2,!1),s.add(n))}function em(e,t,s){var n=0;t&&(n|=4),Ub(s,e,n,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[Hl]){e[Hl]=!0,Kv.forEach(function(s){s!=="selectionchange"&&(Bk.has(s)||em(s,!1,e),em(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,em("selectionchange",!1,t))}}function Ub(e,t,s,n){switch(Nb(t)){case 1:var a=tk;break;case 4:a=sk;break;default:a=Bf}s=a.bind(null,t,s,e),a=void 0,!ih||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function tm(e,t,s,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=wa(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cb(function(){var d=i,u=Lf(s),m=[];e:{var f=Fb.get(e);if(f!==void 0){var p=$f,w=e;switch(e){case"keypress":if(gc(s)===0)break e;case"keydown":case"keyup":p=gk;break;case"focusin":w="focus",p=qu;break;case"focusout":w="blur",p=qu;break;case"beforeblur":case"afterblur":p=qu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bk;break;case Ib:case Db:case Ob:p=lk;break;case Lb:p=wk;break;case"scroll":p=rk;break;case"wheel":p=Sk;break;case"copy":case"cut":case"paste":p=dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sg}var y=(t&4)!==0,j=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var g=d,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=Wo(g,v),b!=null&&y.push(Qo(g,b,x)))),j)break;g=g.return}0<y.length&&(f=new p(f,w,null,s,u),m.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&s!==nh&&(w=s.relatedTarget||s.fromElement)&&(wa(w)||w[tn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=s.relatedTarget||s.toElement,p=d,w=w?wa(w):null,w!==null&&(j=$a(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(y=eg,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=sg,b="onPointerLeave",v="onPointerEnter",g="pointer"),j=p==null?f:oi(p),x=w==null?f:oi(w),f=new y(b,g+"leave",p,s,u),f.target=j,f.relatedTarget=x,b=null,wa(u)===d&&(y=new y(v,g+"enter",w,s,u),y.target=x,y.relatedTarget=j,b=y),j=b,p&&w)t:{for(y=p,v=w,g=0,x=y;x;x=Ya(x))g++;for(x=0,b=v;b;b=Ya(b))x++;for(;0<g-x;)y=Ya(y),g--;for(;0<x-g;)v=Ya(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ya(y),v=Ya(v)}y=null}else y=null;p!==null&&hg(m,f,p,y,!1),w!==null&&j!==null&&hg(m,j,w,y,!0)}}e:{if(f=d?oi(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=_k;else if(ag(f))if(Eb)S=Dk;else{S=Mk;var k=Rk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Ik);if(S&&(S=S(e,d))){Pb(m,S,s,u);break e}k&&k(e,f,d),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Jm(f,"number",f.value)}switch(k=d?oi(d):window,e){case"focusin":(ag(k)||k.contentEditable==="true")&&(ai=k,uh=d,Eo=null);break;case"focusout":Eo=uh=ai=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,dg(m,s,u);break;case"selectionchange":if(Fk)break;case"keydown":case"keyup":dg(m,s,u)}var T;if(Hf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ni?kb(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(Cb&&s.locale!=="ko"&&(ni||C!=="onCompositionStart"?C==="onCompositionEnd"&&ni&&(T=Sb()):(Dn=u,zf="value"in Dn?Dn.value:Dn.textContent,ni=!0)),k=zc(d,C),0<k.length&&(C=new tg(C,e,null,s,u),m.push({event:C,listeners:k}),T?C.data=T:(T=Tb(s),T!==null&&(C.data=T)))),(T=kk?Tk(e,s):Pk(e,s))&&(d=zc(d,"onBeforeInput"),0<d.length&&(u=new tg("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=T))}Vb(m,t)})}function Qo(e,t,s){return{instance:e,listener:t,currentTarget:s}}function zc(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wo(e,s),i!=null&&n.unshift(Qo(e,i,a)),i=Wo(e,t),i!=null&&n.push(Qo(e,i,a))),e=e.return}return n}function Ya(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hg(e,t,s,n,a){for(var i=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Wo(s,i),c!=null&&o.unshift(Qo(s,c,l))):a||(c=Wo(s,i),c!=null&&o.push(Qo(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var zk=/\r\n?/g,$k=/\u0000|\uFFFD/g;function fg(e){return(typeof e=="string"?e:""+e).replace(zk,`
`).replace($k,"")}function Gl(e,t,s){if(t=fg(t),fg(e)!==t&&s)throw Error(Z(425))}function $c(){}var hh=null,fh=null;function ph(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,Wk=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,Hk=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(e){return pg.resolve(null).then(e).catch(Gk)}:xh;function Gk(e){setTimeout(function(){throw e})}function sm(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),Ko(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);Ko(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Tr="__reactFiber$"+qi,Xo="__reactProps$"+qi,tn="__reactContainer$"+qi,gh="__reactEvents$"+qi,Kk="__reactListeners$"+qi,qk="__reactHandles$"+qi;function wa(e){var t=e[Tr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[tn]||s[Tr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=xg(e);e!==null;){if(s=e[Tr])return s;e=xg(e)}return t}e=s,s=e.parentNode}return null}function jl(e){return e=e[Tr]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function qd(e){return e[Xo]||null}var yh=[],li=-1;function da(e){return{current:e}}function lt(e){0>li||(e.current=yh[li],yh[li]=null,li--)}function rt(e,t){li++,yh[li]=e.current,e.current=t}var Qn={},ts=da(Qn),Ns=da(!1),Ra=Qn;function Ai(e,t){var s=e.type.contextTypes;if(!s)return Qn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ss(e){return e=e.childContextTypes,e!=null}function Wc(){lt(Ns),lt(ts)}function gg(e,t,s){if(ts.current!==Qn)throw Error(Z(168));rt(ts,t),rt(Ns,s)}function Bb(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Z(108,RC(e)||"Unknown",a));return pt({},s,n)}function Hc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,Ra=ts.current,rt(ts,e),rt(Ns,Ns.current),!0}function yg(e,t,s){var n=e.stateNode;if(!n)throw Error(Z(169));s?(e=Bb(e,t,Ra),n.__reactInternalMemoizedMergedChildContext=e,lt(Ns),lt(ts),rt(ts,e)):lt(Ns),rt(Ns,s)}var Wr=null,Yd=!1,rm=!1;function zb(e){Wr===null?Wr=[e]:Wr.push(e)}function Yk(e){Yd=!0,zb(e)}function ua(){if(!rm&&Wr!==null){rm=!0;var e=0,t=Qe;try{var s=Wr;for(Qe=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Wr=null,Yd=!1}catch(a){throw Wr!==null&&(Wr=Wr.slice(e+1)),hb(Ff,ua),a}finally{Qe=t,rm=!1}}return null}var ci=[],di=0,Gc=null,Kc=0,Ks=[],qs=0,Ma=null,Hr=1,Gr="";function ga(e,t){ci[di++]=Kc,ci[di++]=Gc,Gc=e,Kc=t}function $b(e,t,s){Ks[qs++]=Hr,Ks[qs++]=Gr,Ks[qs++]=Ma,Ma=e;var n=Hr;e=Gr;var a=32-hr(n)-1;n&=~(1<<a),s+=1;var i=32-hr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Hr=1<<32-hr(t)+a|s<<a|n,Gr=i+e}else Hr=1<<i|s<<a|n,Gr=e}function Kf(e){e.return!==null&&(ga(e,1),$b(e,1,0))}function qf(e){for(;e===Gc;)Gc=ci[--di],ci[di]=null,Kc=ci[--di],ci[di]=null;for(;e===Ma;)Ma=Ks[--qs],Ks[qs]=null,Gr=Ks[--qs],Ks[qs]=null,Hr=Ks[--qs],Ks[qs]=null}var Rs=null,_s=null,ct=!1,cr=null;function Wb(e,t){var s=Ys(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function vg(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rs=e,_s=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rs=e,_s=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Ma!==null?{id:Hr,overflow:Gr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ys(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Rs=e,_s=null,!0):!1;default:return!1}}function vh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bh(e){if(ct){var t=_s;if(t){var s=t;if(!vg(e,t)){if(vh(e))throw Error(Z(418));t=Bn(s.nextSibling);var n=Rs;t&&vg(e,t)?Wb(n,s):(e.flags=e.flags&-4097|2,ct=!1,Rs=e)}}else{if(vh(e))throw Error(Z(418));e.flags=e.flags&-4097|2,ct=!1,Rs=e}}}function bg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rs=e}function Kl(e){if(e!==Rs)return!1;if(!ct)return bg(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ph(e.type,e.memoizedProps)),t&&(t=_s)){if(vh(e))throw Hb(),Error(Z(418));for(;t;)Wb(e,t),t=Bn(t.nextSibling)}if(bg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){_s=Bn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}_s=null}}else _s=Rs?Bn(e.stateNode.nextSibling):null;return!0}function Hb(){for(var e=_s;e;)e=Bn(e.nextSibling)}function _i(){_s=Rs=null,ct=!1}function Yf(e){cr===null?cr=[e]:cr.push(e)}var Zk=pn.ReactCurrentBatchConfig;function oo(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Z(309));var n=s.stateNode}if(!n)throw Error(Z(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!s._owner)throw Error(Z(290,e))}return e}function ql(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jg(e){var t=e._init;return t(e._payload)}function Gb(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function s(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=Hn(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,x,b){return g===null||g.tag!==6?(g=dm(x,v.mode,b),g.return=v,g):(g=a(g,x),g.return=v,g)}function c(v,g,x,b){var S=x.type;return S===ri?u(v,g,x.props.children,b,x.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kn&&jg(S)===g.type)?(b=a(g,x.props),b.ref=oo(v,g,x),b.return=v,b):(b=Sc(x.type,x.key,x.props,null,v.mode,b),b.ref=oo(v,g,x),b.return=v,b)}function d(v,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=um(x,v.mode,b),g.return=v,g):(g=a(g,x.children||[]),g.return=v,g)}function u(v,g,x,b,S){return g===null||g.tag!==7?(g=Aa(x,v.mode,b,S),g.return=v,g):(g=a(g,x),g.return=v,g)}function m(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=dm(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ll:return x=Sc(g.type,g.key,g.props,null,v.mode,x),x.ref=oo(v,null,g),x.return=v,x;case si:return g=um(g,v.mode,x),g.return=v,g;case kn:var b=g._init;return m(v,b(g._payload),x)}if(vo(g)||so(g))return g=Aa(g,v.mode,x,null),g.return=v,g;ql(v,g)}return null}function f(v,g,x,b){var S=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(v,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ll:return x.key===S?c(v,g,x,b):null;case si:return x.key===S?d(v,g,x,b):null;case kn:return S=x._init,f(v,g,S(x._payload),b)}if(vo(x)||so(x))return S!==null?null:u(v,g,x,b,null);ql(v,x)}return null}function p(v,g,x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,l(g,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ll:return v=v.get(b.key===null?x:b.key)||null,c(g,v,b,S);case si:return v=v.get(b.key===null?x:b.key)||null,d(g,v,b,S);case kn:var k=b._init;return p(v,g,x,k(b._payload),S)}if(vo(b)||so(b))return v=v.get(x)||null,u(g,v,b,S,null);ql(g,b)}return null}function w(v,g,x,b){for(var S=null,k=null,T=g,C=g=0,D=null;T!==null&&C<x.length;C++){T.index>C?(D=T,T=null):D=T.sibling;var _=f(v,T,x[C],b);if(_===null){T===null&&(T=D);break}e&&T&&_.alternate===null&&t(v,T),g=i(_,g,C),k===null?S=_:k.sibling=_,k=_,T=D}if(C===x.length)return s(v,T),ct&&ga(v,C),S;if(T===null){for(;C<x.length;C++)T=m(v,x[C],b),T!==null&&(g=i(T,g,C),k===null?S=T:k.sibling=T,k=T);return ct&&ga(v,C),S}for(T=n(v,T);C<x.length;C++)D=p(T,v,C,x[C],b),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?C:D.key),g=i(D,g,C),k===null?S=D:k.sibling=D,k=D);return e&&T.forEach(function(R){return t(v,R)}),ct&&ga(v,C),S}function y(v,g,x,b){var S=so(x);if(typeof S!="function")throw Error(Z(150));if(x=S.call(x),x==null)throw Error(Z(151));for(var k=S=null,T=g,C=g=0,D=null,_=x.next();T!==null&&!_.done;C++,_=x.next()){T.index>C?(D=T,T=null):D=T.sibling;var R=f(v,T,_.value,b);if(R===null){T===null&&(T=D);break}e&&T&&R.alternate===null&&t(v,T),g=i(R,g,C),k===null?S=R:k.sibling=R,k=R,T=D}if(_.done)return s(v,T),ct&&ga(v,C),S;if(T===null){for(;!_.done;C++,_=x.next())_=m(v,_.value,b),_!==null&&(g=i(_,g,C),k===null?S=_:k.sibling=_,k=_);return ct&&ga(v,C),S}for(T=n(v,T);!_.done;C++,_=x.next())_=p(T,v,C,_.value,b),_!==null&&(e&&_.alternate!==null&&T.delete(_.key===null?C:_.key),g=i(_,g,C),k===null?S=_:k.sibling=_,k=_);return e&&T.forEach(function(P){return t(v,P)}),ct&&ga(v,C),S}function j(v,g,x,b){if(typeof x=="object"&&x!==null&&x.type===ri&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ll:e:{for(var S=x.key,k=g;k!==null;){if(k.key===S){if(S=x.type,S===ri){if(k.tag===7){s(v,k.sibling),g=a(k,x.props.children),g.return=v,v=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kn&&jg(S)===k.type){s(v,k.sibling),g=a(k,x.props),g.ref=oo(v,k,x),g.return=v,v=g;break e}s(v,k);break}else t(v,k);k=k.sibling}x.type===ri?(g=Aa(x.props.children,v.mode,b,x.key),g.return=v,v=g):(b=Sc(x.type,x.key,x.props,null,v.mode,b),b.ref=oo(v,g,x),b.return=v,v=b)}return o(v);case si:e:{for(k=x.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){s(v,g.sibling),g=a(g,x.children||[]),g.return=v,v=g;break e}else{s(v,g);break}else t(v,g);g=g.sibling}g=um(x,v.mode,b),g.return=v,v=g}return o(v);case kn:return k=x._init,j(v,g,k(x._payload),b)}if(vo(x))return w(v,g,x,b);if(so(x))return y(v,g,x,b);ql(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(s(v,g.sibling),g=a(g,x),g.return=v,v=g):(s(v,g),g=dm(x,v.mode,b),g.return=v,v=g),o(v)):s(v,g)}return j}var Ri=Gb(!0),Kb=Gb(!1),qc=da(null),Yc=null,ui=null,Zf=null;function Qf(){Zf=ui=Yc=null}function Xf(e){var t=qc.current;lt(qc),e._currentValue=t}function jh(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Ni(e,t){Yc=e,Zf=ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(js=!0),e.firstContext=null)}function Xs(e){var t=e._currentValue;if(Zf!==e)if(e={context:e,memoizedValue:t,next:null},ui===null){if(Yc===null)throw Error(Z(308));ui=e,Yc.dependencies={lanes:0,firstContext:e}}else ui=ui.next=e;return t}var Na=null;function Jf(e){Na===null?Na=[e]:Na.push(e)}function qb(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,Jf(t)):(s.next=a.next,a.next=s),t.interleaved=s,sn(e,n)}function sn(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Tn=!1;function ep(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,sn(e,s)}return a=n.interleaved,a===null?(t.next=t,Jf(n)):(t.next=a.next,a.next=t),n.interleaved=t,sn(e,s)}function yc(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Vf(e,s)}}function wg(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Zc(e,t,s,n){var a=e.updateQueue;Tn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(f=t,p=s,y.tag){case 1:if(w=y.payload,typeof w=="function"){m=w.call(p,m,f);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(p,m,f):w,f==null)break e;m=pt({},m,f);break e;case 2:Tn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Da|=o,e.lanes=o,e.memoizedState=m}}function Ng(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(Z(191,a));a.call(n)}}}var wl={},Rr=da(wl),Jo=da(wl),el=da(wl);function Sa(e){if(e===wl)throw Error(Z(174));return e}function tp(e,t){switch(rt(el,t),rt(Jo,e),rt(Rr,wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:th(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=th(t,e)}lt(Rr),rt(Rr,t)}function Mi(){lt(Rr),lt(Jo),lt(el)}function Zb(e){Sa(el.current);var t=Sa(Rr.current),s=th(t,e.type);t!==s&&(rt(Jo,e),rt(Rr,s))}function sp(e){Jo.current===e&&(lt(Rr),lt(Jo))}var mt=da(0);function Qc(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nm=[];function rp(){for(var e=0;e<nm.length;e++)nm[e]._workInProgressVersionPrimary=null;nm.length=0}var vc=pn.ReactCurrentDispatcher,am=pn.ReactCurrentBatchConfig,Ia=0,ft=null,Ot=null,Ut=null,Xc=!1,Ao=!1,tl=0,Qk=0;function Zt(){throw Error(Z(321))}function np(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!gr(e[s],t[s]))return!1;return!0}function ap(e,t,s,n,a,i){if(Ia=i,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vc.current=e===null||e.memoizedState===null?tT:sT,e=s(n,a),Ao){i=0;do{if(Ao=!1,tl=0,25<=i)throw Error(Z(301));i+=1,Ut=Ot=null,t.updateQueue=null,vc.current=rT,e=s(n,a)}while(Ao)}if(vc.current=Jc,t=Ot!==null&&Ot.next!==null,Ia=0,Ut=Ot=ft=null,Xc=!1,t)throw Error(Z(300));return e}function ip(){var e=tl!==0;return tl=0,e}function Cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ft.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function Js(){if(Ot===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=Ut===null?ft.memoizedState:Ut.next;if(t!==null)Ut=t,Ot=e;else{if(e===null)throw Error(Z(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ut===null?ft.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function sl(e,t){return typeof t=="function"?t(e):t}function im(e){var t=Js(),s=t.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=e;var n=Ot,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ia&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,ft.lanes|=u,Da|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,gr(n,t.memoizedState)||(js=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do i=a.lane,ft.lanes|=i,Da|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function om(e){var t=Js(),s=t.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);gr(i,t.memoizedState)||(js=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function Qb(){}function Xb(e,t){var s=ft,n=Js(),a=t(),i=!gr(n.memoizedState,a);if(i&&(n.memoizedState=a,js=!0),n=n.queue,op(tj.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||Ut!==null&&Ut.memoizedState.tag&1){if(s.flags|=2048,rl(9,ej.bind(null,s,n,a,t),void 0,null),$t===null)throw Error(Z(349));Ia&30||Jb(s,t,a)}return a}function Jb(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ej(e,t,s,n){t.value=s,t.getSnapshot=n,sj(t)&&rj(e)}function tj(e,t,s){return s(function(){sj(t)&&rj(e)})}function sj(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!gr(e,s)}catch{return!0}}function rj(e){var t=sn(e,1);t!==null&&fr(t,e,1,-1)}function Sg(e){var t=Cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:e},t.queue=e,e=e.dispatch=eT.bind(null,ft,e),[t.memoizedState,e]}function rl(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function nj(){return Js().memoizedState}function bc(e,t,s,n){var a=Cr();ft.flags|=e,a.memoizedState=rl(1|t,s,void 0,n===void 0?null:n)}function Zd(e,t,s,n){var a=Js();n=n===void 0?null:n;var i=void 0;if(Ot!==null){var o=Ot.memoizedState;if(i=o.destroy,n!==null&&np(n,o.deps)){a.memoizedState=rl(t,s,i,n);return}}ft.flags|=e,a.memoizedState=rl(1|t,s,i,n)}function Cg(e,t){return bc(8390656,8,e,t)}function op(e,t){return Zd(2048,8,e,t)}function aj(e,t){return Zd(4,2,e,t)}function ij(e,t){return Zd(4,4,e,t)}function oj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lj(e,t,s){return s=s!=null?s.concat([e]):null,Zd(4,4,oj.bind(null,t,e),s)}function lp(){}function cj(e,t){var s=Js();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&np(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function dj(e,t){var s=Js();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&np(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function uj(e,t,s){return Ia&21?(gr(s,t)||(s=xb(),ft.lanes|=s,Da|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,js=!0),e.memoizedState=s)}function Xk(e,t){var s=Qe;Qe=s!==0&&4>s?s:4,e(!0);var n=am.transition;am.transition={};try{e(!1),t()}finally{Qe=s,am.transition=n}}function mj(){return Js().memoizedState}function Jk(e,t,s){var n=Wn(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},hj(e))fj(t,s);else if(s=qb(e,t,s,n),s!==null){var a=os();fr(s,e,n,a),pj(s,t,n)}}function eT(e,t,s){var n=Wn(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(hj(e))fj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,gr(l,o)){var c=t.interleaved;c===null?(a.next=a,Jf(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=qb(e,t,a,n),s!==null&&(a=os(),fr(s,e,n,a),pj(s,t,n))}}function hj(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function fj(e,t){Ao=Xc=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function pj(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Vf(e,s)}}var Jc={readContext:Xs,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},tT={readContext:Xs,useCallback:function(e,t){return Cr().memoizedState=[e,t===void 0?null:t],e},useContext:Xs,useEffect:Cg,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,bc(4194308,4,oj.bind(null,t,e),s)},useLayoutEffect:function(e,t){return bc(4194308,4,e,t)},useInsertionEffect:function(e,t){return bc(4,2,e,t)},useMemo:function(e,t){var s=Cr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Cr();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Jk.bind(null,ft,e),[n.memoizedState,e]},useRef:function(e){var t=Cr();return e={current:e},t.memoizedState=e},useState:Sg,useDebugValue:lp,useDeferredValue:function(e){return Cr().memoizedState=e},useTransition:function(){var e=Sg(!1),t=e[0];return e=Xk.bind(null,e[1]),Cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=ft,a=Cr();if(ct){if(s===void 0)throw Error(Z(407));s=s()}else{if(s=t(),$t===null)throw Error(Z(349));Ia&30||Jb(n,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,Cg(tj.bind(null,n,i,e),[e]),n.flags|=2048,rl(9,ej.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=Cr(),t=$t.identifierPrefix;if(ct){var s=Gr,n=Hr;s=(n&~(1<<32-hr(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=tl++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Qk++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sT={readContext:Xs,useCallback:cj,useContext:Xs,useEffect:op,useImperativeHandle:lj,useInsertionEffect:aj,useLayoutEffect:ij,useMemo:dj,useReducer:im,useRef:nj,useState:function(){return im(sl)},useDebugValue:lp,useDeferredValue:function(e){var t=Js();return uj(t,Ot.memoizedState,e)},useTransition:function(){var e=im(sl)[0],t=Js().memoizedState;return[e,t]},useMutableSource:Qb,useSyncExternalStore:Xb,useId:mj,unstable_isNewReconciler:!1},rT={readContext:Xs,useCallback:cj,useContext:Xs,useEffect:op,useImperativeHandle:lj,useInsertionEffect:aj,useLayoutEffect:ij,useMemo:dj,useReducer:om,useRef:nj,useState:function(){return om(sl)},useDebugValue:lp,useDeferredValue:function(e){var t=Js();return Ot===null?t.memoizedState=e:uj(t,Ot.memoizedState,e)},useTransition:function(){var e=om(sl)[0],t=Js().memoizedState;return[e,t]},useMutableSource:Qb,useSyncExternalStore:Xb,useId:mj,unstable_isNewReconciler:!1};function ir(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function wh(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:pt({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Qd={isMounted:function(e){return(e=e._reactInternals)?$a(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=os(),a=Wn(e),i=Zr(n,a);i.payload=t,s!=null&&(i.callback=s),t=zn(e,i,a),t!==null&&(fr(t,e,a,n),yc(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=os(),a=Wn(e),i=Zr(n,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=zn(e,i,a),t!==null&&(fr(t,e,a,n),yc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=os(),n=Wn(e),a=Zr(s,n);a.tag=2,t!=null&&(a.callback=t),t=zn(e,a,n),t!==null&&(fr(t,e,n,s),yc(t,e,n))}};function kg(e,t,s,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Yo(s,n)||!Yo(a,i):!0}function xj(e,t,s){var n=!1,a=Qn,i=t.contextType;return typeof i=="object"&&i!==null?i=Xs(i):(a=Ss(t)?Ra:ts.current,n=t.contextTypes,i=(n=n!=null)?Ai(e,a):Qn),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tg(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Qd.enqueueReplaceState(t,t.state,null)}function Nh(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},ep(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Xs(i):(i=Ss(t)?Ra:ts.current,a.context=Ai(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wh(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Qd.enqueueReplaceState(a,a.state,null),Zc(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ii(e,t){try{var s="",n=t;do s+=_C(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function lm(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Sh(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var nT=typeof WeakMap=="function"?WeakMap:Map;function gj(e,t,s){s=Zr(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){td||(td=!0,Ih=n),Sh(e,t)},s}function yj(e,t,s){s=Zr(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Sh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Sh(e,t),typeof n!="function"&&($n===null?$n=new Set([this]):$n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Pg(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new nT;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=yT.bind(null,e,t,s),t.then(e,e))}function Eg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ag(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Zr(-1,1),t.tag=2,zn(s,t,1))),s.lanes|=1),e)}var aT=pn.ReactCurrentOwner,js=!1;function rs(e,t,s,n){t.child=e===null?Kb(t,null,s,n):Ri(t,e.child,s,n)}function _g(e,t,s,n,a){s=s.render;var i=t.ref;return Ni(t,a),n=ap(e,t,s,n,i,a),s=ip(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rn(e,t,a)):(ct&&s&&Kf(t),t.flags|=1,rs(e,t,n,a),t.child)}function Rg(e,t,s,n,a){if(e===null){var i=s.type;return typeof i=="function"&&!xp(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,vj(e,t,i,n,a)):(e=Sc(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:Yo,s(o,n)&&e.ref===t.ref)return rn(e,t,a)}return t.flags|=1,e=Hn(i,n),e.ref=t.ref,e.return=t,t.child=e}function vj(e,t,s,n,a){if(e!==null){var i=e.memoizedProps;if(Yo(i,n)&&e.ref===t.ref)if(js=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(js=!0);else return t.lanes=e.lanes,rn(e,t,a)}return Ch(e,t,s,n,a)}function bj(e,t,s){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(hi,Ps),Ps|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(hi,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,rt(hi,Ps),Ps|=n}else i!==null?(n=i.baseLanes|s,t.memoizedState=null):n=s,rt(hi,Ps),Ps|=n;return rs(e,t,a,s),t.child}function jj(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ch(e,t,s,n,a){var i=Ss(s)?Ra:ts.current;return i=Ai(t,i),Ni(t,a),s=ap(e,t,s,n,i,a),n=ip(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rn(e,t,a)):(ct&&n&&Kf(t),t.flags|=1,rs(e,t,s,a),t.child)}function Mg(e,t,s,n,a){if(Ss(s)){var i=!0;Hc(t)}else i=!1;if(Ni(t,a),t.stateNode===null)jc(e,t),xj(t,s,n),Nh(t,s,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Xs(d):(d=Ss(s)?Ra:ts.current,d=Ai(t,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Tg(t,o,n,d),Tn=!1;var f=t.memoizedState;o.state=f,Zc(t,n,o,a),c=t.memoizedState,l!==n||f!==c||Ns.current||Tn?(typeof u=="function"&&(wh(t,s,u,n),c=t.memoizedState),(l=Tn||kg(t,s,l,n,f,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Yb(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ir(t.type,l),o.props=d,m=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Xs(c):(c=Ss(s)?Ra:ts.current,c=Ai(t,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&Tg(t,o,n,c),Tn=!1,f=t.memoizedState,o.state=f,Zc(t,n,o,a);var w=t.memoizedState;l!==m||f!==w||Ns.current||Tn?(typeof p=="function"&&(wh(t,s,p,n),w=t.memoizedState),(d=Tn||kg(t,s,d,n,f,w,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return kh(e,t,s,n,i,a)}function kh(e,t,s,n,a,i){jj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&yg(t,s,!1),rn(e,t,i);n=t.stateNode,aT.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ri(t,e.child,null,i),t.child=Ri(t,null,l,i)):rs(e,t,l,i),t.memoizedState=n.state,a&&yg(t,s,!0),t.child}function wj(e){var t=e.stateNode;t.pendingContext?gg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gg(e,t.context,!1),tp(e,t.containerInfo)}function Ig(e,t,s,n,a){return _i(),Yf(a),t.flags|=256,rs(e,t,s,n),t.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Ph(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nj(e,t,s){var n=t.pendingProps,a=mt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),rt(mt,a&1),e===null)return bh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=eu(o,n,0,null),e=Aa(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ph(s),t.memoizedState=Th,e):cp(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return iT(e,t,o,n,l,a,s);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Hn(l,i):(i=Aa(i,o,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Ph(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Th,n}return i=e.child,e=i.sibling,n=Hn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function cp(e,t){return t=eu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yl(e,t,s,n){return n!==null&&Yf(n),Ri(t,e.child,null,s),e=cp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iT(e,t,s,n,a,i,o){if(s)return t.flags&256?(t.flags&=-257,n=lm(Error(Z(422))),Yl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=eu({mode:"visible",children:n.children},a,0,null),i=Aa(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ri(t,e.child,null,o),t.child.memoizedState=Ph(o),t.memoizedState=Th,i);if(!(t.mode&1))return Yl(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Z(419)),n=lm(i,n,void 0),Yl(e,t,o,n)}if(l=(o&e.childLanes)!==0,js||l){if(n=$t,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,sn(e,a),fr(n,e,a,-1))}return pp(),n=lm(Error(Z(421))),Yl(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=vT.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,_s=Bn(a.nextSibling),Rs=t,ct=!0,cr=null,e!==null&&(Ks[qs++]=Hr,Ks[qs++]=Gr,Ks[qs++]=Ma,Hr=e.id,Gr=e.overflow,Ma=t),t=cp(t,n.children),t.flags|=4096,t)}function Dg(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jh(e.return,t,s)}function cm(e,t,s,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function Sj(e,t,s){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(rs(e,t,n.children,s),n=mt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dg(e,s,t);else if(e.tag===19)Dg(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(rt(mt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Qc(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),cm(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Qc(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}cm(t,!0,s,null,i);break;case"together":cm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Da|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,s=Hn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Hn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function oT(e,t,s){switch(t.tag){case 3:wj(t),_i();break;case 5:Zb(t);break;case 1:Ss(t.type)&&Hc(t);break;case 4:tp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;rt(qc,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(rt(mt,mt.current&1),t.flags|=128,null):s&t.child.childLanes?Nj(e,t,s):(rt(mt,mt.current&1),e=rn(e,t,s),e!==null?e.sibling:null);rt(mt,mt.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Sj(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),rt(mt,mt.current),n)break;return null;case 22:case 23:return t.lanes=0,bj(e,t,s)}return rn(e,t,s)}var Cj,Eh,kj,Tj;Cj=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Eh=function(){};kj=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Sa(Rr.current);var i=null;switch(s){case"input":a=Qm(e,a),n=Qm(e,n),i=[];break;case"select":a=pt({},a,{value:void 0}),n=pt({},n,{value:void 0}),i=[];break;case"textarea":a=eh(e,a),n=eh(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$c)}sh(s,n);var o;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(zo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(zo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ot("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Tj=function(e,t,s,n){s!==n&&(t.flags|=4)};function lo(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function lT(e,t,s){var n=t.pendingProps;switch(qf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return Ss(t.type)&&Wc(),Qt(t),null;case 3:return n=t.stateNode,Mi(),lt(Ns),lt(ts),rp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(Lh(cr),cr=null))),Eh(e,t),Qt(t),null;case 5:sp(t);var a=Sa(el.current);if(s=t.type,e!==null&&t.stateNode!=null)kj(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return Qt(t),null}if(e=Sa(Rr.current),Kl(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[Tr]=t,n[Xo]=i,e=(t.mode&1)!==0,s){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(a=0;a<jo.length;a++)ot(jo[a],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":Wx(n,i),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ot("invalid",n);break;case"textarea":Gx(n,i),ot("invalid",n)}sh(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Gl(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Gl(n.textContent,l,e),a=["children",""+l]):zo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ot("scroll",n)}switch(s){case"input":Fl(n),Hx(n,i,!0);break;case"textarea":Fl(n),Kx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$c)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Tr]=t,e[Xo]=n,Cj(e,t,!1,!1),t.stateNode=e;e:{switch(o=rh(s,n),s){case"dialog":ot("cancel",e),ot("close",e),a=n;break;case"iframe":case"object":case"embed":ot("load",e),a=n;break;case"video":case"audio":for(a=0;a<jo.length;a++)ot(jo[a],e);a=n;break;case"source":ot("error",e),a=n;break;case"img":case"image":case"link":ot("error",e),ot("load",e),a=n;break;case"details":ot("toggle",e),a=n;break;case"input":Wx(e,n),a=Qm(e,n),ot("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pt({},n,{value:void 0}),ot("invalid",e);break;case"textarea":Gx(e,n),a=eh(e,n),ot("invalid",e);break;default:a=n}sh(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?nb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sb(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&$o(e,c):typeof c=="number"&&$o(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ot("scroll",e):c!=null&&Mf(e,i,c,o))}switch(s){case"input":Fl(e),Hx(e,n,!1);break;case"textarea":Fl(e),Kx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?vi(e,!!n.multiple,i,!1):n.defaultValue!=null&&vi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=$c)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)Tj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(s=Sa(el.current),Sa(Rr.current),Kl(t)){if(n=t.stateNode,s=t.memoizedProps,n[Tr]=t,(i=n.nodeValue!==s)&&(e=Rs,e!==null))switch(e.tag){case 3:Gl(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gl(n.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Tr]=t,t.stateNode=n}return Qt(t),null;case 13:if(lt(mt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&_s!==null&&t.mode&1&&!(t.flags&128))Hb(),_i(),t.flags|=98560,i=!1;else if(i=Kl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Tr]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),i=!1}else cr!==null&&(Lh(cr),cr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?Lt===0&&(Lt=3):pp())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return Mi(),Eh(e,t),e===null&&Zo(t.stateNode.containerInfo),Qt(t),null;case 10:return Xf(t.type._context),Qt(t),null;case 17:return Ss(t.type)&&Wc(),Qt(t),null;case 19:if(lt(mt),i=t.memoizedState,i===null)return Qt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)lo(i,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qc(e),o!==null){for(t.flags|=128,lo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)i=s,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return rt(mt,mt.current&1|2),t.child}e=e.sibling}i.tail!==null&&jt()>Di&&(t.flags|=128,n=!0,lo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qc(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ct)return Qt(t),null}else 2*jt()-i.renderingStartTime>Di&&s!==1073741824&&(t.flags|=128,n=!0,lo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,s=mt.current,rt(mt,n?s&1|2:s&1),t):(Qt(t),null);case 22:case 23:return fp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ps&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function cT(e,t){switch(qf(t),t.tag){case 1:return Ss(t.type)&&Wc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),lt(Ns),lt(ts),rp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sp(t),null;case 13:if(lt(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(mt),null;case 4:return Mi(),null;case 10:return Xf(t.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var Zl=!1,Jt=!1,dT=typeof WeakSet=="function"?WeakSet:Set,ue=null;function mi(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){yt(e,t,n)}else s.current=null}function Ah(e,t,s){try{s()}catch(n){yt(e,t,n)}}var Og=!1;function uT(e,t){if(hh=Uc,e=Rb(),Gf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var p;m!==s||a!==0&&m.nodeType!==3||(l=o+a),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)f=m,m=p;for(;;){if(m===e)break t;if(f===s&&++d===a&&(l=o),f===i&&++u===n&&(c=o),(p=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(fh={focusedElem:e,selectionRange:s},Uc=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,j=w.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:ir(t.type,y),j);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(b){yt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return w=Og,Og=!1,w}function _o(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ah(t,s,i)}a=a.next}while(a!==n)}}function Xd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function _h(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Pj(e){var t=e.alternate;t!==null&&(e.alternate=null,Pj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Xo],delete t[gh],delete t[Kk],delete t[qk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ej(e){return e.tag===5||e.tag===3||e.tag===4}function Lg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ej(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rh(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=$c));else if(n!==4&&(e=e.child,e!==null))for(Rh(e,t,s),e=e.sibling;e!==null;)Rh(e,t,s),e=e.sibling}function Mh(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mh(e,t,s),e=e.sibling;e!==null;)Mh(e,t,s),e=e.sibling}var Ht=null,lr=!1;function bn(e,t,s){for(s=s.child;s!==null;)Aj(e,t,s),s=s.sibling}function Aj(e,t,s){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Wd,s)}catch{}switch(s.tag){case 5:Jt||mi(s,t);case 6:var n=Ht,a=lr;Ht=null,bn(e,t,s),Ht=n,lr=a,Ht!==null&&(lr?(e=Ht,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ht.removeChild(s.stateNode));break;case 18:Ht!==null&&(lr?(e=Ht,s=s.stateNode,e.nodeType===8?sm(e.parentNode,s):e.nodeType===1&&sm(e,s),Ko(e)):sm(Ht,s.stateNode));break;case 4:n=Ht,a=lr,Ht=s.stateNode.containerInfo,lr=!0,bn(e,t,s),Ht=n,lr=a;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ah(s,t,o),a=a.next}while(a!==n)}bn(e,t,s);break;case 1:if(!Jt&&(mi(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){yt(s,t,l)}bn(e,t,s);break;case 21:bn(e,t,s);break;case 22:s.mode&1?(Jt=(n=Jt)||s.memoizedState!==null,bn(e,t,s),Jt=n):bn(e,t,s);break;default:bn(e,t,s)}}function Fg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new dT),t.forEach(function(n){var a=bT.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function nr(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ht=l.stateNode,lr=!1;break e;case 3:Ht=l.stateNode.containerInfo,lr=!0;break e;case 4:Ht=l.stateNode.containerInfo,lr=!0;break e}l=l.return}if(Ht===null)throw Error(Z(160));Aj(i,o,a),Ht=null,lr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){yt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_j(t,e),t=t.sibling}function _j(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),Nr(e),n&4){try{_o(3,e,e.return),Xd(3,e)}catch(y){yt(e,e.return,y)}try{_o(5,e,e.return)}catch(y){yt(e,e.return,y)}}break;case 1:nr(t,e),Nr(e),n&512&&s!==null&&mi(s,s.return);break;case 5:if(nr(t,e),Nr(e),n&512&&s!==null&&mi(s,s.return),e.flags&32){var a=e.stateNode;try{$o(a,"")}catch(y){yt(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jv(a,i),rh(l,o);var d=rh(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?nb(a,m):u==="dangerouslySetInnerHTML"?sb(a,m):u==="children"?$o(a,m):Mf(a,u,m,d)}switch(l){case"input":Xm(a,i);break;case"textarea":eb(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?vi(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?vi(a,!!i.multiple,i.defaultValue,!0):vi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Xo]=i}catch(y){yt(e,e.return,y)}}break;case 6:if(nr(t,e),Nr(e),n&4){if(e.stateNode===null)throw Error(Z(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){yt(e,e.return,y)}}break;case 3:if(nr(t,e),Nr(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(y){yt(e,e.return,y)}break;case 4:nr(t,e),Nr(e);break;case 13:nr(t,e),Nr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(mp=jt())),n&4&&Fg(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Jt=(d=Jt)||u,nr(t,e),Jt=d):nr(t,e),Nr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ue=e,u=e.child;u!==null;){for(m=ue=u;ue!==null;){switch(f=ue,p=f.child,f.tag){case 0:case 11:case 14:case 15:_o(4,f,f.return);break;case 1:mi(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,s=f.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){yt(n,s,y)}}break;case 5:mi(f,f.return);break;case 22:if(f.memoizedState!==null){Ug(m);continue}}p!==null?(p.return=f,ue=p):Ug(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rb("display",o))}catch(y){yt(e,e.return,y)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(y){yt(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:nr(t,e),Nr(e),n&4&&Fg(e);break;case 21:break;default:nr(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Ej(s)){var n=s;break e}s=s.return}throw Error(Z(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($o(a,""),n.flags&=-33);var i=Lg(e);Mh(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Lg(e);Rh(e,l,o);break;default:throw Error(Z(161))}}catch(c){yt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mT(e,t,s){ue=e,Rj(e)}function Rj(e,t,s){for(var n=(e.mode&1)!==0;ue!==null;){var a=ue,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Zl;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Jt;l=Zl;var d=Jt;if(Zl=o,(Jt=c)&&!d)for(ue=a;ue!==null;)o=ue,c=o.child,o.tag===22&&o.memoizedState!==null?Bg(a):c!==null?(c.return=o,ue=c):Bg(a);for(;i!==null;)ue=i,Rj(i),i=i.sibling;ue=a,Zl=l,Jt=d}Vg(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ue=i):Vg(e)}}function Vg(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jt||Xd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jt)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:ir(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ng(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Ng(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Ko(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Jt||t.flags&512&&_h(t)}catch(f){yt(t,t.return,f)}}if(t===e){ue=null;break}if(s=t.sibling,s!==null){s.return=t.return,ue=s;break}ue=t.return}}function Ug(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ue=s;break}ue=t.return}}function Bg(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Xd(4,t)}catch(c){yt(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){yt(t,a,c)}}var i=t.return;try{_h(t)}catch(c){yt(t,i,c)}break;case 5:var o=t.return;try{_h(t)}catch(c){yt(t,o,c)}}}catch(c){yt(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var hT=Math.ceil,ed=pn.ReactCurrentDispatcher,dp=pn.ReactCurrentOwner,Zs=pn.ReactCurrentBatchConfig,ze=0,$t=null,Mt=null,qt=0,Ps=0,hi=da(0),Lt=0,nl=null,Da=0,Jd=0,up=0,Ro=null,ys=null,mp=0,Di=1/0,$r=null,td=!1,Ih=null,$n=null,Ql=!1,On=null,sd=0,Mo=0,Dh=null,wc=-1,Nc=0;function os(){return ze&6?jt():wc!==-1?wc:wc=jt()}function Wn(e){return e.mode&1?ze&2&&qt!==0?qt&-qt:Zk.transition!==null?(Nc===0&&(Nc=xb()),Nc):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:Nb(e.type)),e):1}function fr(e,t,s,n){if(50<Mo)throw Mo=0,Dh=null,Error(Z(185));vl(e,s,n),(!(ze&2)||e!==$t)&&(e===$t&&(!(ze&2)&&(Jd|=s),Lt===4&&Mn(e,qt)),Cs(e,n),s===1&&ze===0&&!(t.mode&1)&&(Di=jt()+500,Yd&&ua()))}function Cs(e,t){var s=e.callbackNode;ZC(e,t);var n=Vc(e,e===$t?qt:0);if(n===0)s!==null&&Zx(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Zx(s),t===1)e.tag===0?Yk(zg.bind(null,e)):zb(zg.bind(null,e)),Hk(function(){!(ze&6)&&ua()}),s=null;else{switch(gb(n)){case 1:s=Ff;break;case 4:s=fb;break;case 16:s=Fc;break;case 536870912:s=pb;break;default:s=Fc}s=Uj(s,Mj.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Mj(e,t){if(wc=-1,Nc=0,ze&6)throw Error(Z(327));var s=e.callbackNode;if(Si()&&e.callbackNode!==s)return null;var n=Vc(e,e===$t?qt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rd(e,n);else{t=n;var a=ze;ze|=2;var i=Dj();($t!==e||qt!==t)&&($r=null,Di=jt()+500,Ea(e,t));do try{xT();break}catch(l){Ij(e,l)}while(!0);Qf(),ed.current=i,ze=a,Mt!==null?t=0:($t=null,qt=0,t=Lt)}if(t!==0){if(t===2&&(a=lh(e),a!==0&&(n=a,t=Oh(e,a))),t===1)throw s=nl,Ea(e,0),Mn(e,n),Cs(e,jt()),s;if(t===6)Mn(e,n);else{if(a=e.current.alternate,!(n&30)&&!fT(a)&&(t=rd(e,n),t===2&&(i=lh(e),i!==0&&(n=i,t=Oh(e,i))),t===1))throw s=nl,Ea(e,0),Mn(e,n),Cs(e,jt()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:ya(e,ys,$r);break;case 3:if(Mn(e,n),(n&130023424)===n&&(t=mp+500-jt(),10<t)){if(Vc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){os(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=xh(ya.bind(null,e,ys,$r),t);break}ya(e,ys,$r);break;case 4:if(Mn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-hr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hT(n/1960))-n,10<n){e.timeoutHandle=xh(ya.bind(null,e,ys,$r),n);break}ya(e,ys,$r);break;case 5:ya(e,ys,$r);break;default:throw Error(Z(329))}}}return Cs(e,jt()),e.callbackNode===s?Mj.bind(null,e):null}function Oh(e,t){var s=Ro;return e.current.memoizedState.isDehydrated&&(Ea(e,t).flags|=256),e=rd(e,t),e!==2&&(t=ys,ys=s,t!==null&&Lh(t)),e}function Lh(e){ys===null?ys=e:ys.push.apply(ys,e)}function fT(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!gr(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~up,t&=~Jd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-hr(t),n=1<<s;e[s]=-1,t&=~n}}function zg(e){if(ze&6)throw Error(Z(327));Si();var t=Vc(e,0);if(!(t&1))return Cs(e,jt()),null;var s=rd(e,t);if(e.tag!==0&&s===2){var n=lh(e);n!==0&&(t=n,s=Oh(e,n))}if(s===1)throw s=nl,Ea(e,0),Mn(e,t),Cs(e,jt()),s;if(s===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,ys,$r),Cs(e,jt()),null}function hp(e,t){var s=ze;ze|=1;try{return e(t)}finally{ze=s,ze===0&&(Di=jt()+500,Yd&&ua())}}function Oa(e){On!==null&&On.tag===0&&!(ze&6)&&Si();var t=ze;ze|=1;var s=Zs.transition,n=Qe;try{if(Zs.transition=null,Qe=1,e)return e()}finally{Qe=n,Zs.transition=s,ze=t,!(ze&6)&&ua()}}function fp(){Ps=hi.current,lt(hi)}function Ea(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Wk(s)),Mt!==null)for(s=Mt.return;s!==null;){var n=s;switch(qf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wc();break;case 3:Mi(),lt(Ns),lt(ts),rp();break;case 5:sp(n);break;case 4:Mi();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:Xf(n.type._context);break;case 22:case 23:fp()}s=s.return}if($t=e,Mt=e=Hn(e.current,null),qt=Ps=t,Lt=0,nl=null,up=Jd=Da=0,ys=Ro=null,Na!==null){for(t=0;t<Na.length;t++)if(s=Na[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}s.pending=n}Na=null}return e}function Ij(e,t){do{var s=Mt;try{if(Qf(),vc.current=Jc,Xc){for(var n=ft.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Xc=!1}if(Ia=0,Ut=Ot=ft=null,Ao=!1,tl=0,dp.current=null,s===null||s.return===null){Lt=1,nl=t,Mt=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Eg(o);if(p!==null){p.flags&=-257,Ag(p,o,l,i,t),p.mode&1&&Pg(i,d,t),t=p,c=d;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Pg(i,d,t),pp();break e}c=Error(Z(426))}}else if(ct&&l.mode&1){var j=Eg(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ag(j,o,l,i,t),Yf(Ii(c,l));break e}}i=c=Ii(c,l),Lt!==4&&(Lt=2),Ro===null?Ro=[i]:Ro.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=gj(i,c,t);wg(i,v);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($n===null||!$n.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=yj(i,l,t);wg(i,b);break e}}i=i.return}while(i!==null)}Lj(s)}catch(S){t=S,Mt===s&&s!==null&&(Mt=s=s.return);continue}break}while(!0)}function Dj(){var e=ed.current;return ed.current=Jc,e===null?Jc:e}function pp(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),$t===null||!(Da&268435455)&&!(Jd&268435455)||Mn($t,qt)}function rd(e,t){var s=ze;ze|=2;var n=Dj();($t!==e||qt!==t)&&($r=null,Ea(e,t));do try{pT();break}catch(a){Ij(e,a)}while(!0);if(Qf(),ze=s,ed.current=n,Mt!==null)throw Error(Z(261));return $t=null,qt=0,Lt}function pT(){for(;Mt!==null;)Oj(Mt)}function xT(){for(;Mt!==null&&!BC();)Oj(Mt)}function Oj(e){var t=Vj(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,t===null?Lj(e):Mt=t,dp.current=null}function Lj(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=cT(s,t),s!==null){s.flags&=32767,Mt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,Mt=null;return}}else if(s=lT(s,t,Ps),s!==null){Mt=s;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Lt===0&&(Lt=5)}function ya(e,t,s){var n=Qe,a=Zs.transition;try{Zs.transition=null,Qe=1,gT(e,t,s,n)}finally{Zs.transition=a,Qe=n}return null}function gT(e,t,s,n){do Si();while(On!==null);if(ze&6)throw Error(Z(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(QC(e,i),e===$t&&(Mt=$t=null,qt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ql||(Ql=!0,Uj(Fc,function(){return Si(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Zs.transition,Zs.transition=null;var o=Qe;Qe=1;var l=ze;ze|=4,dp.current=null,uT(e,s),_j(s,e),Lk(fh),Uc=!!hh,fh=hh=null,e.current=s,mT(s),zC(),ze=l,Qe=o,Zs.transition=i}else e.current=s;if(Ql&&(Ql=!1,On=e,sd=a),i=e.pendingLanes,i===0&&($n=null),HC(s.stateNode),Cs(e,jt()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(td)throw td=!1,e=Ih,Ih=null,e;return sd&1&&e.tag!==0&&Si(),i=e.pendingLanes,i&1?e===Dh?Mo++:(Mo=0,Dh=e):Mo=0,ua(),null}function Si(){if(On!==null){var e=gb(sd),t=Zs.transition,s=Qe;try{if(Zs.transition=null,Qe=16>e?16:e,On===null)var n=!1;else{if(e=On,On=null,sd=0,ze&6)throw Error(Z(331));var a=ze;for(ze|=4,ue=e.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ue=d;ue!==null;){var u=ue;switch(u.tag){case 0:case 11:case 15:_o(8,u,i)}var m=u.child;if(m!==null)m.return=u,ue=m;else for(;ue!==null;){u=ue;var f=u.sibling,p=u.return;if(Pj(u),u===d){ue=null;break}if(f!==null){f.return=p,ue=f;break}ue=p}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var j=y.sibling;y.sibling=null,y=j}while(y!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_o(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ue=v;break e}ue=i.return}}var g=e.current;for(ue=g;ue!==null;){o=ue;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ue=x;else e:for(o=g;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xd(9,l)}}catch(S){yt(l,l.return,S)}if(l===o){ue=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ue=b;break e}ue=l.return}}if(ze=a,ua(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Wd,e)}catch{}n=!0}return n}finally{Qe=s,Zs.transition=t}}return!1}function $g(e,t,s){t=Ii(s,t),t=gj(e,t,1),e=zn(e,t,1),t=os(),e!==null&&(vl(e,1,t),Cs(e,t))}function yt(e,t,s){if(e.tag===3)$g(e,e,s);else for(;t!==null;){if(t.tag===3){$g(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($n===null||!$n.has(n))){e=Ii(s,e),e=yj(t,e,1),t=zn(t,e,1),e=os(),t!==null&&(vl(t,1,e),Cs(t,e));break}}t=t.return}}function yT(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=os(),e.pingedLanes|=e.suspendedLanes&s,$t===e&&(qt&s)===s&&(Lt===4||Lt===3&&(qt&130023424)===qt&&500>jt()-mp?Ea(e,0):up|=s),Cs(e,t)}function Fj(e,t){t===0&&(e.mode&1?(t=Bl,Bl<<=1,!(Bl&130023424)&&(Bl=4194304)):t=1);var s=os();e=sn(e,t),e!==null&&(vl(e,t,s),Cs(e,s))}function vT(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Fj(e,s)}function bT(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),Fj(e,s)}var Vj;Vj=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ns.current)js=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return js=!1,oT(e,t,s);js=!!(e.flags&131072)}else js=!1,ct&&t.flags&1048576&&$b(t,Kc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jc(e,t),e=t.pendingProps;var a=Ai(t,ts.current);Ni(t,s),a=ap(null,t,n,e,a,s);var i=ip();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ss(n)?(i=!0,Hc(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ep(t),a.updater=Qd,t.stateNode=a,a._reactInternals=t,Nh(t,n,e,s),t=kh(null,t,n,!0,i,s)):(t.tag=0,ct&&i&&Kf(t),rs(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(jc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=wT(n),e=ir(n,e),a){case 0:t=Ch(null,t,n,e,s);break e;case 1:t=Mg(null,t,n,e,s);break e;case 11:t=_g(null,t,n,e,s);break e;case 14:t=Rg(null,t,n,ir(n.type,e),s);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ir(n,a),Ch(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ir(n,a),Mg(e,t,n,a,s);case 3:e:{if(wj(t),e===null)throw Error(Z(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Yb(e,t),Zc(t,n,null,s);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ii(Error(Z(423)),t),t=Ig(e,t,n,s,a);break e}else if(n!==a){a=Ii(Error(Z(424)),t),t=Ig(e,t,n,s,a);break e}else for(_s=Bn(t.stateNode.containerInfo.firstChild),Rs=t,ct=!0,cr=null,s=Kb(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_i(),n===a){t=rn(e,t,s);break e}rs(e,t,n,s)}t=t.child}return t;case 5:return Zb(t),e===null&&bh(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,ph(n,a)?o=null:i!==null&&ph(n,i)&&(t.flags|=32),jj(e,t),rs(e,t,o,s),t.child;case 6:return e===null&&bh(t),null;case 13:return Nj(e,t,s);case 4:return tp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ri(t,null,n,s):rs(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ir(n,a),_g(e,t,n,a,s);case 7:return rs(e,t,t.pendingProps,s),t.child;case 8:return rs(e,t,t.pendingProps.children,s),t.child;case 12:return rs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,rt(qc,n._currentValue),n._currentValue=o,i!==null)if(gr(i.value,o)){if(i.children===a.children&&!Ns.current){t=rn(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Zr(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),jh(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),jh(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rs(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ni(t,s),a=Xs(a),n=n(a),t.flags|=1,rs(e,t,n,s),t.child;case 14:return n=t.type,a=ir(n,t.pendingProps),a=ir(n.type,a),Rg(e,t,n,a,s);case 15:return vj(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ir(n,a),jc(e,t),t.tag=1,Ss(n)?(e=!0,Hc(t)):e=!1,Ni(t,s),xj(t,n,a),Nh(t,n,a,s),kh(null,t,n,!0,e,s);case 19:return Sj(e,t,s);case 22:return bj(e,t,s)}throw Error(Z(156,t.tag))};function Uj(e,t){return hb(e,t)}function jT(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(e,t,s,n){return new jT(e,t,s,n)}function xp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wT(e){if(typeof e=="function")return xp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Df)return 11;if(e===Of)return 14}return 2}function Hn(e,t){var s=e.alternate;return s===null?(s=Ys(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Sc(e,t,s,n,a,i){var o=2;if(n=e,typeof e=="function")xp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ri:return Aa(s.children,a,i,t);case If:o=8,a|=8;break;case Km:return e=Ys(12,s,t,a|2),e.elementType=Km,e.lanes=i,e;case qm:return e=Ys(13,s,t,a),e.elementType=qm,e.lanes=i,e;case Ym:return e=Ys(19,s,t,a),e.elementType=Ym,e.lanes=i,e;case Zv:return eu(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qv:o=10;break e;case Yv:o=9;break e;case Df:o=11;break e;case Of:o=14;break e;case kn:o=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Ys(o,s,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Aa(e,t,s,n){return e=Ys(7,e,n,t),e.lanes=s,e}function eu(e,t,s,n){return e=Ys(22,e,n,t),e.elementType=Zv,e.lanes=s,e.stateNode={isHidden:!1},e}function dm(e,t,s){return e=Ys(6,e,null,t),e.lanes=s,e}function um(e,t,s){return t=Ys(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NT(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function gp(e,t,s,n,a,i,o,l,c){return e=new NT(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ys(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ep(i),e}function ST(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Bj(e){if(!e)return Qn;e=e._reactInternals;e:{if($a(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ss(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var s=e.type;if(Ss(s))return Bb(e,s,t)}return t}function zj(e,t,s,n,a,i,o,l,c){return e=gp(s,n,!0,e,a,i,o,l,c),e.context=Bj(null),s=e.current,n=os(),a=Wn(s),i=Zr(n,a),i.callback=t??null,zn(s,i,a),e.current.lanes=a,vl(e,a,n),Cs(e,n),e}function tu(e,t,s,n){var a=t.current,i=os(),o=Wn(a);return s=Bj(s),t.context===null?t.context=s:t.pendingContext=s,t=Zr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zn(a,t,o),e!==null&&(fr(e,a,o,i),yc(e,a,o)),o}function nd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function yp(e,t){Wg(e,t),(e=e.alternate)&&Wg(e,t)}function CT(){return null}var $j=typeof reportError=="function"?reportError:function(e){console.error(e)};function vp(e){this._internalRoot=e}su.prototype.render=vp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));tu(e,t,null,null)};su.prototype.unmount=vp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oa(function(){tu(null,e,null,null)}),t[tn]=null}};function su(e){this._internalRoot=e}su.prototype.unstable_scheduleHydration=function(e){if(e){var t=bb();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Rn.length&&t!==0&&t<Rn[s].priority;s++);Rn.splice(s,0,e),s===0&&wb(e)}};function bp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function kT(e,t,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=nd(o);i.call(d)}}var o=zj(t,n,e,0,null,!1,!1,"",Hg);return e._reactRootContainer=o,e[tn]=o.current,Zo(e.nodeType===8?e.parentNode:e),Oa(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=nd(c);l.call(d)}}var c=gp(e,0,!1,null,null,!1,!1,"",Hg);return e._reactRootContainer=c,e[tn]=c.current,Zo(e.nodeType===8?e.parentNode:e),Oa(function(){tu(t,c,s,n)}),c}function nu(e,t,s,n,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=nd(o);l.call(c)}}tu(t,o,e,a)}else o=kT(s,t,e,a,n);return nd(o)}yb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=bo(t.pendingLanes);s!==0&&(Vf(t,s|1),Cs(t,jt()),!(ze&6)&&(Di=jt()+500,ua()))}break;case 13:Oa(function(){var n=sn(e,1);if(n!==null){var a=os();fr(n,e,1,a)}}),yp(e,1)}};Uf=function(e){if(e.tag===13){var t=sn(e,134217728);if(t!==null){var s=os();fr(t,e,134217728,s)}yp(e,134217728)}};vb=function(e){if(e.tag===13){var t=Wn(e),s=sn(e,t);if(s!==null){var n=os();fr(s,e,t,n)}yp(e,t)}};bb=function(){return Qe};jb=function(e,t){var s=Qe;try{return Qe=e,t()}finally{Qe=s}};ah=function(e,t,s){switch(t){case"input":if(Xm(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=qd(n);if(!a)throw Error(Z(90));Xv(n),Xm(n,a)}}}break;case"textarea":eb(e,s);break;case"select":t=s.value,t!=null&&vi(e,!!s.multiple,t,!1)}};ob=hp;lb=Oa;var TT={usingClientEntryPoint:!1,Events:[jl,oi,qd,ab,ib,hp]},co={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PT={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ub(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||CT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Wd=Xl.inject(PT),_r=Xl}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;Vs.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bp(t))throw Error(Z(200));return ST(e,t,null,s)};Vs.createRoot=function(e,t){if(!bp(e))throw Error(Z(299));var s=!1,n="",a=$j;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=gp(e,1,!1,null,null,s,!1,n,a),e[tn]=t.current,Zo(e.nodeType===8?e.parentNode:e),new vp(t)};Vs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=ub(t),e=e===null?null:e.stateNode,e};Vs.flushSync=function(e){return Oa(e)};Vs.hydrate=function(e,t,s){if(!ru(t))throw Error(Z(200));return nu(null,e,t,!0,s)};Vs.hydrateRoot=function(e,t,s){if(!bp(e))throw Error(Z(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",o=$j;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=zj(t,null,e,1,s??null,a,!1,i,o),e[tn]=t.current,Zo(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new su(t)};Vs.render=function(e,t,s){if(!ru(t))throw Error(Z(200));return nu(null,e,t,!1,s)};Vs.unmountComponentAtNode=function(e){if(!ru(e))throw Error(Z(40));return e._reactRootContainer?(Oa(function(){nu(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};Vs.unstable_batchedUpdates=hp;Vs.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!ru(s))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return nu(e,t,s,!1,n)};Vs.version="18.3.1-next-f1338f8080-20240426";function Wj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wj)}catch(e){console.error(e)}}Wj(),Wv.exports=Vs;var Nl=Wv.exports;const Hj=Cf(Nl);var Gj,Gg=Nl;Gj=Gg.createRoot,Gg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},al.apply(this,arguments)}var Ln;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ln||(Ln={}));const Kg="popstate";function ET(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Fh("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:ad(a)}return _T(t,s,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AT(){return Math.random().toString(36).substr(2,8)}function qg(e,t){return{usr:e.state,key:e.key,idx:t}}function Fh(e,t,s,n){return s===void 0&&(s=null),al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yi(t):t,{state:s,key:t&&t.key||n||AT()})}function ad(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yi(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _T(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ln.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(al({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=Ln.Pop;let j=u(),v=j==null?null:j-d;d=j,c&&c({action:l,location:y.location,delta:v})}function f(j,v){l=Ln.Push;let g=Fh(y.location,j,v);d=u()+1;let x=qg(g,d),b=y.createHref(g);try{o.pushState(x,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(b)}i&&c&&c({action:l,location:y.location,delta:1})}function p(j,v){l=Ln.Replace;let g=Fh(y.location,j,v);d=u();let x=qg(g,d),b=y.createHref(g);o.replaceState(x,"",b),i&&c&&c({action:l,location:y.location,delta:0})}function w(j){let v=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof j=="string"?j:ad(j);return g=g.replace(/ $/,"%20"),Ct(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return l},get location(){return e(a,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Kg,m),c=j,()=>{a.removeEventListener(Kg,m),c=null}},createHref(j){return t(a,j)},createURL:w,encodeLocation(j){let v=w(j);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(j){return o.go(j)}};return y}var Yg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yg||(Yg={}));function RT(e,t,s){return s===void 0&&(s="/"),MT(e,t,s)}function MT(e,t,s,n){let a=typeof t=="string"?Yi(t):t,i=jp(a.pathname||"/",s);if(i==null)return null;let o=qj(e);IT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=GT(i);l=$T(o[c],d)}return l}function qj(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ct(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Gn([n,c.relativePath]),u=s.concat(c);i.children&&i.children.length>0&&(Ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),qj(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:BT(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Yj(i.path))a(i,o,c)}),t}function Yj(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Yj(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function IT(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:zT(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const DT=/^:[\w-]+$/,OT=3,LT=2,FT=1,VT=10,UT=-2,Zg=e=>e==="*";function BT(e,t){let s=e.split("/"),n=s.length;return s.some(Zg)&&(n+=UT),t&&(n+=LT),s.filter(a=>!Zg(a)).reduce((a,i)=>a+(DT.test(i)?OT:i===""?FT:VT),n)}function zT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function $T(e,t,s){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=WT({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Gn([i,m.pathname]),pathnameBase:ZT(Gn([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=Gn([i,m.pathnameBase]))}return o}function WT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=HT(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=l[m];return p&&!w?d[f]=void 0:d[f]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function HT(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Kj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function GT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function KT(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?Yi(e):e;return{pathname:s?s.startsWith("/")?s:qT(s,t):t,search:QT(n),hash:XT(a)}}function qT(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function mm(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YT(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function wp(e,t){let s=YT(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Np(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Yi(e):(a=al({},e),Ct(!a.pathname||!a.pathname.includes("?"),mm("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),mm("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),mm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let m=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;a.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=KT(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Gn=e=>e.join("/").replace(/\/\/+/g,"/"),ZT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zj=["post","put","patch","delete"];new Set(Zj);const eP=["get",...Zj];new Set(eP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},il.apply(this,arguments)}const Sp=h.createContext(null),tP=h.createContext(null),ma=h.createContext(null),au=h.createContext(null),xn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Qj=h.createContext(null);function sP(e,t){let{relative:s}=t===void 0?{}:t;Zi()||Ct(!1);let{basename:n,navigator:a}=h.useContext(ma),{hash:i,pathname:o,search:l}=Jj(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:Gn([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Zi(){return h.useContext(au)!=null}function ha(){return Zi()||Ct(!1),h.useContext(au).location}function Xj(e){h.useContext(ma).static||h.useLayoutEffect(e)}function xt(){let{isDataRoute:e}=h.useContext(xn);return e?pP():rP()}function rP(){Zi()||Ct(!1);let e=h.useContext(Sp),{basename:t,future:s,navigator:n}=h.useContext(ma),{matches:a}=h.useContext(xn),{pathname:i}=ha(),o=JSON.stringify(wp(a,s.v7_relativeSplatPath)),l=h.useRef(!1);return Xj(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=Np(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Gn([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,i,e])}function iu(){let{matches:e}=h.useContext(xn),t=e[e.length-1];return t?t.params:{}}function Jj(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=h.useContext(ma),{matches:a}=h.useContext(xn),{pathname:i}=ha(),o=JSON.stringify(wp(a,n.v7_relativeSplatPath));return h.useMemo(()=>Np(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function nP(e,t){return aP(e,t)}function aP(e,t,s,n){Zi()||Ct(!1);let{navigator:a}=h.useContext(ma),{matches:i}=h.useContext(xn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ha(),u;if(t){var m;let j=typeof t=="string"?Yi(t):t;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||Ct(!1),u=j}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=RT(e,{pathname:p}),y=dP(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Gn([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Gn([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,s,n);return t&&y?h.createElement(au.Provider,{value:{location:il({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ln.Pop}},y):y}function iP(){let e=fP(),t=JT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),s?h.createElement("pre",{style:a},s):null,null)}const oP=h.createElement(iP,null);class lP extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?h.createElement(xn.Provider,{value:this.props.routeContext},h.createElement(Qj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cP(e){let{routeContext:t,match:s,children:n}=e,a=h.useContext(Sp);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),h.createElement(xn.Provider,{value:t},n)}function dP(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Ct(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:f,errors:p}=s,w=m.route.loader&&f[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,f)=>{let p,w=!1,y=null,j=null;s&&(p=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||oP,c&&(d<0&&f===0?(xP("route-fallback"),w=!0,j=null):d===f&&(w=!0,j=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),g=()=>{let x;return p?x=y:w?x=j:m.route.Component?x=h.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=u,h.createElement(cP,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:s!=null},children:x})};return s&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?h.createElement(lP,{location:s.location,revalidation:s.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var ew=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ew||{}),tw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tw||{});function uP(e){let t=h.useContext(Sp);return t||Ct(!1),t}function mP(e){let t=h.useContext(tP);return t||Ct(!1),t}function hP(e){let t=h.useContext(xn);return t||Ct(!1),t}function sw(e){let t=hP(),s=t.matches[t.matches.length-1];return s.route.id||Ct(!1),s.route.id}function fP(){var e;let t=h.useContext(Qj),s=mP(),n=sw();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function pP(){let{router:e}=uP(ew.UseNavigateStable),t=sw(tw.UseNavigateStable),s=h.useRef(!1);return Xj(()=>{s.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,il({fromRouteId:t},i)))},[e,t])}const Qg={};function xP(e,t,s){Qg[e]||(Qg[e]=!0)}function gP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Oi(e){let{to:t,replace:s,state:n,relative:a}=e;Zi()||Ct(!1);let{future:i,static:o}=h.useContext(ma),{matches:l}=h.useContext(xn),{pathname:c}=ha(),d=xt(),u=Np(t,wp(l,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(m),{replace:s,state:n,relative:a}),[d,m,a,s,n]),null}function qe(e){Ct(!1)}function yP(e){let{basename:t="/",children:s=null,location:n,navigationType:a=Ln.Pop,navigator:i,static:o=!1,future:l}=e;Zi()&&Ct(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:il({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Yi(n));let{pathname:u="/",search:m="",hash:f="",state:p=null,key:w="default"}=n,y=h.useMemo(()=>{let j=jp(u,c);return j==null?null:{location:{pathname:j,search:m,hash:f,state:p,key:w},navigationType:a}},[c,u,m,f,p,w,a]);return y==null?null:h.createElement(ma.Provider,{value:d},h.createElement(au.Provider,{children:s,value:y}))}function vP(e){let{children:t,location:s}=e;return nP(Vh(t),s)}new Promise(()=>{});function Vh(e,t){t===void 0&&(t=[]);let s=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let i=[...t,a];if(n.type===h.Fragment){s.push.apply(s,Vh(n.props.children,i));return}n.type!==qe&&Ct(!1),!n.props.index||!n.props.children||Ct(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Vh(n.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Uh.apply(this,arguments)}function bP(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function jP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wP(e,t){return e.button===0&&(!t||t==="_self")&&!jP(e)}const NP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SP="6";try{window.__reactRouterVersion=SP}catch{}const CP="startTransition",Xg=Af[CP];function kP(e){let{basename:t,children:s,future:n,window:a}=e,i=h.useRef();i.current==null&&(i.current=ET({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=h.useCallback(m=>{d&&Xg?Xg(()=>c(m)):c(m)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>gP(n),[n]),h.createElement(yP,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const TP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=h.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,f=bP(t,NP),{basename:p}=h.useContext(ma),w,y=!1;if(typeof d=="string"&&PP.test(d)&&(w=d,TP))try{let x=new URL(window.location.href),b=d.startsWith("//")?new URL(x.protocol+d):new URL(d),S=jp(b.pathname,p);b.origin===x.origin&&S!=null?d=S+b.search+b.hash:y=!0}catch{}let j=sP(d,{relative:a}),v=EP(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function g(x){n&&n(x),x.defaultPrevented||v(x)}return h.createElement("a",Uh({},f,{href:w||j,onClick:y||i?n:g,ref:s,target:c}))});var Jg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jg||(Jg={}));var e0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(e0||(e0={}));function EP(e,t){let{target:s,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=xt(),d=ha(),u=Jj(e,{relative:o});return h.useCallback(m=>{if(wP(m,s)){m.preventDefault();let f=n!==void 0?n:ad(d)===ad(u);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,s,e,i,o,l])}class ou{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const s={listener:t};return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Cp=typeof window>"u"||"Deno"in window;function or(){}function AP(e,t){return typeof e=="function"?e(t):e}function _P(e){return typeof e=="number"&&e>=0&&e!==1/0}function RP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jl(e,t,s){return lu(e)?typeof t=="function"?{...s,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Pn(e,t,s){return lu(e)?[{...t,queryKey:e},s]:[e||{},t]}function t0(e,t){const{type:s="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(lu(o)){if(n){if(t.queryHash!==kp(o,t.options))return!1}else if(!id(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof a<"u"&&a!==t.state.fetchStatus||i&&!i(t))}function s0(e,t){const{exact:s,fetching:n,predicate:a,mutationKey:i}=e;if(lu(i)){if(!t.options.mutationKey)return!1;if(s){if(Ca(t.options.mutationKey)!==Ca(i))return!1}else if(!id(t.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||a&&!a(t))}function kp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ca)(e)}function Ca(e){return JSON.stringify(e,(t,s)=>Bh(s)?Object.keys(s).sort().reduce((n,a)=>(n[a]=s[a],n),{}):s)}function id(e,t){return rw(e,t)}function rw(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!rw(e[s],t[s])):!1}function nw(e,t){if(e===t)return e;const s=r0(e)&&r0(t);if(s||Bh(e)&&Bh(t)){const n=s?e.length:Object.keys(e).length,a=s?t:Object.keys(t),i=a.length,o=s?[]:{};let l=0;for(let c=0;c<i;c++){const d=s?c:a[c];o[d]=nw(e[d],t[d]),o[d]===e[d]&&l++}return n===i&&l===n?e:o}return t}function r0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bh(e){if(!n0(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const s=t.prototype;return!(!n0(s)||!s.hasOwnProperty("isPrototypeOf"))}function n0(e){return Object.prototype.toString.call(e)==="[object Object]"}function lu(e){return Array.isArray(e)}function aw(e){return new Promise(t=>{setTimeout(t,e)})}function a0(e){aw(0).then(e)}function MP(){if(typeof AbortController=="function")return new AbortController}function IP(e,t,s){return s.isDataEqual!=null&&s.isDataEqual(e,t)?e:typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?nw(e,t):t}class DP extends ou{constructor(){super(),this.setup=t=>{if(!Cp&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),()=>{window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var s;this.setup=t,(s=this.cleanup)==null||s.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const zh=new DP,i0=["online","offline"];class OP extends ou{constructor(){super(),this.setup=t=>{if(!Cp&&window.addEventListener){const s=()=>t();return i0.forEach(n=>{window.addEventListener(n,s,!1)}),()=>{i0.forEach(n=>{window.removeEventListener(n,s)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var s;this.setup=t,(s=this.cleanup)==null||s.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const od=new OP;function LP(e){return Math.min(1e3*2**e,3e4)}function Tp(e){return(e??"online")==="online"?od.isOnline():!0}class iw{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function hm(e){return e instanceof iw}function ow(e){let t=!1,s=0,n=!1,a,i,o;const l=new Promise((j,v)=>{i=j,o=v}),c=j=>{n||(p(new iw(j)),e.abort==null||e.abort())},d=()=>{t=!0},u=()=>{t=!1},m=()=>!zh.isFocused()||e.networkMode!=="always"&&!od.isOnline(),f=j=>{n||(n=!0,e.onSuccess==null||e.onSuccess(j),a==null||a(),i(j))},p=j=>{n||(n=!0,e.onError==null||e.onError(j),a==null||a(),o(j))},w=()=>new Promise(j=>{a=v=>{const g=n||!m();return g&&j(v),g},e.onPause==null||e.onPause()}).then(()=>{a=void 0,n||e.onContinue==null||e.onContinue()}),y=()=>{if(n)return;let j;try{j=e.fn()}catch(v){j=Promise.reject(v)}Promise.resolve(j).then(f).catch(v=>{var g,x;if(n)return;const b=(g=e.retry)!=null?g:3,S=(x=e.retryDelay)!=null?x:LP,k=typeof S=="function"?S(s,v):S,T=b===!0||typeof b=="number"&&s<b||typeof b=="function"&&b(s,v);if(t||!T){p(v);return}s++,e.onFail==null||e.onFail(s,v),aw(k).then(()=>{if(m())return w()}).then(()=>{t?p(v):y()})})};return Tp(e.networkMode)?y():w().then(y),{promise:l,cancel:c,continue:()=>(a==null?void 0:a())?l:Promise.resolve(),cancelRetry:d,continueRetry:u}}const Pp=console;function FP(){let e=[],t=0,s=u=>{u()},n=u=>{u()};const a=u=>{let m;t++;try{m=u()}finally{t--,t||l()}return m},i=u=>{t?e.push(u):a0(()=>{s(u)})},o=u=>(...m)=>{i(()=>{u(...m)})},l=()=>{const u=e;e=[],u.length&&a0(()=>{n(()=>{u.forEach(m=>{s(m)})})})};return{batch:a,batchCalls:o,schedule:i,setNotifyFunction:u=>{s=u},setBatchNotifyFunction:u=>{n=u}}}const as=FP();class lw{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_P(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(Cp?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class VP extends lw{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Pp,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||UP(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,s){const n=IP(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){this.dispatch({type:"setState",state:t,setStateOptions:s})}cancel(t){var s;const n=this.promise;return(s=this.retryer)==null||s.cancel(t),n?n.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!RP(this.state.dataUpdatedAt,t)}onFocus(){var t;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s&&s.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s&&s.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,s){var n,a;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&s!=null&&s.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(w=>w.options.queryFn);p&&this.setOptions(p.options)}const o=MP(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(l);const d=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),u={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};if(c(u),(n=this.options.behavior)==null||n.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((a=u.fetchOptions)==null?void 0:a.meta)){var m;this.dispatch({type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta})}const f=p=>{if(hm(p)&&p.silent||this.dispatch({type:"error",error:p}),!hm(p)){var w,y,j,v;(w=(y=this.cache.config).onError)==null||w.call(y,p,this),(j=(v=this.cache.config).onSettled)==null||j.call(v,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=ow({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:p=>{var w,y,j,v;if(typeof p>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(w=(y=this.cache.config).onSuccess)==null||w.call(y,p,this),(j=(v=this.cache.config).onSettled)==null||j.call(v,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(p,w)=>{this.dispatch({type:"failed",failureCount:p,error:w})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const s=n=>{var a,i;switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(a=t.meta)!=null?a:null,fetchStatus:Tp(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(i=t.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return hm(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),as.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function UP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=typeof t<"u",n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"loading",fetchStatus:"idle"}}class BP extends ou{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,s,n){var a;const i=s.queryKey,o=(a=s.queryHash)!=null?a:kp(i,s);let l=this.get(o);return l||(l=new VP({cache:this,logger:t.getLogger(),queryKey:i,queryHash:o,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const s=this.queriesMap[t.queryHash];s&&(t.destroy(),this.queries=this.queries.filter(n=>n!==t),s===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){as.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,s){const[n]=Pn(t,s);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(a=>t0(n,a))}findAll(t,s){const[n]=Pn(t,s);return Object.keys(n).length>0?this.queries.filter(a=>t0(n,a)):this.queries}notify(t){as.batch(()=>{this.listeners.forEach(({listener:s})=>{s(t)})})}onFocus(){as.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){as.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class zP extends lw{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Pp,this.observers=[],this.state=t.state||$P(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(s=>s!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,s;return(t=(s=this.retryer)==null?void 0:s.continue())!=null?t:this.execute()}async execute(){const t=()=>{var T;return this.retryer=ow({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(C,D)=>{this.dispatch({type:"failed",failureCount:C,error:D})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(T=this.options.retry)!=null?T:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},s=this.state.status==="loading";try{var n,a,i,o,l,c,d,u;if(!s){var m,f,p,w;this.dispatch({type:"loading",variables:this.options.variables}),await((m=(f=this.mutationCache.config).onMutate)==null?void 0:m.call(f,this.state.variables,this));const C=await((p=(w=this.options).onMutate)==null?void 0:p.call(w,this.state.variables));C!==this.state.context&&this.dispatch({type:"loading",context:C,variables:this.state.variables})}const T=await t();return await((n=(a=this.mutationCache.config).onSuccess)==null?void 0:n.call(a,T,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,T,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,T,null,this.state.variables,this.state.context,this)),await((d=(u=this.options).onSettled)==null?void 0:d.call(u,T,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:T}),T}catch(T){try{var y,j,v,g,x,b,S,k;throw await((y=(j=this.mutationCache.config).onError)==null?void 0:y.call(j,T,this.state.variables,this.state.context,this)),await((v=(g=this.options).onError)==null?void 0:v.call(g,T,this.state.variables,this.state.context)),await((x=(b=this.mutationCache.config).onSettled)==null?void 0:x.call(b,void 0,T,this.state.variables,this.state.context,this)),await((S=(k=this.options).onSettled)==null?void 0:S.call(k,void 0,T,this.state.variables,this.state.context)),T}finally{this.dispatch({type:"error",error:T})}}}dispatch(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Tp(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...n,...t.state}}};this.state=s(this.state),as.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function $P(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class WP extends ou{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,s,n){const a=new zP({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(s),state:n,defaultOptions:s.mutationKey?t.getMutationDefaults(s.mutationKey):void 0});return this.add(a),a}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(s=>s!==t),this.notify({type:"removed",mutation:t})}clear(){as.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(s=>s0(t,s))}findAll(t){return this.mutations.filter(s=>s0(t,s))}notify(t){as.batch(()=>{this.listeners.forEach(({listener:s})=>{s(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const s=this.mutations.filter(n=>n.state.isPaused);return as.batch(()=>s.reduce((n,a)=>n.then(()=>a.continue().catch(or)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function HP(){return{onFetch:e=>{e.fetchFn=()=>{var t,s,n,a,i,o;const l=(t=e.fetchOptions)==null||(s=t.meta)==null?void 0:s.refetchPage,c=(n=e.fetchOptions)==null||(a=n.meta)==null?void 0:a.fetchMore,d=c==null?void 0:c.pageParam,u=(c==null?void 0:c.direction)==="forward",m=(c==null?void 0:c.direction)==="backward",f=((i=e.state.data)==null?void 0:i.pages)||[],p=((o=e.state.data)==null?void 0:o.pageParams)||[];let w=p,y=!1;const j=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var T;if((T=e.signal)!=null&&T.aborted)y=!0;else{var C;(C=e.signal)==null||C.addEventListener("abort",()=>{y=!0})}return e.signal}})},v=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),g=(k,T,C,D)=>(w=D?[T,...w]:[...w,T],D?[C,...k]:[...k,C]),x=(k,T,C,D)=>{if(y)return Promise.reject("Cancelled");if(typeof C>"u"&&!T&&k.length)return Promise.resolve(k);const _={queryKey:e.queryKey,pageParam:C,meta:e.options.meta};j(_);const R=v(_);return Promise.resolve(R).then(E=>g(k,C,E,D))};let b;if(!f.length)b=x([]);else if(u){const k=typeof d<"u",T=k?d:o0(e.options,f);b=x(f,k,T)}else if(m){const k=typeof d<"u",T=k?d:GP(e.options,f);b=x(f,k,T,!0)}else{w=[];const k=typeof e.options.getNextPageParam>"u";b=(l&&f[0]?l(f[0],0,f):!0)?x([],k,p[0]):Promise.resolve(g([],p[0],f[0]));for(let C=1;C<f.length;C++)b=b.then(D=>{if(l&&f[C]?l(f[C],C,f):!0){const R=k?p[C]:o0(e.options,D);return x(D,k,R)}return Promise.resolve(g(D,p[C],f[C]))})}return b.then(k=>({pages:k,pageParams:w}))}}}}function o0(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function GP(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class KP{constructor(t={}){this.queryCache=t.queryCache||new BP,this.mutationCache=t.mutationCache||new WP,this.logger=t.logger||Pp,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=zh.subscribe(()=>{zh.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=od.subscribe(()=>{od.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,s;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(s=this.unsubscribeOnline)==null||s.call(this),this.unsubscribeOnline=void 0)}isFetching(t,s){const[n]=Pn(t,s);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,s){var n;return(n=this.queryCache.find(t,s))==null?void 0:n.state.data}ensureQueryData(t,s,n){const a=Jl(t,s,n),i=this.getQueryData(a.queryKey);return i?Promise.resolve(i):this.fetchQuery(a)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:s,state:n})=>{const a=n.data;return[s,a]})}setQueryData(t,s,n){const a=this.queryCache.find(t),i=a==null?void 0:a.state.data,o=AP(s,i);if(typeof o>"u")return;const l=Jl(t),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(o,{...n,manual:!0})}setQueriesData(t,s,n){return as.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,n)]))}getQueryState(t,s){var n;return(n=this.queryCache.find(t,s))==null?void 0:n.state}removeQueries(t,s){const[n]=Pn(t,s),a=this.queryCache;as.batch(()=>{a.findAll(n).forEach(i=>{a.remove(i)})})}resetQueries(t,s,n){const[a,i]=Pn(t,s,n),o=this.queryCache,l={type:"active",...a};return as.batch(()=>(o.findAll(a).forEach(c=>{c.reset()}),this.refetchQueries(l,i)))}cancelQueries(t,s,n){const[a,i={}]=Pn(t,s,n);typeof i.revert>"u"&&(i.revert=!0);const o=as.batch(()=>this.queryCache.findAll(a).map(l=>l.cancel(i)));return Promise.all(o).then(or).catch(or)}invalidateQueries(t,s,n){const[a,i]=Pn(t,s,n);return as.batch(()=>{var o,l;if(this.queryCache.findAll(a).forEach(d=>{d.invalidate()}),a.refetchType==="none")return Promise.resolve();const c={...a,type:(o=(l=a.refetchType)!=null?l:a.type)!=null?o:"active"};return this.refetchQueries(c,i)})}refetchQueries(t,s,n){const[a,i]=Pn(t,s,n),o=as.batch(()=>this.queryCache.findAll(a).filter(c=>!c.isDisabled()).map(c=>{var d;return c.fetch(void 0,{...i,cancelRefetch:(d=i==null?void 0:i.cancelRefetch)!=null?d:!0,meta:{refetchPage:a.refetchPage}})}));let l=Promise.all(o).then(or);return i!=null&&i.throwOnError||(l=l.catch(or)),l}fetchQuery(t,s,n){const a=Jl(t,s,n),i=this.defaultQueryOptions(a);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(t,s,n){return this.fetchQuery(t,s,n).then(or).catch(or)}fetchInfiniteQuery(t,s,n){const a=Jl(t,s,n);return a.behavior=HP(),this.fetchQuery(a)}prefetchInfiniteQuery(t,s,n){return this.fetchInfiniteQuery(t,s,n).then(or).catch(or)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,s){const n=this.queryDefaults.find(a=>Ca(t)===Ca(a.queryKey));n?n.defaultOptions=s:this.queryDefaults.push({queryKey:t,defaultOptions:s})}getQueryDefaults(t){if(!t)return;const s=this.queryDefaults.find(n=>id(t,n.queryKey));return s==null?void 0:s.defaultOptions}setMutationDefaults(t,s){const n=this.mutationDefaults.find(a=>Ca(t)===Ca(a.mutationKey));n?n.defaultOptions=s:this.mutationDefaults.push({mutationKey:t,defaultOptions:s})}getMutationDefaults(t){if(!t)return;const s=this.mutationDefaults.find(n=>id(t,n.mutationKey));return s==null?void 0:s.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const s={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!s.queryHash&&s.queryKey&&(s.queryHash=kp(s.queryKey,s)),typeof s.refetchOnReconnect>"u"&&(s.refetchOnReconnect=s.networkMode!=="always"),typeof s.useErrorBoundary>"u"&&(s.useErrorBoundary=!!s.suspense),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var cw={exports:{}},dw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=h;function qP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YP=typeof Object.is=="function"?Object.is:qP,ZP=Li.useState,QP=Li.useEffect,XP=Li.useLayoutEffect,JP=Li.useDebugValue;function eE(e,t){var s=t(),n=ZP({inst:{value:s,getSnapshot:t}}),a=n[0].inst,i=n[1];return XP(function(){a.value=s,a.getSnapshot=t,fm(a)&&i({inst:a})},[e,s,t]),QP(function(){return fm(a)&&i({inst:a}),e(function(){fm(a)&&i({inst:a})})},[e]),JP(s),s}function fm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!YP(e,s)}catch{return!0}}function tE(e,t){return t()}var sE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tE:eE;dw.useSyncExternalStore=Li.useSyncExternalStore!==void 0?Li.useSyncExternalStore:sE;cw.exports=dw;var rE=cw.exports;const l0=h.createContext(void 0),nE=h.createContext(!1);function aE(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=l0),window.ReactQueryClientContext):l0)}const iE=({client:e,children:t,context:s,contextSharing:n=!1})=>{h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const a=aE(s,n);return h.createElement(nE.Provider,{value:!s&&n},h.createElement(a.Provider,{value:e},t))},uw=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cu=h.createContext({}),du=h.createContext(null),uu=typeof document<"u",Ep=uu?h.useLayoutEffect:h.useEffect,mw=h.createContext({strict:!1}),Ap=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),oE="framerAppearId",hw="data-"+Ap(oE);function lE(e,t,s,n){const{visualElement:a}=h.useContext(cu),i=h.useContext(mw),o=h.useContext(du),l=h.useContext(uw).reducedMotion,c=h.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;h.useInsertionEffect(()=>{d&&d.update(s,o)});const u=h.useRef(!!(s[hw]&&!window.HandoffComplete));return Ep(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),h.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function fi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cE(e,t,s){return h.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):fi(s)&&(s.current=n))},[t])}function ol(e){return typeof e=="string"||Array.isArray(e)}function mu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const _p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rp=["initial",..._p];function hu(e){return mu(e.animate)||Rp.some(t=>ol(e[t]))}function fw(e){return!!(hu(e)||e.variants)}function dE(e,t){if(hu(e)){const{initial:s,animate:n}=e;return{initial:s===!1||ol(s)?s:void 0,animate:ol(n)?n:void 0}}return e.inherit!==!1?t:{}}function uE(e){const{initial:t,animate:s}=dE(e,h.useContext(cu));return h.useMemo(()=>({initial:t,animate:s}),[c0(t),c0(s)])}function c0(e){return Array.isArray(e)?e.join(" "):e}const d0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const e in d0)ll[e]={isEnabled:t=>d0[e].some(s=>!!t[s])};function mE(e){for(const t in e)ll[t]={...ll[t],...e[t]}}const Mp=h.createContext({}),pw=h.createContext({}),hE=Symbol.for("motionComponentSymbol");function fE({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:a}){e&&mE(e);function i(l,c){let d;const u={...h.useContext(uw),...l,layoutId:pE(l)},{isStatic:m}=u,f=uE(l),p=n(l,m);if(!m&&uu){f.visualElement=lE(a,p,u,t);const w=h.useContext(pw),y=h.useContext(mw).strict;f.visualElement&&(d=f.visualElement.loadFeatures(u,y,e,w))}return h.createElement(cu.Provider,{value:f},d&&f.visualElement?h.createElement(d,{visualElement:f.visualElement,...u}):null,s(a,l,cE(p,f.visualElement,c),p,m,f.visualElement))}const o=h.forwardRef(i);return o[hE]=a,o}function pE({layoutId:e}){const t=h.useContext(Mp).id;return t&&e!==void 0?t+"-"+e:e}function xE(e){function t(n,a={}){return fE(e(n,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(n,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const gE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ip(e){return typeof e!="string"||e.includes("-")?!1:!!(gE.indexOf(e)>-1||/[A-Z]/.test(e))}const ld={};function yE(e){Object.assign(ld,e)}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wa=new Set(Sl);function xw(e,{layout:t,layoutId:s}){return Wa.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!ld[e]||e==="opacity")}const ks=e=>!!(e&&e.getVelocity),vE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bE=Sl.length;function jE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},n,a){let i="";for(let o=0;o<bE;o++){const l=Sl[o];if(e[l]!==void 0){const c=vE[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,n?"":i):s&&n&&(i="none"),i}const gw=e=>t=>typeof t=="string"&&t.startsWith(e),yw=gw("--"),$h=gw("var(--"),wE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,NE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xn=(e,t,s)=>Math.min(Math.max(s,e),t),Ha={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Io={...Ha,transform:e=>Xn(0,1,e)},ec={...Ha,default:1},Do=e=>Math.round(e*1e5)/1e5,fu=/(-)?([\d]*\.?[\d])+/g,vw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,SE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Cl(e){return typeof e=="string"}const kl=e=>({test:t=>Cl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nn=kl("deg"),Mr=kl("%"),be=kl("px"),CE=kl("vh"),kE=kl("vw"),u0={...Mr,parse:e=>Mr.parse(e)/100,transform:e=>Mr.transform(e*100)},m0={...Ha,transform:Math.round},bw={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,size:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,rotate:Nn,rotateX:Nn,rotateY:Nn,rotateZ:Nn,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:Nn,skewX:Nn,skewY:Nn,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Io,originX:u0,originY:u0,originZ:be,zIndex:m0,fillOpacity:Io,strokeOpacity:Io,numOctaves:m0};function Dp(e,t,s,n){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const m in t){const f=t[m];if(yw(m)){i[m]=f;continue}const p=bw[m],w=NE(f,p);if(Wa.has(m)){if(c=!0,o[m]=w,!u)continue;f!==(p.default||0)&&(u=!1)}else m.startsWith("origin")?(d=!0,l[m]=w):a[m]=w}if(t.transform||(c||n?a.transform=jE(e.transform,s,u,n):a.transform&&(a.transform="none")),d){const{originX:m="50%",originY:f="50%",originZ:p=0}=l;a.transformOrigin=`${m} ${f} ${p}`}}const Op=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jw(e,t,s){for(const n in t)!ks(t[n])&&!xw(n,s)&&(e[n]=t[n])}function TE({transformTemplate:e},t,s){return h.useMemo(()=>{const n=Op();return Dp(n,t,{enableHardwareAcceleration:!s},e),Object.assign({},n.vars,n.style)},[t])}function PE(e,t,s){const n=e.style||{},a={};return jw(a,n,e),Object.assign(a,TE(e,t,s)),e.transformValues?e.transformValues(a):a}function EE(e,t,s){const n={},a=PE(e,t,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const AE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||AE.has(e)}let ww=e=>!cd(e);function _E(e){e&&(ww=t=>t.startsWith("on")?!cd(t):e(t))}try{_E(require("@emotion/is-prop-valid").default)}catch{}function RE(e,t,s){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(ww(a)||s===!0&&cd(a)||!t&&!cd(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function h0(e,t,s){return typeof e=="string"?e:be.transform(t+s*e)}function ME(e,t,s){const n=h0(t,e.x,e.width),a=h0(s,e.y,e.height);return`${n} ${a}`}const IE={offset:"stroke-dashoffset",array:"stroke-dasharray"},DE={offset:"strokeDashoffset",array:"strokeDasharray"};function OE(e,t,s=1,n=0,a=!0){e.pathLength=1;const i=a?IE:DE;e[i.offset]=be.transform(-n);const o=be.transform(t),l=be.transform(s);e[i.array]=`${o} ${l}`}function Lp(e,{attrX:t,attrY:s,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,m,f){if(Dp(e,d,u,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:y}=e;p.transform&&(y&&(w.transform=p.transform),delete p.transform),y&&(a!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=ME(y,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),s!==void 0&&(p.y=s),n!==void 0&&(p.scale=n),o!==void 0&&OE(p,o,l,c,!1)}const Nw=()=>({...Op(),attrs:{}}),Fp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function LE(e,t,s,n){const a=h.useMemo(()=>{const i=Nw();return Lp(i,t,{enableHardwareAcceleration:!1},Fp(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};jw(i,e.style,e),a.style={...i,...a.style}}return a}function FE(e=!1){return(s,n,a,{latestValues:i},o)=>{const c=(Ip(s)?LE:EE)(n,i,o,s),u={...RE(n,typeof s=="string",e),...c,ref:a},{children:m}=n,f=h.useMemo(()=>ks(m)?m.get():m,[m]);return h.createElement(s,{...u,children:f})}}function Sw(e,{style:t,vars:s},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in s)e.style.setProperty(i,s[i])}const Cw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kw(e,t,s,n){Sw(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Cw.has(a)?a:Ap(a),t.attrs[a])}function Vp(e,t){const{style:s}=e,n={};for(const a in s)(ks(s[a])||t.style&&ks(t.style[a])||xw(a,e))&&(n[a]=s[a]);return n}function Tw(e,t){const s=Vp(e,t);for(const n in e)if(ks(e[n])||ks(t[n])){const a=Sl.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[a]=e[n]}return s}function Up(e,t,s,n={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),t}function Pw(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const dd=e=>Array.isArray(e),VE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),UE=e=>dd(e)?e[e.length-1]||0:e;function Cc(e){const t=ks(e)?e.get():e;return VE(t)?t.toValue():t}function BE({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,a,i){const o={latestValues:zE(n,a,i,e),renderState:t()};return s&&(o.mount=l=>s(n,l,o)),o}const Ew=e=>(t,s)=>{const n=h.useContext(cu),a=h.useContext(du),i=()=>BE(e,t,n,a);return s?i():Pw(i)};function zE(e,t,s,n){const a={},i=n(e,{});for(const f in i)a[f]=Cc(i[f]);let{initial:o,animate:l}=e;const c=hu(e),d=fw(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const m=u?l:o;return m&&typeof m!="boolean"&&!mu(m)&&(Array.isArray(m)?m:[m]).forEach(p=>{const w=Up(e,p);if(!w)return;const{transitionEnd:y,transition:j,...v}=w;for(const g in v){let x=v[g];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(a[g]=x)}for(const g in y)a[g]=y[g]}),a}const wt=e=>e;class f0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function $E(e){let t=new f0,s=new f0,n=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const m=u&&a,f=m?t:s;return d&&o.add(c),f.add(c)&&m&&a&&(n=t.order.length),c},cancel:c=>{s.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const tc=["prepare","read","update","preRender","render","postRender"],WE=40;function HE(e,t){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=tc.reduce((m,f)=>(m[f]=$E(()=>s=!0),m),{}),o=m=>i[m].process(a),l=()=>{const m=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(m-a.timestamp,WE),1),a.timestamp=m,a.isProcessing=!0,tc.forEach(o),a.isProcessing=!1,s&&t&&(n=!1,e(l))},c=()=>{s=!0,n=!0,a.isProcessing||e(l)};return{schedule:tc.reduce((m,f)=>{const p=i[f];return m[f]=(w,y=!1,j=!1)=>(s||c(),p.schedule(w,y,j)),m},{}),cancel:m=>tc.forEach(f=>i[f].cancel(m)),state:a,steps:i}}const{schedule:nt,cancel:nn,state:Xt,steps:pm}=HE(typeof requestAnimationFrame<"u"?requestAnimationFrame:wt,!0),GE={useVisualState:Ew({scrapeMotionValuesFromProps:Tw,createRenderState:Nw,onMount:(e,t,{renderState:s,latestValues:n})=>{nt.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),nt.render(()=>{Lp(s,n,{enableHardwareAcceleration:!1},Fp(t.tagName),e.transformTemplate),kw(t,s)})}})},KE={useVisualState:Ew({scrapeMotionValuesFromProps:Vp,createRenderState:Op})};function qE(e,{forwardMotionProps:t=!1},s,n){return{...Ip(e)?GE:KE,preloadedFeatures:s,useRender:FE(t),createVisualElement:n,Component:e}}function Kr(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const Aw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function pu(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const YE=e=>t=>Aw(t)&&e(t,pu(t));function Qr(e,t,s,n){return Kr(e,t,YE(s),n)}const ZE=(e,t)=>s=>t(e(s)),Kn=(...e)=>e.reduce(ZE);function _w(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const p0=_w("dragHorizontal"),x0=_w("dragVertical");function Rw(e){let t=!1;if(e==="y")t=x0();else if(e==="x")t=p0();else{const s=p0(),n=x0();s&&n?t=()=>{s(),n()}:(s&&s(),n&&n())}return t}function Mw(){const e=Rw(!0);return e?(e(),!1):!0}class fa{constructor(t){this.isMounted=!1,this.node=t}update(){}}function g0(e,t){const s="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||Mw())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&nt.update(()=>l[n](i,o))};return Qr(e.current,s,a,{passive:!e.getProps()[n]})}class QE extends fa{mount(){this.unmount=Kn(g0(this.node,!0),g0(this.node,!1))}unmount(){}}class XE extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kn(Kr(this.node.current,"focus",()=>this.onFocus()),Kr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Iw=(e,t)=>t?e===t?!0:Iw(e,t.parentElement):!1;function xm(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,pu(s))}class JE extends fa{constructor(){super(...arguments),this.removeStartListeners=wt,this.removeEndListeners=wt,this.removeAccessibleListeners=wt,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Qr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:m}=this.node.getProps();nt.update(()=>{!m&&!Iw(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Qr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Kn(i,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||xm("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&nt.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Kr(this.node.current,"keyup",o),xm("down",(l,c)=>{this.startPress(l,c)})},s=Kr(this.node.current,"keydown",t),n=()=>{this.isPressing&&xm("cancel",(i,o)=>this.cancelPress(i,o))},a=Kr(this.node.current,"blur",n);this.removeAccessibleListeners=Kn(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&nt.update(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Mw()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&nt.update(()=>n(t,s))}mount(){const t=this.node.getProps(),s=Qr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Kr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kn(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Wh=new WeakMap,gm=new WeakMap,e4=e=>{const t=Wh.get(e.target);t&&t(e)},t4=e=>{e.forEach(e4)};function s4({root:e,...t}){const s=e||document;gm.has(s)||gm.set(s,{});const n=gm.get(s),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(t4,{root:e,...t})),n[a]}function r4(e,t,s){const n=s4(t);return Wh.set(e,s),n.observe(e),()=>{Wh.delete(e),n.unobserve(e)}}const n4={some:0,all:1};class a4 extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:n4[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),f=d?u:m;f&&f(c)};return r4(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(i4(t,s))&&this.startObserver()}unmount(){}}function i4({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const o4={inView:{Feature:a4},tap:{Feature:JE},focus:{Feature:XE},hover:{Feature:QE}};function Dw(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function l4(e){const t={};return e.values.forEach((s,n)=>t[n]=s.get()),t}function c4(e){const t={};return e.values.forEach((s,n)=>t[n]=s.getVelocity()),t}function xu(e,t,s){const n=e.getProps();return Up(n,t,s!==void 0?s:n.custom,l4(e),c4(e))}let Bp=wt;const _a=e=>e*1e3,Xr=e=>e/1e3,d4={current:!1},Ow=e=>Array.isArray(e)&&typeof e[0]=="number";function Lw(e){return!!(!e||typeof e=="string"&&Fw[e]||Ow(e)||Array.isArray(e)&&e.every(Lw))}const wo=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Fw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wo([0,.65,.55,1]),circOut:wo([.55,0,1,.45]),backIn:wo([.31,.01,.66,-.59]),backOut:wo([.33,1.53,.69,.99])};function Vw(e){if(e)return Ow(e)?wo(e):Array.isArray(e)?e.map(Vw):Fw[e]}function u4(e,t,s,{delay:n=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=Vw(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function m4(e,{repeat:t,repeatType:s="loop"}){const n=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[n]}const Uw=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,h4=1e-7,f4=12;function p4(e,t,s,n,a){let i,o,l=0;do o=t+(s-t)/2,i=Uw(o,n,a)-e,i>0?s=o:t=o;while(Math.abs(i)>h4&&++l<f4);return o}function Tl(e,t,s,n){if(e===t&&s===n)return wt;const a=i=>p4(i,0,1,e,s);return i=>i===0||i===1?i:Uw(a(i),t,n)}const x4=Tl(.42,0,1,1),g4=Tl(0,0,.58,1),Bw=Tl(.42,0,.58,1),y4=e=>Array.isArray(e)&&typeof e[0]!="number",zw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$w=e=>t=>1-e(1-t),zp=e=>1-Math.sin(Math.acos(e)),Ww=$w(zp),v4=zw(zp),Hw=Tl(.33,1.53,.69,.99),$p=$w(Hw),b4=zw($p),j4=e=>(e*=2)<1?.5*$p(e):.5*(2-Math.pow(2,-10*(e-1))),w4={linear:wt,easeIn:x4,easeInOut:Bw,easeOut:g4,circIn:zp,circInOut:v4,circOut:Ww,backIn:$p,backInOut:b4,backOut:Hw,anticipate:j4},y0=e=>{if(Array.isArray(e)){Bp(e.length===4);const[t,s,n,a]=e;return Tl(t,s,n,a)}else if(typeof e=="string")return w4[e];return e},Wp=(e,t)=>s=>!!(Cl(s)&&SE.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),Gw=(e,t,s)=>n=>{if(!Cl(n))return n;const[a,i,o,l]=n.match(fu);return{[e]:parseFloat(a),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},N4=e=>Xn(0,255,e),ym={...Ha,transform:e=>Math.round(N4(e))},ka={test:Wp("rgb","red"),parse:Gw("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+ym.transform(e)+", "+ym.transform(t)+", "+ym.transform(s)+", "+Do(Io.transform(n))+")"};function S4(e){let t="",s="",n="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Hh={test:Wp("#"),parse:S4,transform:ka.transform},pi={test:Wp("hsl","hue"),parse:Gw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Mr.transform(Do(t))+", "+Mr.transform(Do(s))+", "+Do(Io.transform(n))+")"},ss={test:e=>ka.test(e)||Hh.test(e)||pi.test(e),parse:e=>ka.test(e)?ka.parse(e):pi.test(e)?pi.parse(e):Hh.parse(e),transform:e=>Cl(e)?e:e.hasOwnProperty("red")?ka.transform(e):pi.transform(e)},ht=(e,t,s)=>-s*e+s*t+e;function vm(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function C4({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let a=0,i=0,o=0;if(!t)a=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=vm(c,l,e+1/3),i=vm(c,l,e),o=vm(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const bm=(e,t,s)=>{const n=e*e;return Math.sqrt(Math.max(0,s*(t*t-n)+n))},k4=[Hh,ka,pi],T4=e=>k4.find(t=>t.test(e));function v0(e){const t=T4(e);let s=t.parse(e);return t===pi&&(s=C4(s)),s}const Kw=(e,t)=>{const s=v0(e),n=v0(t),a={...s};return i=>(a.red=bm(s.red,n.red,i),a.green=bm(s.green,n.green,i),a.blue=bm(s.blue,n.blue,i),a.alpha=ht(s.alpha,n.alpha,i),ka.transform(a))};function P4(e){var t,s;return isNaN(e)&&Cl(e)&&(((t=e.match(fu))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(vw))===null||s===void 0?void 0:s.length)||0)>0}const qw={regex:wE,countKey:"Vars",token:"${v}",parse:wt},Yw={regex:vw,countKey:"Colors",token:"${c}",parse:ss.parse},Zw={regex:fu,countKey:"Numbers",token:"${n}",parse:Ha.parse};function jm(e,{regex:t,countKey:s,token:n,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(a)))}function ud(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&jm(s,qw),jm(s,Yw),jm(s,Zw),s}function Qw(e){return ud(e).values}function Xw(e){const{values:t,numColors:s,numVars:n,tokenised:a}=ud(e),i=t.length;return o=>{let l=a;for(let c=0;c<i;c++)c<n?l=l.replace(qw.token,o[c]):c<n+s?l=l.replace(Yw.token,ss.transform(o[c])):l=l.replace(Zw.token,Do(o[c]));return l}}const E4=e=>typeof e=="number"?0:e;function A4(e){const t=Qw(e);return Xw(e)(t.map(E4))}const Jn={test:P4,parse:Qw,createTransformer:Xw,getAnimatableNone:A4},Jw=(e,t)=>s=>`${s>0?t:e}`;function eN(e,t){return typeof e=="number"?s=>ht(e,t,s):ss.test(e)?Kw(e,t):e.startsWith("var(")?Jw(e,t):sN(e,t)}const tN=(e,t)=>{const s=[...e],n=s.length,a=e.map((i,o)=>eN(i,t[o]));return i=>{for(let o=0;o<n;o++)s[o]=a[o](i);return s}},_4=(e,t)=>{const s={...e,...t},n={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(n[a]=eN(e[a],t[a]));return a=>{for(const i in n)s[i]=n[i](a);return s}},sN=(e,t)=>{const s=Jn.createTransformer(t),n=ud(e),a=ud(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Kn(tN(n.values,a.values),s):Jw(e,t)},cl=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},b0=(e,t)=>s=>ht(e,t,s);function R4(e){return typeof e=="number"?b0:typeof e=="string"?ss.test(e)?Kw:sN:Array.isArray(e)?tN:typeof e=="object"?_4:b0}function M4(e,t,s){const n=[],a=s||R4(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||wt:t;l=Kn(c,l)}n.push(l)}return n}function rN(e,t,{clamp:s=!0,ease:n,mixer:a}={}){const i=e.length;if(Bp(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=M4(t,n,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const m=cl(e[u],e[u+1],d);return o[u](m)};return s?d=>c(Xn(e[0],e[i-1],d)):c}function I4(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const a=cl(0,t,n);e.push(ht(s,1,a))}}function D4(e){const t=[0];return I4(t,e.length-1),t}function O4(e,t){return e.map(s=>s*t)}function L4(e,t){return e.map(()=>t||Bw).splice(0,e.length-1)}function md({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const a=y4(n)?n.map(y0):y0(n),i={done:!1,value:t[0]},o=O4(s&&s.length===t.length?s:D4(t),e),l=rN(o,t,{ease:Array.isArray(a)?a:L4(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function nN(e,t){return t?e*(1e3/t):0}const F4=5;function aN(e,t,s){const n=Math.max(t-F4,0);return nN(s-e(n),t-n)}const wm=.001,V4=.01,U4=10,B4=.05,z4=1;function $4({duration:e=800,bounce:t=.25,velocity:s=0,mass:n=1}){let a,i,o=1-t;o=Xn(B4,z4,o),e=Xn(V4,U4,Xr(e)),o<1?(a=d=>{const u=d*o,m=u*e,f=u-s,p=Gh(d,o),w=Math.exp(-m);return wm-f/p*w},i=d=>{const m=d*o*e,f=m*s+s,p=Math.pow(o,2)*Math.pow(d,2)*e,w=Math.exp(-m),y=Gh(Math.pow(d,2),o);return(-a(d)+wm>0?-1:1)*((f-p)*w)/y}):(a=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-wm+u*m},i=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const l=5/e,c=H4(a,i,l);if(e=_a(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const W4=12;function H4(e,t,s){let n=s;for(let a=1;a<W4;a++)n=n-e(n)/t(n);return n}function Gh(e,t){return e*Math.sqrt(1-t*t)}const G4=["duration","bounce"],K4=["stiffness","damping","mass"];function j0(e,t){return t.some(s=>e[s]!==void 0)}function q4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!j0(e,K4)&&j0(e,G4)){const s=$4(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function iN({keyframes:e,restDelta:t,restSpeed:s,...n}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:f}=q4({...n,velocity:-Xr(n.velocity||0)}),p=m||0,w=c/(2*Math.sqrt(l*d)),y=i-a,j=Xr(Math.sqrt(l/d)),v=Math.abs(y)<5;s||(s=v?.01:2),t||(t=v?.005:.5);let g;if(w<1){const x=Gh(j,w);g=b=>{const S=Math.exp(-w*j*b);return i-S*((p+w*j*y)/x*Math.sin(x*b)+y*Math.cos(x*b))}}else if(w===1)g=x=>i-Math.exp(-j*x)*(y+(p+j*y)*x);else{const x=j*Math.sqrt(w*w-1);g=b=>{const S=Math.exp(-w*j*b),k=Math.min(x*b,300);return i-S*((p+w*j*y)*Math.sinh(k)+x*y*Math.cosh(k))/x}}return{calculatedDuration:f&&u||null,next:x=>{const b=g(x);if(f)o.done=x>=u;else{let S=p;x!==0&&(w<1?S=aN(g,x,b):S=0);const k=Math.abs(S)<=s,T=Math.abs(i-b)<=t;o.done=k&&T}return o.value=o.done?i:b,o}}}function w0({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],f={done:!1,value:m},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,w=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let y=s*t;const j=m+y,v=o===void 0?j:o(j);v!==j&&(y=v-m);const g=C=>-y*Math.exp(-C/n),x=C=>v+g(C),b=C=>{const D=g(C),_=x(C);f.done=Math.abs(D)<=d,f.value=f.done?v:_};let S,k;const T=C=>{p(f.value)&&(S=C,k=iN({keyframes:[f.value,w(f.value)],velocity:aN(x,C,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return T(0),{calculatedDuration:null,next:C=>{let D=!1;return!k&&S===void 0&&(D=!0,b(C),T(C)),S!==void 0&&C>S?k.next(C-S):(!D&&b(C),f)}}}const Y4=e=>{const t=({timestamp:s})=>e(s);return{start:()=>nt.update(t,!0),stop:()=>nn(t),now:()=>Xt.isProcessing?Xt.timestamp:performance.now()}},N0=2e4;function S0(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<N0;)t+=s,n=e.next(t);return t>=N0?1/0:t}const Z4={decay:w0,inertia:w0,tween:md,keyframes:md,spring:iN};function hd({autoplay:e=!0,delay:t=0,driver:s=Y4,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:m,...f}){let p=1,w=!1,y,j;const v=()=>{j=new Promise(H=>{y=H})};v();let g;const x=Z4[a]||md;let b;x!==md&&typeof n[0]!="number"&&(b=rN([0,100],n,{clamp:!1}),n=[0,100]);const S=x({...f,keyframes:n});let k;l==="mirror"&&(k=x({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let T="idle",C=null,D=null,_=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=S0(S));const{calculatedDuration:R}=S;let P=1/0,E=1/0;R!==null&&(P=R+o,E=P*(i+1)-o);let N=0;const I=H=>{if(D===null)return;p>0&&(D=Math.min(D,H)),p<0&&(D=Math.min(H-E/p,D)),C!==null?N=C:N=Math.round(H-D)*p;const G=N-t*(p>=0?1:-1),de=p>=0?G<0:G>E;N=Math.max(G,0),T==="finished"&&C===null&&(N=E);let ve=N,Pe=S;if(i){const De=Math.min(N,E)/P;let Fe=Math.floor(De),tt=De%1;!tt&&De>=1&&(tt=1),tt===1&&Fe--,Fe=Math.min(Fe,i+1),!!(Fe%2)&&(l==="reverse"?(tt=1-tt,o&&(tt-=o/P)):l==="mirror"&&(Pe=k)),ve=Xn(0,1,tt)*P}const Me=de?{done:!1,value:n[0]}:Pe.next(ve);b&&(Me.value=b(Me.value));let{done:ge}=Me;!de&&R!==null&&(ge=p>=0?N>=E:N<=0);const Dt=C===null&&(T==="finished"||T==="running"&&ge);return m&&m(Me.value),Dt&&O(),Me},A=()=>{g&&g.stop(),g=void 0},z=()=>{T="idle",A(),y(),v(),D=_=null},O=()=>{T="finished",u&&u(),A(),y()},L=()=>{if(w)return;g||(g=s(I));const H=g.now();c&&c(),C!==null?D=H-C:(!D||T==="finished")&&(D=H),T==="finished"&&v(),_=D,C=null,T="running",g.start()};e&&L();const B={then(H,G){return j.then(H,G)},get time(){return Xr(N)},set time(H){H=_a(H),N=H,C!==null||!g||p===0?C=H:D=g.now()-H/p},get duration(){const H=S.calculatedDuration===null?S0(S):S.calculatedDuration;return Xr(H)},get speed(){return p},set speed(H){H===p||!g||(p=H,B.time=Xr(N))},get state(){return T},play:L,pause:()=>{T="paused",C=N},stop:()=>{w=!0,T!=="idle"&&(T="idle",d&&d(),z())},cancel:()=>{_!==null&&I(_),z()},complete:()=>{T="finished"},sample:H=>(D=0,I(H))};return B}function Q4(e){let t;return()=>(t===void 0&&(t=e()),t)}const X4=Q4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),J4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sc=10,eA=2e4,tA=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Lw(t.ease);function sA(e,t,{onUpdate:s,onComplete:n,...a}){if(!(X4()&&J4.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(x=>{l=x})};u();let{keyframes:m,duration:f=300,ease:p,times:w}=a;if(tA(t,a)){const x=hd({...a,repeat:0,delay:0});let b={done:!1,value:m[0]};const S=[];let k=0;for(;!b.done&&k<eA;)b=x.sample(k),S.push(b.value),k+=sc;w=void 0,m=S,f=k-sc,p="linear"}const y=u4(e.owner.current,t,m,{...a,duration:f,ease:p,times:w}),j=()=>{d=!1,y.cancel()},v=()=>{d=!0,nt.update(j),l(),u()};return y.onfinish=()=>{d||(e.set(m4(m,a)),n&&n(),v())},{then(x,b){return c.then(x,b)},attachTimeline(x){return y.timeline=x,y.onfinish=null,wt},get time(){return Xr(y.currentTime||0)},set time(x){y.currentTime=_a(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return Xr(f)},play:()=>{o||(y.play(),nn(j))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const b=hd({...a,autoplay:!1});e.setWithVelocity(b.sample(x-sc).value,b.sample(x).value,sc)}v()},complete:()=>{d||y.finish()},cancel:v}}function rA({keyframes:e,delay:t,onUpdate:s,onComplete:n}){const a=()=>(s&&s(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:wt,pause:wt,stop:wt,then:i=>(i(),Promise.resolve()),cancel:wt,complete:wt});return t?hd({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const nA={type:"spring",stiffness:500,damping:25,restSpeed:10},aA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iA={type:"keyframes",duration:.8},oA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lA=(e,{keyframes:t})=>t.length>2?iA:Wa.has(e)?e.startsWith("scale")?aA(t[1]):nA:oA,Kh=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jn.test(t)||t==="0")&&!t.startsWith("url(")),cA=new Set(["brightness","contrast","saturate","opacity"]);function dA(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(fu)||[];if(!n)return e;const a=s.replace(n,"");let i=cA.has(t)?1:0;return n!==s&&(i*=100),t+"("+i+a+")"}const uA=/([a-z-]*)\(.*?\)/g,qh={...Jn,getAnimatableNone:e=>{const t=e.match(uA);return t?t.map(dA).join(" "):e}},mA={...bw,color:ss,backgroundColor:ss,outlineColor:ss,fill:ss,stroke:ss,borderColor:ss,borderTopColor:ss,borderRightColor:ss,borderBottomColor:ss,borderLeftColor:ss,filter:qh,WebkitFilter:qh},Hp=e=>mA[e];function oN(e,t){let s=Hp(e);return s!==qh&&(s=Jn),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const lN=e=>/^0[^.\s]+$/.test(e);function hA(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||lN(e)}function fA(e,t,s,n){const a=Kh(t,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),hA(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(a&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];i[u]=oN(t,l)}return i}function pA({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function Gp(e,t){return e[t]||e.default||e}const xA={skipAnimations:!1},Kp=(e,t,s,n={})=>a=>{const i=Gp(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-_a(o);const c=fA(t,e,s,i),d=c[0],u=c[c.length-1],m=Kh(e,d),f=Kh(e,u);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:w=>{t.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(pA(i)||(p={...p,...lA(e,p)}),p.duration&&(p.duration=_a(p.duration)),p.repeatDelay&&(p.repeatDelay=_a(p.repeatDelay)),!m||!f||d4.current||i.type===!1||xA.skipAnimations)return rA(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=sA(t,e,p);if(w)return w}return hd(p)};function fd(e){return!!(ks(e)&&e.add)}const cN=e=>/^\-?\d*\.?\d+$/.test(e);function qp(e,t){e.indexOf(t)===-1&&e.push(t)}function Yp(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Zp{constructor(){this.subscriptions=[]}add(t){return qp(this.subscriptions,t),()=>Yp(this.subscriptions,t)}notify(t,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gA=e=>!isNaN(parseFloat(e));class yA{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Xt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,nt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>nt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=gA(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Zp);const n=this.events[t].add(s);return t==="change"?()=>{n(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?nN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fi(e,t){return new yA(e,t)}const dN=e=>t=>t.test(e),vA={test:e=>e==="auto",parse:e=>e},uN=[Ha,be,Mr,Nn,kE,CE,vA],uo=e=>uN.find(dN(e)),bA=[...uN,ss,Jn],jA=e=>bA.find(dN(e));function wA(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Fi(s))}function NA(e,t){const s=xu(e,t);let{transitionEnd:n={},transition:a={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...n};for(const o in i){const l=UE(i[o]);wA(e,o,l)}}function SA(e,t,s){var n,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(a=(n=s[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&a!==void 0?a:t[c]),u!=null&&(typeof u=="string"&&(cN(u)||lN(u))?u=parseFloat(u):!jA(u)&&Jn.test(d)&&(u=oN(c,d)),e.addValue(c,Fi(u,{owner:e})),s[c]===void 0&&(s[c]=u),u!==null&&e.setBaseTarget(c,u))}}function CA(e,t){return t?(t[e]||t.default||t).from:void 0}function kA(e,t,s){const n={};for(const a in e){const i=CA(a,t);if(i!==void 0)n[a]=i;else{const o=s.getValue(a);o&&(n[a]=o.get())}}return n}function TA({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function PA(e,t){const s=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}else return s!==t}function mN(e,t,{delay:s=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const m in l){const f=e.getValue(m),p=l[m];if(!f||p===void 0||u&&TA(u,m))continue;const w={delay:s,elapsed:0,...Gp(i||{},m)};if(window.HandoffAppearAnimations){const v=e.getProps()[hw];if(v){const g=window.HandoffAppearAnimations(v,m,f,nt);g!==null&&(w.elapsed=g,w.isHandoff=!0)}}let y=!w.isHandoff&&!PA(f,p);if(w.type==="spring"&&(f.getVelocity()||w.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(Kp(m,f,p,e.shouldReduceMotion&&Wa.has(m)?{type:!1}:w));const j=f.animation;fd(c)&&(c.add(m),j.then(()=>c.remove(m))),d.push(j)}return o&&Promise.all(d).then(()=>{o&&NA(e,o)}),d}function Yh(e,t,s={}){const n=xu(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const i=n?()=>Promise.all(mN(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:m}=a;return EA(e,t,d+c,u,m,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(s.delay)])}function EA(e,t,s=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(AA).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Yh(d,t,{...i,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function AA(e,t){return e.sortNodePosition(t)}function _A(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>Yh(e,i,s));n=Promise.all(a)}else if(typeof t=="string")n=Yh(e,t,s);else{const a=typeof t=="function"?xu(e,t,s.custom):t;n=Promise.all(mN(e,a,s))}return n.then(()=>e.notify("AnimationComplete",t))}const RA=[..._p].reverse(),MA=_p.length;function IA(e){return t=>Promise.all(t.map(({animation:s,options:n})=>_A(e,s,n)))}function DA(e){let t=IA(e);const s=LA();let n=!0;const a=(c,d)=>{const u=xu(e,d);if(u){const{transition:m,transitionEnd:f,...p}=u;c={...c,...p,...f}}return c};function i(c){t=c(e)}function o(c,d){const u=e.getProps(),m=e.getVariantContext(!0)||{},f=[],p=new Set;let w={},y=1/0;for(let v=0;v<MA;v++){const g=RA[v],x=s[g],b=u[g]!==void 0?u[g]:m[g],S=ol(b),k=g===d?x.isActive:null;k===!1&&(y=v);let T=b===m[g]&&b!==u[g]&&S;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),x.protectedKeys={...w},!x.isActive&&k===null||!b&&!x.prevProp||mu(b)||typeof b=="boolean")continue;let D=OA(x.prevProp,b)||g===d&&x.isActive&&!T&&S||v>y&&S,_=!1;const R=Array.isArray(b)?b:[b];let P=R.reduce(a,{});k===!1&&(P={});const{prevResolvedValues:E={}}=x,N={...E,...P},I=A=>{D=!0,p.has(A)&&(_=!0,p.delete(A)),x.needsAnimating[A]=!0};for(const A in N){const z=P[A],O=E[A];if(w.hasOwnProperty(A))continue;let L=!1;dd(z)&&dd(O)?L=!Dw(z,O):L=z!==O,L?z!==void 0?I(A):p.add(A):z!==void 0&&p.has(A)?I(A):x.protectedKeys[A]=!0}x.prevProp=b,x.prevResolvedValues=P,x.isActive&&(w={...w,...P}),n&&e.blockInitialAnimation&&(D=!1),D&&(!T||_)&&f.push(...R.map(A=>({animation:A,options:{type:g,...c}})))}if(p.size){const v={};p.forEach(g=>{const x=e.getBaseTarget(g);x!==void 0&&(v[g]=x)}),f.push({animation:v})}let j=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?t(f):Promise.resolve()}function l(c,d,u){var m;if(s[c].isActive===d)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,d)}),s[c].isActive=d;const f=o(u,c);for(const p in s)s[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s}}function OA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Dw(t,e):!1}function xa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LA(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}class FA extends fa{constructor(t){super(t),t.animationState||(t.animationState=DA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),mu(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let VA=0;class UA extends fa{constructor(){super(...arguments),this.id=VA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const BA={animation:{Feature:FA},exit:{Feature:UA}},C0=(e,t)=>Math.abs(e-t);function zA(e,t){const s=C0(e.x,t.x),n=C0(e.y,t.y);return Math.sqrt(s**2+n**2)}class hN{constructor(t,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Sm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=zA(m.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:w}=m,{timestamp:y}=Xt;this.history.push({...w,timestamp:y});const{onStart:j,onMove:v}=this.handlers;f||(j&&j(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Nm(f,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Sm(m.type==="pointercancel"?this.lastMoveEventInfo:Nm(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,j),w&&w(m,j)},!Aw(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const o=pu(t),l=Nm(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Xt;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,Sm(l,this.history)),this.removeListeners=Kn(Qr(this.contextWindow,"pointermove",this.handlePointerMove),Qr(this.contextWindow,"pointerup",this.handlePointerUp),Qr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nn(this.updatePoint)}}function Nm(e,t){return t?{point:t(e.point)}:e}function k0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sm({point:e},t){return{point:e,delta:k0(e,fN(t)),offset:k0(e,$A(t)),velocity:WA(t,.1)}}function $A(e){return e[0]}function fN(e){return e[e.length-1]}function WA(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=fN(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>_a(t)));)s--;if(!n)return{x:0,y:0};const i=Xr(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ls(e){return e.max-e.min}function Zh(e,t=0,s=.01){return Math.abs(e-t)<=s}function T0(e,t,s,n=.5){e.origin=n,e.originPoint=ht(t.min,t.max,e.origin),e.scale=Ls(s)/Ls(t),(Zh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ht(s.min,s.max,e.origin)-e.originPoint,(Zh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Oo(e,t,s,n){T0(e.x,t.x,s.x,n?n.originX:void 0),T0(e.y,t.y,s.y,n?n.originY:void 0)}function P0(e,t,s){e.min=s.min+t.min,e.max=e.min+Ls(t)}function HA(e,t,s){P0(e.x,t.x,s.x),P0(e.y,t.y,s.y)}function E0(e,t,s){e.min=t.min-s.min,e.max=e.min+Ls(t)}function Lo(e,t,s){E0(e.x,t.x,s.x),E0(e.y,t.y,s.y)}function GA(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?ht(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?ht(s,e,n.max):Math.min(e,s)),e}function A0(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function KA(e,{top:t,left:s,bottom:n,right:a}){return{x:A0(e.x,s,a),y:A0(e.y,t,n)}}function _0(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function qA(e,t){return{x:_0(e.x,t.x),y:_0(e.y,t.y)}}function YA(e,t){let s=.5;const n=Ls(e),a=Ls(t);return a>n?s=cl(t.min,t.max-n,e.min):n>a&&(s=cl(e.min,e.max-a,t.min)),Xn(0,1,s)}function ZA(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Qh=.35;function QA(e=Qh){return e===!1?e=0:e===!0&&(e=Qh),{x:R0(e,"left","right"),y:R0(e,"top","bottom")}}function R0(e,t,s){return{min:M0(e,t),max:M0(e,s)}}function M0(e,t){return typeof e=="number"?e:e[t]||0}const I0=()=>({translate:0,scale:1,origin:0,originPoint:0}),xi=()=>({x:I0(),y:I0()}),D0=()=>({min:0,max:0}),Et=()=>({x:D0(),y:D0()});function Gs(e){return[e("x"),e("y")]}function pN({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function XA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function JA(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Cm(e){return e===void 0||e===1}function Xh({scale:e,scaleX:t,scaleY:s}){return!Cm(e)||!Cm(t)||!Cm(s)}function va(e){return Xh(e)||xN(e)||e.z||e.rotate||e.rotateX||e.rotateY}function xN(e){return O0(e.x)||O0(e.y)}function O0(e){return e&&e!=="0%"}function pd(e,t,s){const n=e-s,a=t*n;return s+a}function L0(e,t,s,n,a){return a!==void 0&&(e=pd(e,a,n)),pd(e,s,n)+t}function Jh(e,t=0,s=1,n,a){e.min=L0(e.min,t,s,n,a),e.max=L0(e.max,t,s,n,a)}function gN(e,{x:t,y:s}){Jh(e.x,t.translate,t.scale,t.originPoint),Jh(e.y,s.translate,s.scale,s.originPoint)}function e5(e,t,s,n=!1){const a=s.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=s[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,gN(e,o)),n&&va(i.latestValues)&&gi(e,i.latestValues))}t.x=F0(t.x),t.y=F0(t.y)}function F0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function En(e,t){e.min=e.min+t,e.max=e.max+t}function V0(e,t,[s,n,a]){const i=t[a]!==void 0?t[a]:.5,o=ht(e.min,e.max,i);Jh(e,t[s],t[n],o,t.scale)}const t5=["x","scaleX","originX"],s5=["y","scaleY","originY"];function gi(e,t){V0(e.x,t,t5),V0(e.y,t,s5)}function yN(e,t){return pN(JA(e.getBoundingClientRect(),t))}function r5(e,t,s){const n=yN(e,s),{scroll:a}=t;return a&&(En(n.x,a.offset.x),En(n.y,a.offset.y)),n}const vN=({current:e})=>e?e.ownerDocument.defaultView:null,n5=new WeakMap;class a5{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(pu(u,"page").point)},i=(u,m)=>{const{drag:f,dragPropagation:p,onDragStart:w}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Rw(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gs(j=>{let v=this.getAxisMotionValue(j).get()||0;if(Mr.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[j];x&&(v=Ls(x)*(parseFloat(v)/100))}}this.originPoint[j]=v}),w&&nt.update(()=>w(u,m),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:w,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:j}=m;if(p&&this.currentDirection===null){this.currentDirection=i5(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",m.point,j),this.updateAxis("y",m.point,j),this.visualElement.render(),y&&y(u,m)},l=(u,m)=>this.stop(u,m),c=()=>Gs(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new hN(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:vN(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&nt.update(()=>i(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!rc(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=GA(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;s&&fi(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=KA(a.layoutBox,s):this.constraints=!1,this.elastic=QA(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Gs(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=ZA(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!fi(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=r5(n,a.root,this.visualElement.getTransformPagePoint());let o=qA(a.layout.layoutBox,i);if(s){const l=s(XA(o));this.hasMutatedConstraints=!!l,l&&(o=pN(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Gs(u=>{if(!rc(u,s,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const f=a?200:1e6,p=a?40:1e7,w={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,w)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return n.start(Kp(t,n,0,s))}stopAnimation(){Gs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gs(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Gs(s=>{const{drag:n}=this.getProps();if(!rc(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[s];i.set(t[s]-ht(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!fi(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gs(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=YA({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gs(o=>{if(!rc(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ht(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;n5.set(this.visualElement,this);const t=this.visualElement.current,s=Qr(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();fi(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=Kr(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Gs(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Qh,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function rc(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function i5(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class o5 extends fa{constructor(t){super(t),this.removeGroupControls=wt,this.removeListeners=wt,this.controls=new a5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const U0=e=>(t,s)=>{e&&nt.update(()=>e(t,s))};class l5 extends fa{constructor(){super(...arguments),this.removePointerDownListener=wt}onPointerDown(t){this.session=new hN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:U0(t),onStart:U0(s),onMove:n,onEnd:(i,o)=>{delete this.session,a&&nt.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Qr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function c5(){const e=h.useContext(du);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,a=h.useId();return h.useEffect(()=>n(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function B0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const mo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const s=B0(e,t.target.x),n=B0(e,t.target.y);return`${s}% ${n}%`}},d5={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=Jn.parse(e);if(a.length>5)return n;const i=Jn.createTransformer(e),o=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=ht(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class u5 extends K.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;yE(m5),i&&(s.group&&s.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||nt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bN(e){const[t,s]=c5(),n=h.useContext(Mp);return K.createElement(u5,{...e,layoutGroup:n,switchLayoutGroup:h.useContext(pw),isPresent:t,safeToRemove:s})}const m5={borderRadius:{...mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mo,borderTopRightRadius:mo,borderBottomLeftRadius:mo,borderBottomRightRadius:mo,boxShadow:d5},jN=["TopLeft","TopRight","BottomLeft","BottomRight"],h5=jN.length,z0=e=>typeof e=="string"?parseFloat(e):e,$0=e=>typeof e=="number"||be.test(e);function f5(e,t,s,n,a,i){a?(e.opacity=ht(0,s.opacity!==void 0?s.opacity:1,p5(n)),e.opacityExit=ht(t.opacity!==void 0?t.opacity:1,0,x5(n))):i&&(e.opacity=ht(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<h5;o++){const l=`border${jN[o]}Radius`;let c=W0(t,l),d=W0(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||$0(c)===$0(d)?(e[l]=Math.max(ht(z0(c),z0(d),n),0),(Mr.test(d)||Mr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=ht(t.rotate||0,s.rotate||0,n))}function W0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const p5=wN(0,.5,Ww),x5=wN(.5,.95,wt);function wN(e,t,s){return n=>n<e?0:n>t?1:s(cl(e,t,n))}function H0(e,t){e.min=t.min,e.max=t.max}function Hs(e,t){H0(e.x,t.x),H0(e.y,t.y)}function G0(e,t,s,n,a){return e-=t,e=pd(e,1/s,n),a!==void 0&&(e=pd(e,1/a,n)),e}function g5(e,t=0,s=1,n=.5,a,i=e,o=e){if(Mr.test(t)&&(t=parseFloat(t),t=ht(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ht(i.min,i.max,n);e===i&&(l-=t),e.min=G0(e.min,t,s,l,a),e.max=G0(e.max,t,s,l,a)}function K0(e,t,[s,n,a],i,o){g5(e,t[s],t[n],t[a],t.scale,i,o)}const y5=["x","scaleX","originX"],v5=["y","scaleY","originY"];function q0(e,t,s,n){K0(e.x,t,y5,s?s.x:void 0,n?n.x:void 0),K0(e.y,t,v5,s?s.y:void 0,n?n.y:void 0)}function Y0(e){return e.translate===0&&e.scale===1}function NN(e){return Y0(e.x)&&Y0(e.y)}function b5(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function SN(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Z0(e){return Ls(e.x)/Ls(e.y)}class j5{constructor(){this.members=[]}add(t){qp(this.members,t),t.scheduleRender()}remove(t){if(Yp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Q0(e,t,s){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:d,rotateY:u}=s;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const w5=(e,t)=>e.depth-t.depth;class N5{constructor(){this.children=[],this.isDirty=!1}add(t){qp(this.children,t),this.isDirty=!0}remove(t){Yp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(w5),this.isDirty=!1,this.children.forEach(t)}}function S5(e,t){const s=performance.now(),n=({timestamp:a})=>{const i=a-s;i>=t&&(nn(n),e(i-t))};return nt.read(n,!0),()=>nn(n)}function C5(e){window.MotionDebug&&window.MotionDebug.record(e)}function k5(e){return e instanceof SVGElement&&e.tagName!=="svg"}function T5(e,t,s){const n=ks(e)?e:Fi(e);return n.start(Kp("",n,t,s)),n.animation}const X0=["","X","Y","Z"],P5={visibility:"hidden"},J0=1e3;let E5=0;const ba={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function CN({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=E5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ba.totalNodes=ba.resolvedTargetDeltas=ba.recalculatedProjection=0,this.nodes.forEach(R5),this.nodes.forEach(L5),this.nodes.forEach(F5),this.nodes.forEach(M5),C5(ba)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new N5)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zp),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=k5(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=S5(f,250),kc.hasAnimatedSinceResize&&(kc.hasAnimatedSinceResize=!1,this.nodes.forEach(ty))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||$5,{onLayoutAnimationStart:j,onLayoutAnimationComplete:v}=u.getProps(),g=!this.targetLayout||!SN(this.targetLayout,w)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,x);const b={...Gp(y,"layout"),onPlay:j,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||ty(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(V5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ey);return}this.isUpdating||this.nodes.forEach(D5),this.isUpdating=!1,this.nodes.forEach(O5),this.nodes.forEach(A5),this.nodes.forEach(_5),this.clearAllSnapshots();const l=performance.now();Xt.delta=Xn(0,1e3/60,l-Xt.timestamp),Xt.timestamp=l,Xt.isProcessing=!0,pm.update.process(Xt),pm.preRender.process(Xt),pm.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(I5),this.sharedNodes.forEach(U5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!NN(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||va(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),W5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Et();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(En(l.x,c.offset.x),En(l.y,c.offset.y)),l}removeElementScroll(o){const l=Et();Hs(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:m}=d;if(d!==this.root&&u&&m.layoutScroll){if(u.isRoot){Hs(l,o);const{scroll:f}=this.root;f&&(En(l.x,-f.offset.x),En(l.y,-f.offset.y))}En(l.x,u.offset.x),En(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=Et();Hs(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&gi(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),va(u.latestValues)&&gi(c,u.latestValues)}return va(this.latestValues)&&gi(c,this.latestValues),c}removeTransform(o){const l=Et();Hs(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!va(d.latestValues))continue;Xh(d.latestValues)&&d.updateSnapshot();const u=Et(),m=d.measurePageBox();Hs(u,m),q0(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return va(this.latestValues)&&q0(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Lo(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),gN(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Lo(this.relativeTargetOrigin,this.target,p.target),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ba.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xh(this.parent.latestValues)||xN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Hs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;e5(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=xi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=xi(),this.projectionDeltaWithTransform=xi());const y=this.projectionTransform;Oo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Q0(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ba.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=xi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Et(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,y=p!==w,j=this.getStack(),v=!j||j.members.length<=1,g=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(z5));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const S=b/1e3;sy(m.x,o.x,S),sy(m.y,o.y,S),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B5(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&b5(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Et()),Hs(x,this.relativeTarget)),y&&(this.animationValues=u,f5(u,d,this.latestValues,S,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{kc.hasAnimatedSinceResize=!0,this.currentAnimation=T5(0,J0,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&kN(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Et();const m=Ls(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const f=Ls(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Hs(l,c),gi(l,u),Oo(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new j5),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<X0.length;u++){const m="rotate"+X0[u];c[m]&&(d[m]=c[m],o.setStaticValue(m,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return P5;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Cc(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Cc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=Q0(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:p,y:w}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=m===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ld){if(f[y]===void 0)continue;const{correct:j,applyTo:v}=ld[y],g=d.transform==="none"?f[y]:j(f[y],m);if(v){const x=v.length;for(let b=0;b<x;b++)d[v[b]]=g}else d[y]=g}return this.options.layoutId&&(d.pointerEvents=m===this?Cc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ey),this.root.sharedNodes.clear()}}}function A5(e){e.updateLayout()}function _5(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=s.source!==e.layout.source;i==="size"?Gs(m=>{const f=o?s.measuredBox[m]:s.layoutBox[m],p=Ls(f);f.min=n[m].min,f.max=f.min+p}):kN(i,s.layoutBox,n)&&Gs(m=>{const f=o?s.measuredBox[m]:s.layoutBox[m],p=Ls(n[m]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=xi();Oo(l,n,s.layoutBox);const c=xi();o?Oo(c,e.applyTransform(a,!0),s.measuredBox):Oo(c,n,s.layoutBox);const d=!NN(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:p}=m;if(f&&p){const w=Et();Lo(w,s.layoutBox,f.layoutBox);const y=Et();Lo(y,n,p.layoutBox),SN(w,y)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function R5(e){ba.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function M5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function I5(e){e.clearSnapshot()}function ey(e){e.clearMeasurements()}function D5(e){e.isLayoutDirty=!1}function O5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ty(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function L5(e){e.resolveTargetDelta()}function F5(e){e.calcProjection()}function V5(e){e.resetRotation()}function U5(e){e.removeLeadSnapshot()}function sy(e,t,s){e.translate=ht(t.translate,0,s),e.scale=ht(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function ry(e,t,s,n){e.min=ht(t.min,s.min,n),e.max=ht(t.max,s.max,n)}function B5(e,t,s,n){ry(e.x,t.x,s.x,n),ry(e.y,t.y,s.y,n)}function z5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $5={duration:.45,ease:[.4,0,.1,1]},ny=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),ay=ny("applewebkit/")&&!ny("chrome/")?Math.round:wt;function iy(e){e.min=ay(e.min),e.max=ay(e.max)}function W5(e){iy(e.x),iy(e.y)}function kN(e,t,s){return e==="position"||e==="preserve-aspect"&&!Zh(Z0(t),Z0(s),.2)}const H5=CN({attachResizeListener:(e,t)=>Kr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),km={current:void 0},TN=CN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!km.current){const e=new H5({});e.mount(window),e.setOptions({layoutScroll:!0}),km.current=e}return km.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),G5={pan:{Feature:l5},drag:{Feature:o5,ProjectionNode:TN,MeasureLayout:bN}},K5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function q5(e){const t=K5.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]}function ef(e,t,s=1){const[n,a]=q5(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return cN(o)?parseFloat(o):o}else return $h(a)?ef(a,t,s+1):a}function Y5(e,{...t},s){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const i=a.get();if(!$h(i))return;const o=ef(i,n);o&&a.set(o)});for(const a in t){const i=t[a];if(!$h(i))continue;const o=ef(i,n);o&&(t[a]=o,s||(s={}),s[a]===void 0&&(s[a]=i))}return{target:t,transitionEnd:s}}const Z5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),PN=e=>Z5.has(e),Q5=e=>Object.keys(e).some(PN),oy=e=>e===Ha||e===be,ly=(e,t)=>parseFloat(e.split(", ")[t]),cy=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return ly(a[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?ly(i[1],e):0}},X5=new Set(["x","y","z"]),J5=Sl.filter(e=>!X5.has(e));function e_(e){const t=[];return J5.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Vi={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:cy(4,13),y:cy(5,14)};Vi.translateX=Vi.x;Vi.translateY=Vi.y;const t_=(e,t,s)=>{const n=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(d=>{l[d]=Vi[d](n,i)}),t.render();const c=t.measureViewportBox();return s.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=Vi[d](c,i)}),e},s_=(e,t,s={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(PN);let i=[],o=!1;const l=[];if(a.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=s[c],m=uo(u);const f=t[c];let p;if(dd(f)){const w=f.length,y=f[0]===null?1:0;u=f[y],m=uo(u);for(let j=y;j<w&&f[j]!==null;j++)p?Bp(uo(f[j])===p):p=uo(f[j])}else p=uo(f);if(m!==p)if(oy(m)&&oy(p)){const w=d.get();typeof w=="string"&&d.set(parseFloat(w)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&p===be&&(t[c]=f.map(parseFloat))}else m!=null&&m.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?d.set(p.transform(u)):t[c]=m.transform(f):(o||(i=e_(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],d.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=t_(t,e,l);return i.length&&i.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),uu&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function r_(e,t,s,n){return Q5(t)?s_(e,t,s,n):{target:t,transitionEnd:n}}const n_=(e,t,s,n)=>{const a=Y5(e,t,n);return t=a.target,n=a.transitionEnd,r_(e,t,s,n)},xd={current:null},Qp={current:!1};function EN(){if(Qp.current=!0,!!uu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xd.current=e.matches;e.addListener(t),t()}else xd.current=!1}function a_(e,t,s){const{willChange:n}=t;for(const a in t){const i=t[a],o=s[a];if(ks(i))e.addValue(a,i),fd(n)&&n.add(a);else if(ks(o))e.addValue(a,Fi(i,{owner:e})),fd(n)&&n.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,Fi(l!==void 0?l:i,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const dy=new WeakMap,AN=Object.keys(ll),i_=AN.length,uy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],o_=Rp.length;class l_{constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>nt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=hu(s),this.isVariantNode=fw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const f=u[m];l[m]!==void 0&&ks(f)&&(f.set(l[m],!1),fd(d)&&d.add(m))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,dy.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Qp.current||EN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dy.delete(this.current),this.projection&&this.projection.unmount(),nn(this.notifyUpdate),nn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const n=Wa.has(t),a=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&nt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},n,a,i){let o,l;for(let c=0;c<i_;c++){const d=AN[c],{isEnabled:u,Feature:m,ProjectionNode:f,MeasureLayout:p}=ll[d];f&&(o=f),u(s)&&(!this.features[d]&&m&&(this.features[d]=new m(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:m,layoutScroll:f,layoutRoot:p}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||m&&fi(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<uy.length;n++){const a=uy[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=a_(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<o_;n++){const a=Rp[n],i=this.props[a];(ol(i)||i===!1)&&(s[a]=i)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Fi(s,{owner:this}),this.addValue(t,n)),n}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(s=Up(this.props,n))===null||s===void 0?void 0:s[t]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ks(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Zp),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class _N extends l_{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...n},{transformValues:a},i){let o=kA(n,t||{},this);if(a&&(s&&(s=a(s)),n&&(n=a(n)),o&&(o=a(o))),i){SA(this,n,o);const l=n_(this,n,o,s);s=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:s,...n}}}function c_(e){return window.getComputedStyle(e)}class d_ extends _N{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Wa.has(s)){const n=Hp(s);return n&&n.default||0}else{const n=c_(t),a=(yw(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return yN(t,s)}build(t,s,n,a){Dp(t,s,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Vp(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ks(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,n,a){Sw(t,s,n,a)}}class u_ extends _N{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Wa.has(s)){const n=Hp(s);return n&&n.default||0}return s=Cw.has(s)?s:Ap(s),t.getAttribute(s)}measureInstanceViewportBox(){return Et()}scrapeMotionValuesFromProps(t,s){return Tw(t,s)}build(t,s,n,a){Lp(t,s,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,n,a){kw(t,s,n,a)}mount(t){this.isSVGTag=Fp(t.tagName),super.mount(t)}}const m_=(e,t)=>Ip(e)?new u_(t,{enableHardwareAcceleration:!1}):new d_(t,{enableHardwareAcceleration:!0}),h_={layout:{ProjectionNode:TN,MeasureLayout:bN}},f_={...BA,...o4,...G5,...h_},Te=xE((e,t)=>qE(e,t,f_,m_));function RN(){const e=h.useRef(!1);return Ep(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function p_(){const e=RN(),[t,s]=h.useState(0),n=h.useCallback(()=>{e.current&&s(t+1)},[t]);return[h.useCallback(()=>nt.postRender(n),[n]),t]}class x_ extends h.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g_({children:e,isPresent:t}){const s=h.useId(),n=h.useRef(null),a=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),h.createElement(x_,{isPresent:t,childRef:n,sizeRef:a},h.cloneElement(e,{ref:n}))}const Tm=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=Pw(y_),c=h.useId(),d=h.useMemo(()=>({id:c,initial:t,isPresent:s,custom:a,onExitComplete:u=>{l.set(u,!0);for(const m of l.values())if(!m)return;n&&n()},register:u=>(l.set(u,!1),()=>l.delete(u))}),i?void 0:[s]);return h.useMemo(()=>{l.forEach((u,m)=>l.set(m,!1))},[s]),h.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),o==="popLayout"&&(e=h.createElement(g_,{isPresent:s},e)),h.createElement(du.Provider,{value:d},e)};function y_(){return new Map}function v_(e){return h.useEffect(()=>()=>e(),[])}const ja=e=>e.key||"";function b_(e,t){e.forEach(s=>{const n=ja(s);t.set(n,s)})}function j_(e){const t=[];return h.Children.forEach(e,s=>{h.isValidElement(s)&&t.push(s)}),t}const gd=({children:e,custom:t,initial:s=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=h.useContext(Mp).forceRender||p_()[0],c=RN(),d=j_(e);let u=d;const m=h.useRef(new Map).current,f=h.useRef(u),p=h.useRef(new Map).current,w=h.useRef(!0);if(Ep(()=>{w.current=!1,b_(d,p),f.current=u}),v_(()=>{w.current=!0,p.clear(),m.clear()}),w.current)return h.createElement(h.Fragment,null,u.map(g=>h.createElement(Tm,{key:ja(g),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:o},g)));u=[...u];const y=f.current.map(ja),j=d.map(ja),v=y.length;for(let g=0;g<v;g++){const x=y[g];j.indexOf(x)===-1&&!m.has(x)&&m.set(x,void 0)}return o==="wait"&&m.size&&(u=[]),m.forEach((g,x)=>{if(j.indexOf(x)!==-1)return;const b=p.get(x);if(!b)return;const S=y.indexOf(x);let k=g;if(!k){const T=()=>{m.delete(x);const C=Array.from(p.keys()).filter(D=>!j.includes(D));if(C.forEach(D=>p.delete(D)),f.current=d.filter(D=>{const _=ja(D);return _===x||C.includes(_)}),!m.size){if(c.current===!1)return;l(),n&&n()}};k=h.createElement(Tm,{key:ja(b),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:i,mode:o},b),m.set(x,k)}u.splice(S,0,k)}),u=u.map(g=>{const x=g.key;return m.has(x)?g:h.createElement(Tm,{key:ja(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),h.createElement(h.Fragment,null,m.size?u:u.map(g=>h.cloneElement(g)))};function w_(){!Qp.current&&EN();const[e]=h.useState(xd.current);return e}/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const s=h.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>h.createElement("svg",{ref:u,...N_,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${S_(e)}`,l].join(" "),...d},[...t.map(([m,f])=>h.createElement(m,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=ne("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=ne("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=ne("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ne("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ne("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=ne("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ne("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ne("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ne("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ne("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ne("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ne("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);let rf=null;function gy(e){rf=e}async function It(e,t={}){const s=await fetch(e,{credentials:"include",...t});return s.status===401&&rf&&(localStorage.removeItem("user"),rf({user:null,isLoading:!1,isAuthenticated:!1,lastActivity:Date.now()})),s}function Bs(){const[e,t]=h.useState({user:null,isLoading:!0,isAuthenticated:!1,lastActivity:Date.now()});h.useEffect(()=>(gy(t),()=>gy(null)),[]);const s=()=>{t(c=>({...c,lastActivity:Date.now()}))},n=async(c,d)=>{try{const u=await It("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:d})}),m=await u.json();return u.ok?(localStorage.setItem("user",JSON.stringify(m.user)),t({user:m.user,isLoading:!1,isAuthenticated:!0,lastActivity:Date.now()}),{success:!0,user:m.user}):{success:!1,error:m.error}}catch{return{success:!1,error:"Network error occurred"}}},a=async()=>{try{await It("/api/auth/logout",{method:"POST"})}catch(c){console.error("Logout error:",c)}finally{localStorage.removeItem("user"),t({user:null,isLoading:!1,isAuthenticated:!1,lastActivity:Date.now()})}},i=async()=>{try{const c=localStorage.getItem("user");if(c){const u=JSON.parse(c);t({user:u,isLoading:!1,isAuthenticated:!0,lastActivity:Date.now()}),o();return}const d=await It("/api/auth/me");if(d.ok){const u=await d.json();localStorage.setItem("user",JSON.stringify(u.user)),t({user:u.user,isLoading:!1,isAuthenticated:!0,lastActivity:Date.now()})}else localStorage.removeItem("user"),t({user:null,isLoading:!1,isAuthenticated:!1,lastActivity:Date.now()})}catch{localStorage.removeItem("user"),t({user:null,isLoading:!1,isAuthenticated:!1,lastActivity:Date.now()})}},o=async()=>{try{const c=await It("/api/auth/me");if(c.ok){const d=await c.json();return localStorage.setItem("user",JSON.stringify(d.user)),t(u=>({...u,user:d.user})),d.user}}catch(c){console.error("Error refreshing user data:",c)}return null},l=async c=>{try{const d=await It("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),u=await d.json();return d.ok?(localStorage.setItem("user",JSON.stringify(u.user)),t({user:u.user,isLoading:!1,isAuthenticated:!0,lastActivity:Date.now()}),{success:!0,user:u.user}):{success:!1,error:u.error}}catch{return{success:!1,error:"Network error occurred"}}};return h.useEffect(()=>{i()},[]),{...e,login:n,logout:a,signup:l,checkAuth:i,updateLastActivity:s,refreshUserData:o}}function VN(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=VN(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function UN(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=VN(e))&&(n&&(n+=" "),n+=t);return n}const Jp="-",X_=e=>{const t=eR(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Jp);return l[0]===""&&l.length!==1&&l.shift(),BN(l,t)||J_(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},BN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),a=n?BN(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Jp);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},yy=/^\[(.+)\]$/,J_=e=>{if(yy.test(e)){const t=yy.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},eR=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return sR(Object.entries(e.classGroups),s).forEach(([i,o])=>{nf(o,n,i,t)}),n},nf=(e,t,s,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:vy(t,a);i.classGroupId=s;return}if(typeof a=="function"){if(tR(a)){nf(a(n),t,s,n);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,o])=>{nf(o,vy(t,i),s,n)})})},vy=(e,t)=>{let s=e;return t.split(Jp).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},tR=e=>e.isThemeGetter,sR=(e,t)=>t?e.map(([s,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,a]}):e,rR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const a=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,n=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){s.has(i)?s.set(i,o):a(i,o)}}},zN="!",nR=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,m;for(let j=0;j<l.length;j++){let v=l[j];if(d===0){if(v===a&&(n||l.slice(j,j+i)===t)){c.push(l.slice(u,j)),u=j+i;continue}if(v==="/"){m=j;continue}}v==="["?d++:v==="]"&&d--}const f=c.length===0?l:l.substring(u),p=f.startsWith(zN),w=p?f.substring(1):f,y=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:y}};return s?l=>s({className:l,parseClassName:o}):o},aR=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},iR=e=>({cache:rR(e.cacheSize),parseClassName:nR(e),...X_(e)}),oR=/\s+/,lR=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(oR);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:p}=s(d);let w=!!p,y=n(w?f.substring(0,p):f);if(!y){if(!w){l=d+(l.length>0?" "+l:l);continue}if(y=n(f),!y){l=d+(l.length>0?" "+l:l);continue}w=!1}const j=aR(u).join(":"),v=m?j+zN:j,g=v+y;if(i.includes(g))continue;i.push(g);const x=a(y,w);for(let b=0;b<x.length;++b){const S=x[b];i.push(v+S)}l=d+(l.length>0?" "+l:l)}return l};function cR(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=$N(t))&&(n&&(n+=" "),n+=s);return n}const $N=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=$N(e[n]))&&(s&&(s+=" "),s+=t);return s};function dR(e,...t){let s,n,a,i=o;function o(c){const d=t.reduce((u,m)=>m(u),e());return s=iR(d),n=s.cache.get,a=s.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=lR(c,s);return a(c,u),u}return function(){return i(cR.apply(null,arguments))}}const it=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},WN=/^\[(?:([a-z-]+):)?(.+)\]$/i,uR=/^\d+\/\d+$/,mR=new Set(["px","full","screen"]),hR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=e=>Ci(e)||mR.has(e)||uR.test(e),jn=e=>Qi(e,"length",CR),Ci=e=>!!e&&!Number.isNaN(Number(e)),Em=e=>Qi(e,"number",Ci),ho=e=>!!e&&Number.isInteger(Number(e)),yR=e=>e.endsWith("%")&&Ci(e.slice(0,-1)),_e=e=>WN.test(e),wn=e=>hR.test(e),vR=new Set(["length","size","percentage"]),bR=e=>Qi(e,vR,HN),jR=e=>Qi(e,"position",HN),wR=new Set(["image","url"]),NR=e=>Qi(e,wR,TR),SR=e=>Qi(e,"",kR),fo=()=>!0,Qi=(e,t,s)=>{const n=WN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},CR=e=>fR.test(e)&&!pR.test(e),HN=()=>!1,kR=e=>xR.test(e),TR=e=>gR.test(e),PR=()=>{const e=it("colors"),t=it("spacing"),s=it("blur"),n=it("brightness"),a=it("borderColor"),i=it("borderRadius"),o=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),d=it("grayscale"),u=it("hueRotate"),m=it("invert"),f=it("gap"),p=it("gradientColorStops"),w=it("gradientColorStopPositions"),y=it("inset"),j=it("margin"),v=it("opacity"),g=it("padding"),x=it("saturate"),b=it("scale"),S=it("sepia"),k=it("skew"),T=it("space"),C=it("translate"),D=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",_e,t],P=()=>[_e,t],E=()=>["",Ur,jn],N=()=>["auto",Ci,_e],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",_e],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ci,_e];return{cacheSize:500,separator:":",theme:{colors:[fo],spacing:[Ur,jn],blur:["none","",wn,_e],brightness:H(),borderColor:[e],borderRadius:["none","","full",wn,_e],borderSpacing:P(),borderWidth:E(),contrast:H(),grayscale:L(),hueRotate:H(),invert:L(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[yR,jn],inset:R(),margin:R(),opacity:H(),padding:P(),saturate:H(),scale:H(),sepia:L(),skew:H(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[wn]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),_e]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ho,_e]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",ho,_e]}],"grid-cols":[{"grid-cols":[fo]}],"col-start-end":[{col:["auto",{span:["full",ho,_e]},_e]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[fo]}],"row-start-end":[{row:["auto",{span:[ho,_e]},_e]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[wn]},wn]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wn,jn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Em]}],"font-family":[{font:[fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Ci,Em]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,jn]}],"underline-offset":[{"underline-offset":["auto",Ur,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),jR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:A()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Ur,_e]}],"outline-w":[{outline:[Ur,jn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ur,jn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wn,SR]}],"shadow-color":[{shadow:[fo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wn,_e]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ho,_e]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ur,jn,Em]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ER=dR(PR);function ce(...e){return ER(UN(e))}function by({className:e,...t}){return r.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",e),...t})}function ex({children:e,requireAuth:t=!0}){const{isAuthenticated:s,isLoading:n,user:a}=Bs(),i=ha();if(n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsxs(Te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center space-y-4",children:[r.jsx(Te.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"h-12 w-12 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto",children:r.jsx(Nt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(by,{className:"h-4 w-24 mx-auto"}),r.jsx(by,{className:"h-3 w-32 mx-auto"})]})]})});if(t&&!s)return r.jsx(Oi,{to:"/login",state:{from:i},replace:!0});if(!t&&s&&a){const o=a.role==="admin"?"/admin/dashboard":"/user/dashboard";return r.jsx(Oi,{to:o,replace:!0})}return r.jsx(r.Fragment,{children:e})}const jy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wy=UN,Pl=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return wy(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=s==null?void 0:s[d],m=i==null?void 0:i[d];if(u===null)return null;const f=jy(u)||jy(m);return a[d][f]}),l=s&&Object.entries(s).reduce((d,u)=>{let[m,f]=u;return f===void 0||(d[m]=f),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:m,className:f,...p}=u;return Object.entries(p).every(w=>{let[y,j]=w;return Array.isArray(j)?j.includes({...i,...l}[y]):{...i,...l}[y]===j})?[...d,m,f]:d},[]);return wy(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},AR=Pl("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=h.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},i)=>r.jsx("button",{className:ce(AR({variant:t,size:s,className:e})),ref:i,...a}));U.displayName="Button";function Br({children:e}){const{user:t,isAuthenticated:s,isLoading:n}=Bs();return r.jsx(ex,{children:n?null:!s||!t?r.jsx(Oi,{to:"/login",replace:!0}):t.role!=="admin"?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:r.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-6 max-w-md",children:[r.jsx(Te.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"h-16 w-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mx-auto",children:r.jsx(Ms,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to access this admin area. Please contact your administrator if you believe this is an error."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{asChild:!0,className:"w-full",children:r.jsx(Oi,{to:"/user/dashboard",replace:!0})}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting to user dashboard..."})]})]})}):e})}function Sr({children:e}){const{user:t,isAuthenticated:s,isLoading:n}=Bs();return r.jsx(ex,{children:n?null:!s||!t?r.jsx(Oi,{to:"/login",replace:!0}):t.role==="admin"?r.jsx(Oi,{to:"/admin/dashboard",replace:!0}):e})}function we(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Ny(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bu(...e){return t=>{let s=!1;const n=e.map(a=>{const i=Ny(a,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Ny(e[a],null)}}}}function Wt(...e){return h.useCallback(bu(...e),e)}function gn(e,t=[]){let s=[];function n(i,o){const l=h.createContext(o),c=s.length;s=[...s,o];const d=m=>{var v;const{scope:f,children:p,...w}=m,y=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,j=h.useMemo(()=>w,Object.values(w));return r.jsx(y.Provider,{value:j,children:p})};d.displayName=i+"Provider";function u(m,f){var y;const p=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,w=h.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=s.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,_R(a,...t)]}function _R(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function jd(e){const t=RR(e),s=h.forwardRef((n,a)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(IR);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function RR(e){const t=h.forwardRef((s,n)=>{const{children:a,...i}=s;if(h.isValidElement(a)){const o=OR(a),l=DR(i,a.props);return a.type!==h.Fragment&&(l.ref=n?bu(n,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MR=Symbol("radix.slottable");function IR(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MR}function DR(e,t){const s={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function OR(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function tx(e){const t=e+"CollectionProvider",[s,n]=gn(t),[a,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:j,children:v}=y,g=K.useRef(null),x=K.useRef(new Map).current;return r.jsx(a,{scope:j,itemMap:x,collectionRef:g,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=jd(l),d=K.forwardRef((y,j)=>{const{scope:v,children:g}=y,x=i(l,v),b=Wt(j,x.collectionRef);return r.jsx(c,{ref:b,children:g})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",f=jd(u),p=K.forwardRef((y,j)=>{const{scope:v,children:g,...x}=y,b=K.useRef(null),S=Wt(j,b),k=i(u,v);return K.useEffect(()=>(k.itemMap.set(b,{ref:b,...x}),()=>void k.itemMap.delete(b))),r.jsx(f,{[m]:"",ref:S,children:g})});p.displayName=u;function w(y){const j=i(e+"CollectionConsumer",y);return K.useCallback(()=>{const g=j.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((k,T)=>x.indexOf(k.ref.current)-x.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},w,n]}var LR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=LR.reduce((e,t)=>{const s=jd(`Primitive.${t}`),n=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sx(e,t){e&&Nl.flushSync(()=>e.dispatchEvent(t))}function Fs(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function FR(e,t=globalThis==null?void 0:globalThis.document){const s=Fs(e);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var VR="DismissableLayer",af="dismissableLayer.update",UR="dismissableLayer.pointerDownOutside",BR="dismissableLayer.focusOutside",Sy,GN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rx=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(GN),[u,m]=h.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),w=Wt(t,T=>m(T)),y=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(j),g=u?y.indexOf(u):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,b=g>=v,S=$R(T=>{const C=T.target,D=[...d.branches].some(_=>_.contains(C));!b||D||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},f),k=WR(T=>{const C=T.target;[...d.branches].some(_=>_.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},f);return FR(T=>{g===d.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},f),h.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Sy=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Cy(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Sy)}},[u,f,s,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Cy())},[u,d]),h.useEffect(()=>{const T=()=>p({});return document.addEventListener(af,T),()=>document.removeEventListener(af,T)},[]),r.jsx(Ke.div,{...c,ref:w,style:{pointerEvents:x?b?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,k.onFocusCapture),onBlurCapture:we(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,S.onPointerDownCapture)})});rx.displayName=VR;var zR="DismissableLayerBranch",KN=h.forwardRef((e,t)=>{const s=h.useContext(GN),n=h.useRef(null),a=Wt(t,n);return h.useEffect(()=>{const i=n.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),r.jsx(Ke.div,{...e,ref:a})});KN.displayName=zR;function $R(e,t=globalThis==null?void 0:globalThis.document){const s=Fs(e),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){qN(UR,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function WR(e,t=globalThis==null?void 0:globalThis.document){const s=Fs(e),n=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!n.current&&qN(BR,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Cy(){const e=new CustomEvent(af);document.dispatchEvent(e)}function qN(e,t,s,{discrete:n}){const a=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?sx(a,i):a.dispatchEvent(i)}var HR=rx,GR=KN,on=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},KR="Portal",nx=h.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[a,i]=h.useState(!1);on(()=>i(!0),[]);const o=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Hj.createPortal(r.jsx(Ke.div,{...n,ref:t}),o):null});nx.displayName=KR;function qR(e,t){return h.useReducer((s,n)=>t[s][n]??s,e)}var Ga=e=>{const{present:t,children:s}=e,n=YR(t),a=typeof s=="function"?s({present:n.isPresent}):h.Children.only(s),i=Wt(n.ref,ZR(a));return typeof s=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};Ga.displayName="Presence";function YR(e){const[t,s]=h.useState(),n=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=qR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=ac(n.current);i.current=l==="mounted"?d:"none"},[l]),on(()=>{const d=n.current,u=a.current;if(u!==e){const f=i.current,p=ac(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),on(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=p=>{const y=ac(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(c("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},f=p=>{p.target===t&&(i.current=ac(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,s(d)},[])}}function ac(e){return(e==null?void 0:e.animationName)||"none"}function ZR(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var QR=Af[" useInsertionEffect ".trim().toString()]||on;function El({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[a,i,o]=XR({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var m;if(l){const f=JR(u)?u(e):u;f!==e&&((m=o.current)==null||m.call(o,f))}else i(u)},[l,e,i,o]);return[c,d]}function XR({defaultProp:e,onChange:t}){const[s,n]=h.useState(e),a=h.useRef(s),i=h.useRef(t);return QR(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==s&&((o=i.current)==null||o.call(i,s),a.current=s)},[s,a]),[s,n,i]}function JR(e){return typeof e=="function"}var e6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),t6="VisuallyHidden",ax=h.forwardRef((e,t)=>r.jsx(Ke.span,{...e,ref:t,style:{...e6,...e.style}}));ax.displayName=t6;var ix="ToastProvider",[ox,s6,r6]=tx("Toast"),[YN,IF]=gn("Toast",[r6]),[n6,ju]=YN(ix),ZN=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),m=h.useRef(!1),f=h.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ix}\`. Expected non-empty \`string\`.`),r.jsx(ox.Provider,{scope:t,children:r.jsx(n6,{scope:t,label:s,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:o})})};ZN.displayName=ix;var QN="ToastViewport",a6=["F8"],of="toast.viewportPause",lf="toast.viewportResume",XN=h.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=a6,label:a="Notifications ({hotkey})",...i}=e,o=ju(QN,s),l=s6(s),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),f=Wt(t,m,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;h.useEffect(()=>{const j=v=>{var x;n.length!==0&&n.every(b=>v[b]||v.code===b)&&((x=m.current)==null||x.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n]),h.useEffect(()=>{const j=c.current,v=m.current;if(w&&j&&v){const g=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(of);v.dispatchEvent(k),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(lf);v.dispatchEvent(k),o.isClosePausedRef.current=!1}},b=k=>{!j.contains(k.relatedTarget)&&x()},S=()=>{j.contains(document.activeElement)||x()};return j.addEventListener("focusin",g),j.addEventListener("focusout",b),j.addEventListener("pointermove",g),j.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{j.removeEventListener("focusin",g),j.removeEventListener("focusout",b),j.removeEventListener("pointermove",g),j.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const y=h.useCallback(({tabbingDirection:j})=>{const g=l().map(x=>{const b=x.ref.current,S=[b,...y6(b)];return j==="forwards"?S:S.reverse()});return(j==="forwards"?g.reverse():g).flat()},[l]);return h.useEffect(()=>{const j=m.current;if(j){const v=g=>{var S,k,T;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const C=document.activeElement,D=g.shiftKey;if(g.target===j&&D){(S=d.current)==null||S.focus();return}const P=y({tabbingDirection:D?"backwards":"forwards"}),E=P.findIndex(N=>N===C);Am(P.slice(E+1))?g.preventDefault():D?(k=d.current)==null||k.focus():(T=u.current)==null||T.focus()}};return j.addEventListener("keydown",v),()=>j.removeEventListener("keydown",v)}},[l,y]),r.jsxs(GR,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&r.jsx(cf,{ref:d,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"forwards"});Am(j)}}),r.jsx(ox.Slot,{scope:s,children:r.jsx(Ke.ol,{tabIndex:-1,...i,ref:f})}),w&&r.jsx(cf,{ref:u,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"backwards"});Am(j)}})]})});XN.displayName=QN;var JN="ToastFocusProxy",cf=h.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=e,i=ju(JN,s);return r.jsx(ax,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});cf.displayName=JN;var Al="Toast",i6="toast.swipeStart",o6="toast.swipeMove",l6="toast.swipeCancel",c6="toast.swipeEnd",e1=h.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=El({prop:n,defaultProp:a??!0,onChange:i,caller:Al});return r.jsx(Ga,{present:s||l,children:r.jsx(m6,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Fs(e.onPause),onResume:Fs(e.onResume),onSwipeStart:we(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:we(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});e1.displayName=Al;var[d6,u6]=YN(Al,{onClose(){}}),m6=h.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:p,...w}=e,y=ju(Al,s),[j,v]=h.useState(null),g=Wt(t,N=>v(N)),x=h.useRef(null),b=h.useRef(null),S=a||y.duration,k=h.useRef(0),T=h.useRef(S),C=h.useRef(0),{onToastAdd:D,onToastRemove:_}=y,R=Fs(()=>{var I;(j==null?void 0:j.contains(document.activeElement))&&((I=y.viewport)==null||I.focus()),o()}),P=h.useCallback(N=>{!N||N===1/0||(window.clearTimeout(C.current),k.current=new Date().getTime(),C.current=window.setTimeout(R,N))},[R]);h.useEffect(()=>{const N=y.viewport;if(N){const I=()=>{P(T.current),d==null||d()},A=()=>{const z=new Date().getTime()-k.current;T.current=T.current-z,window.clearTimeout(C.current),c==null||c()};return N.addEventListener(of,A),N.addEventListener(lf,I),()=>{N.removeEventListener(of,A),N.removeEventListener(lf,I)}}},[y.viewport,S,c,d,P]),h.useEffect(()=>{i&&!y.isClosePausedRef.current&&P(S)},[i,S,y.isClosePausedRef,P]),h.useEffect(()=>(D(),()=>_()),[D,_]);const E=h.useMemo(()=>j?o1(j):null,[j]);return y.viewport?r.jsxs(r.Fragment,{children:[E&&r.jsx(h6,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:E}),r.jsx(d6,{scope:s,onClose:R,children:Nl.createPortal(r.jsx(ox.ItemSlot,{scope:s,children:r.jsx(HR,{asChild:!0,onEscapeKeyDown:we(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Ke.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:we(e.onKeyDown,N=>{N.key==="Escape"&&(l==null||l(N.nativeEvent),N.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:we(e.onPointerDown,N=>{N.button===0&&(x.current={x:N.clientX,y:N.clientY})}),onPointerMove:we(e.onPointerMove,N=>{if(!x.current)return;const I=N.clientX-x.current.x,A=N.clientY-x.current.y,z=!!b.current,O=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,B=O?L(0,I):0,H=O?0:L(0,A),G=N.pointerType==="touch"?10:2,de={x:B,y:H},ve={originalEvent:N,delta:de};z?(b.current=de,ic(o6,m,ve,{discrete:!1})):ky(de,y.swipeDirection,G)?(b.current=de,ic(i6,u,ve,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(I)>G||Math.abs(A)>G)&&(x.current=null)}),onPointerUp:we(e.onPointerUp,N=>{const I=b.current,A=N.target;if(A.hasPointerCapture(N.pointerId)&&A.releasePointerCapture(N.pointerId),b.current=null,x.current=null,I){const z=N.currentTarget,O={originalEvent:N,delta:I};ky(I,y.swipeDirection,y.swipeThreshold)?ic(c6,p,O,{discrete:!0}):ic(l6,f,O,{discrete:!0}),z.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),h6=e=>{const{__scopeToast:t,children:s,...n}=e,a=ju(Al,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return x6(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(nx,{asChild:!0,children:r.jsx(ax,{...n,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",s]})})})},f6="ToastTitle",t1=h.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(Ke.div,{...n,ref:t})});t1.displayName=f6;var p6="ToastDescription",s1=h.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(Ke.div,{...n,ref:t})});s1.displayName=p6;var r1="ToastAction",n1=h.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(i1,{altText:s,asChild:!0,children:r.jsx(lx,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${r1}\`. Expected non-empty \`string\`.`),null)});n1.displayName=r1;var a1="ToastClose",lx=h.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,a=u6(a1,s);return r.jsx(i1,{asChild:!0,children:r.jsx(Ke.button,{type:"button",...n,ref:t,onClick:we(e.onClick,a.onClose)})})});lx.displayName=a1;var i1=h.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...a}=e;return r.jsx(Ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function o1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),g6(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...o1(n))}}),t}function ic(e,t,s,{discrete:n}){const a=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?sx(a,i):a.dispatchEvent(i)}var ky=(e,t,s=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>s:!i&&a>s};function x6(e=()=>{}){const t=Fs(e);on(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function g6(e){return e.nodeType===e.ELEMENT_NODE}function y6(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Am(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var v6=ZN,l1=XN,c1=e1,d1=t1,u1=s1,m1=n1,h1=lx;const b6=v6,f1=h.forwardRef(({className:e,...t},s)=>r.jsx(l1,{ref:s,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));f1.displayName=l1.displayName;const j6=Pl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground",success:"border-green-200 bg-green-50 text-green-900"}},defaultVariants:{variant:"default"}}),p1=h.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(c1,{ref:n,className:ce(j6({variant:t}),e),...s}));p1.displayName=c1.displayName;const w6=h.forwardRef(({className:e,...t},s)=>r.jsx(m1,{ref:s,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));w6.displayName=m1.displayName;const x1=h.forwardRef(({className:e,...t},s)=>r.jsx(h1,{ref:s,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(vt,{className:"h-4 w-4"})}));x1.displayName=h1.displayName;const g1=h.forwardRef(({className:e,...t},s)=>r.jsx(d1,{ref:s,className:ce("text-sm font-semibold",e),...t}));g1.displayName=d1.displayName;const y1=h.forwardRef(({className:e,...t},s)=>r.jsx(u1,{ref:s,className:ce("text-sm opacity-90",e),...t}));y1.displayName=u1.displayName;const N6=1,S6=1e6;let _m=0;function C6(){return _m=(_m+1)%Number.MAX_SAFE_INTEGER,_m.toString()}const Rm=new Map,Ty=e=>{if(Rm.has(e))return;const t=setTimeout(()=>{Rm.delete(e),Fo({type:"REMOVE_TOAST",toastId:e})},S6);Rm.set(e,t)},k6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,N6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Ty(s):e.toasts.forEach(n=>{Ty(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Pc=[];let Ec={toasts:[]};function Fo(e){Ec=k6(Ec,e),Pc.forEach(t=>{t(Ec)})}function T6({...e}){const t=C6(),s=a=>Fo({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Fo({type:"DISMISS_TOAST",toastId:t});return Fo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:s}}function wu(){const[e,t]=h.useState(Ec);return h.useEffect(()=>(Pc.push(t),()=>{const s=Pc.indexOf(t);s>-1&&Pc.splice(s,1)}),[e]),{...e,toast:T6,dismiss:s=>Fo({type:"DISMISS_TOAST",toastId:s})}}function P6(){const{toasts:e}=wu();return r.jsxs(b6,{children:[e.map(function({id:t,title:s,description:n,action:a,...i}){return r.jsxs(p1,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(g1,{children:s}),n&&r.jsx(y1,{children:n})]}),a,r.jsx(x1,{})]},t)}),r.jsx(f1,{})]})}const v1=h.createContext({loading:!1,message:"",setLoading:()=>{}}),Nu=()=>{const e=h.useContext(v1);if(!e)throw new Error("useLoading must be used within a LoadingProvider");return e},E6=({children:e})=>{const[t,s]=h.useState(!1),[n,a]=h.useState(""),i=(o,l="Please wait...")=>{s(o),a(l)};return r.jsx(v1.Provider,{value:{loading:t,message:n,setLoading:i},children:e})},b1=h.createContext({notifications:[],addNotification:()=>{},markAsRead:()=>{},markAllAsRead:()=>{},clearNotification:()=>{},clearAllNotifications:()=>{}}),cx=()=>{const e=h.useContext(b1);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},A6=({children:e})=>{const[t,s]=h.useState([]),n=h.useCallback((c,d)=>{const u=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,m={id:u,type:c,message:d,timestamp:Date.now(),read:!1};s(f=>[m,...f.slice(0,49)]),(c==="success"||c==="info")&&setTimeout(()=>{s(f=>f.filter(p=>p.id!==u))},4e3)},[]),a=h.useCallback(c=>{s(d=>d.map(u=>u.id===c?{...u,read:!0}:u))},[]),i=h.useCallback(()=>{s(c=>c.map(d=>({...d,read:!0})))},[]),o=h.useCallback(c=>{s(d=>d.filter(u=>u.id!==c))},[]),l=h.useCallback(()=>{s([])},[]);return r.jsx(b1.Provider,{value:{notifications:t,addNotification:n,markAsRead:a,markAllAsRead:i,clearNotification:o,clearAllNotifications:l},children:e})},Xi=()=>{const{addNotification:e}=cx();return{success:t=>e("success",t),warning:t=>e("warning",t),error:t=>e("error",t),info:t=>e("info",t)}},_6=({visible:e,message:t="Please wait..."})=>r.jsx(gd,{children:e&&r.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsxs(Te.div,{initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},className:"bg-white rounded-2xl shadow-2xl p-8 text-center max-w-sm mx-4 border border-gray-200",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx(Te.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx(Nt,{className:"w-8 h-8 text-white"})}),r.jsx("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(s=>r.jsx(Te.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:s*.3,ease:"easeInOut"},className:"w-2 h-2 bg-green-500 rounded-full"},s))})]}),r.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:t}),r.jsxs("div",{className:"flex items-center justify-center space-x-1 text-sm text-gray-500",children:[r.jsx(Q_,{className:"w-4 h-4"}),r.jsx("span",{children:"Connecting to SMS Gateway..."})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:r.jsx(Te.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:2,repeat:1/0,ease:"linear"},className:"h-1 bg-gradient-to-r from-green-500 to-green-600 rounded-full"})})})]})})}),R6=()=>{const{loading:e,message:t}=Nu();return r.jsx(_6,{visible:e,message:t})},M6=()=>{const{notifications:e,clearNotification:t}=cx(),s=e.find(i=>!i.read)||null,n=i=>{switch(i){case"success":return r.jsx(Je,{className:"w-4 h-4 text-emerald-600"});case"warning":return r.jsx(Ms,{className:"w-4 h-4 text-yellow-600"});case"error":return r.jsx(mr,{className:"w-4 h-4 text-red-600"});default:return r.jsx(Rt,{className:"w-4 h-4 text-blue-600"})}},a=i=>{switch(i){case"success":return"bg-emerald-50 border-emerald-200 text-emerald-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"error":return"bg-red-50 border-red-200 text-red-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:r.jsx(gd,{mode:"wait",children:s&&r.jsxs(Te.div,{initial:{y:-50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:-50,opacity:0,scale:.95},transition:{type:"spring",stiffness:400,damping:25},className:`${a(s.type)} backdrop-blur-sm shadow-lg border rounded-xl px-4 py-3 max-w-md mx-auto`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[n(s.type),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium leading-tight",children:s.message}),r.jsx("p",{className:"text-xs opacity-70 mt-0.5",children:new Date(s.timestamp).toLocaleTimeString()})]}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>t(s.id),className:"p-1 h-auto w-auto hover:bg-black/10 rounded-full opacity-70 hover:opacity-100",children:r.jsx(vt,{className:"w-3.5 h-3.5"})})]}),(s.type==="success"||s.type==="info")&&r.jsx(Te.div,{initial:{width:"100%"},animate:{width:"0%"},transition:{duration:4,ease:"linear"},className:"h-0.5 bg-current opacity-30 rounded-full mt-2"})]})})})};var I6=h.createContext(void 0);function dx(e){const t=h.useContext(I6);return e||t||"ltr"}var Mm=0;function D6(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Py()),document.body.insertAdjacentElement("beforeend",e[1]??Py()),Mm++,()=>{Mm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mm--}},[])}function Py(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Im="focusScope.autoFocusOnMount",Dm="focusScope.autoFocusOnUnmount",Ey={bubbles:!1,cancelable:!0},O6="FocusScope",j1=h.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=Fs(a),u=Fs(i),m=h.useRef(null),f=Wt(t,y=>c(y)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let y=function(x){if(p.paused||!l)return;const b=x.target;l.contains(b)?m.current=b:Sn(m.current,{select:!0})},j=function(x){if(p.paused||!l)return;const b=x.relatedTarget;b!==null&&(l.contains(b)||Sn(m.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Sn(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",j);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),g.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){_y.add(p);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(Im,Ey);l.addEventListener(Im,d),l.dispatchEvent(v),v.defaultPrevented||(L6(z6(w1(l)),{select:!0}),document.activeElement===y&&Sn(l))}return()=>{l.removeEventListener(Im,d),setTimeout(()=>{const v=new CustomEvent(Dm,Ey);l.addEventListener(Dm,u),l.dispatchEvent(v),v.defaultPrevented||Sn(y??document.body,{select:!0}),l.removeEventListener(Dm,u),_y.remove(p)},0)}}},[l,d,u,p]);const w=h.useCallback(y=>{if(!s&&!n||p.paused)return;const j=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(j&&v){const g=y.currentTarget,[x,b]=F6(g);x&&b?!y.shiftKey&&v===b?(y.preventDefault(),s&&Sn(x,{select:!0})):y.shiftKey&&v===x&&(y.preventDefault(),s&&Sn(b,{select:!0})):v===g&&y.preventDefault()}},[s,n,p.paused]);return r.jsx(Ke.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});j1.displayName=O6;function L6(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Sn(n,{select:t}),document.activeElement!==s)return}function F6(e){const t=w1(e),s=Ay(t,e),n=Ay(t.reverse(),e);return[s,n]}function w1(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Ay(e,t){for(const s of e)if(!V6(s,{upTo:t}))return s}function V6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function U6(e){return e instanceof HTMLInputElement&&"select"in e}function Sn(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&U6(e)&&t&&e.select()}}var _y=B6();function B6(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Ry(e,t),e.unshift(t)},remove(t){var s;e=Ry(e,t),(s=e[0])==null||s.resume()}}}function Ry(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function z6(e){return e.filter(t=>t.tagName!=="A")}var $6=Af[" useId ".trim().toString()]||(()=>{}),W6=0;function wd(e){const[t,s]=h.useState($6());return on(()=>{s(n=>n??String(W6++))},[e]),t?`radix-${t}`:""}const H6=["top","right","bottom","left"],ra=Math.min,As=Math.max,Nd=Math.round,oc=Math.floor,Dr=e=>({x:e,y:e}),G6={left:"right",right:"left",bottom:"top",top:"bottom"},K6={start:"end",end:"start"};function df(e,t,s){return As(e,ra(t,s))}function ln(e,t){return typeof e=="function"?e(t):e}function cn(e){return e.split("-")[0]}function Ji(e){return e.split("-")[1]}function ux(e){return e==="x"?"y":"x"}function mx(e){return e==="y"?"height":"width"}const q6=new Set(["top","bottom"]);function Er(e){return q6.has(cn(e))?"y":"x"}function hx(e){return ux(Er(e))}function Y6(e,t,s){s===void 0&&(s=!1);const n=Ji(e),a=hx(e),i=mx(a);let o=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Sd(o)),[o,Sd(o)]}function Z6(e){const t=Sd(e);return[uf(e),t,uf(t)]}function uf(e){return e.replace(/start|end/g,t=>K6[t])}const My=["left","right"],Iy=["right","left"],Q6=["top","bottom"],X6=["bottom","top"];function J6(e,t,s){switch(e){case"top":case"bottom":return s?t?Iy:My:t?My:Iy;case"left":case"right":return t?Q6:X6;default:return[]}}function eM(e,t,s,n){const a=Ji(e);let i=J6(cn(e),s==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(uf)))),i}function Sd(e){return e.replace(/left|right|bottom|top/g,t=>G6[t])}function tM(e){return{top:0,right:0,bottom:0,left:0,...e}}function N1(e){return typeof e!="number"?tM(e):{top:e,right:e,bottom:e,left:e}}function Cd(e){const{x:t,y:s,width:n,height:a}=e;return{width:n,height:a,top:s,left:t,right:t+n,bottom:s+a,x:t,y:s}}function Dy(e,t,s){let{reference:n,floating:a}=e;const i=Er(t),o=hx(t),l=mx(o),c=cn(t),d=i==="y",u=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:m};break;case"left":p={x:n.x-a.width,y:m};break;default:p={x:n.x,y:n.y}}switch(Ji(t)){case"start":p[o]-=f*(s&&d?-1:1);break;case"end":p[o]+=f*(s&&d?-1:1);break}return p}const sM=async(e,t,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=Dy(d,n,c),f=n,p={},w=0;for(let y=0;y<l.length;y++){const{name:j,fn:v}=l[y],{x:g,y:x,data:b,reset:S}=await v({x:u,y:m,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=g??u,m=x??m,p={...p,[j]:{...p[j],...b}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:u,y:m}=Dy(d,f,c)),y=-1)}return{x:u,y:m,placement:f,strategy:a,middlewareData:p}};async function ul(e,t){var s;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:f=!1,padding:p=0}=ln(t,e),w=N1(p),j=l[f?m==="floating"?"reference":"floating":m],v=Cd(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(j)))==null||s?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),g=m==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Cd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(v.top-S.top+w.top)/b.y,bottom:(S.bottom-v.bottom+w.bottom)/b.y,left:(v.left-S.left+w.left)/b.x,right:(S.right-v.right+w.right)/b.x}}const rM=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ln(e,t)||{};if(d==null)return{};const m=N1(u),f={x:s,y:n},p=hx(a),w=mx(p),y=await o.getDimensions(d),j=p==="y",v=j?"top":"left",g=j?"bottom":"right",x=j?"clientHeight":"clientWidth",b=i.reference[w]+i.reference[p]-f[p]-i.floating[w],S=f[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=k?k[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=l.floating[x]||i.floating[w]);const C=b/2-S/2,D=T/2-y[w]/2-1,_=ra(m[v],D),R=ra(m[g],D),P=_,E=T-y[w]-R,N=T/2-y[w]/2+C,I=df(P,N,E),A=!c.arrow&&Ji(a)!=null&&N!==I&&i.reference[w]/2-(N<P?_:R)-y[w]/2<0,z=A?N<P?N-P:N-E:0;return{[p]:f[p]+z,data:{[p]:I,centerOffset:N-I-z,...A&&{alignmentOffset:z}},reset:A}}}),nM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...j}=ln(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const v=cn(a),g=Er(l),x=cn(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=f||(x||!y?[Sd(l)]:Z6(l)),k=w!=="none";!f&&k&&S.push(...eM(l,y,w,b));const T=[l,...S],C=await ul(t,j),D=[];let _=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&D.push(C[v]),m){const N=Y6(a,o,b);D.push(C[N[0]],C[N[1]])}if(_=[..._,{placement:a,overflows:D}],!D.every(N=>N<=0)){var R,P;const N=(((R=i.flip)==null?void 0:R.index)||0)+1,I=T[N];if(I&&(!(m==="alignment"?g!==Er(I):!1)||_.every(O=>Er(O.placement)===g?O.overflows[0]>0:!0)))return{data:{index:N,overflows:_},reset:{placement:I}};let A=(P=_.filter(z=>z.overflows[0]<=0).sort((z,O)=>z.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!A)switch(p){case"bestFit":{var E;const z=(E=_.filter(O=>{if(k){const L=Er(O.placement);return L===g||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:E[0];z&&(A=z);break}case"initialPlacement":A=l;break}if(a!==A)return{reset:{placement:A}}}return{}}}};function Oy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ly(e){return H6.some(t=>e[t]>=0)}const aM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...a}=ln(e,t);switch(n){case"referenceHidden":{const i=await ul(t,{...a,elementContext:"reference"}),o=Oy(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ly(o)}}}case"escaped":{const i=await ul(t,{...a,altBoundary:!0}),o=Oy(i,s.floating);return{data:{escapedOffsets:o,escaped:Ly(o)}}}default:return{}}}}},S1=new Set(["left","top"]);async function iM(e,t){const{placement:s,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=cn(s),l=Ji(s),c=Er(s)==="y",d=S1.has(o)?-1:1,u=i&&c?-1:1,m=ln(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*u,y:f*d}:{x:f*d,y:p*u}}const oM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await iM(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},lM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:v,y:g}=j;return{x:v,y:g}}},...c}=ln(e,t),d={x:s,y:n},u=await ul(t,c),m=Er(cn(a)),f=ux(m);let p=d[f],w=d[m];if(i){const j=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=p+u[j],x=p-u[v];p=df(g,p,x)}if(o){const j=m==="y"?"top":"left",v=m==="y"?"bottom":"right",g=w+u[j],x=w-u[v];w=df(g,w,x)}const y=l.fn({...t,[f]:p,[m]:w});return{...y,data:{x:y.x-s,y:y.y-n,enabled:{[f]:i,[m]:o}}}}}},cM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ln(e,t),u={x:s,y:n},m=Er(a),f=ux(m);let p=u[f],w=u[m];const y=ln(l,t),j=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const x=f==="y"?"height":"width",b=i.reference[f]-i.floating[x]+j.mainAxis,S=i.reference[f]+i.reference[x]-j.mainAxis;p<b?p=b:p>S&&(p=S)}if(d){var v,g;const x=f==="y"?"width":"height",b=S1.has(cn(a)),S=i.reference[m]-i.floating[x]+(b&&((v=o.offset)==null?void 0:v[m])||0)+(b?0:j.crossAxis),k=i.reference[m]+i.reference[x]+(b?0:((g=o.offset)==null?void 0:g[m])||0)-(b?j.crossAxis:0);w<S?w=S:w>k&&(w=k)}return{[f]:p,[m]:w}}}},dM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ln(e,t),u=await ul(t,d),m=cn(a),f=Ji(a),p=Er(a)==="y",{width:w,height:y}=i.floating;let j,v;m==="top"||m==="bottom"?(j=m,v=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,j=f==="end"?"top":"bottom");const g=y-u.top-u.bottom,x=w-u.left-u.right,b=ra(y-u[j],g),S=ra(w-u[v],x),k=!t.middlewareData.shift;let T=b,C=S;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(C=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=g),k&&!f){const _=As(u.left,0),R=As(u.right,0),P=As(u.top,0),E=As(u.bottom,0);p?C=w-2*(_!==0||R!==0?_+R:As(u.left,u.right)):T=y-2*(P!==0||E!==0?P+E:As(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:T});const D=await o.getDimensions(l.floating);return w!==D.width||y!==D.height?{reset:{rects:!0}}:{}}}};function Su(){return typeof window<"u"}function eo(e){return C1(e)?(e.nodeName||"").toLowerCase():"#document"}function Ds(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vr(e){var t;return(t=(C1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function C1(e){return Su()?e instanceof Node||e instanceof Ds(e).Node:!1}function vr(e){return Su()?e instanceof Element||e instanceof Ds(e).Element:!1}function Lr(e){return Su()?e instanceof HTMLElement||e instanceof Ds(e).HTMLElement:!1}function Fy(e){return!Su()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ds(e).ShadowRoot}const uM=new Set(["inline","contents"]);function _l(e){const{overflow:t,overflowX:s,overflowY:n,display:a}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!uM.has(a)}const mM=new Set(["table","td","th"]);function hM(e){return mM.has(eo(e))}const fM=[":popover-open",":modal"];function Cu(e){return fM.some(t=>{try{return e.matches(t)}catch{return!1}})}const pM=["transform","translate","scale","rotate","perspective"],xM=["transform","translate","scale","rotate","perspective","filter"],gM=["paint","layout","strict","content"];function fx(e){const t=px(),s=vr(e)?br(e):e;return pM.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||xM.some(n=>(s.willChange||"").includes(n))||gM.some(n=>(s.contain||"").includes(n))}function yM(e){let t=na(e);for(;Lr(t)&&!Bi(t);){if(fx(t))return t;if(Cu(t))return null;t=na(t)}return null}function px(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vM=new Set(["html","body","#document"]);function Bi(e){return vM.has(eo(e))}function br(e){return Ds(e).getComputedStyle(e)}function ku(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function na(e){if(eo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fy(e)&&e.host||Vr(e);return Fy(t)?t.host:t}function k1(e){const t=na(e);return Bi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lr(t)&&_l(t)?t:k1(t)}function ml(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=k1(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ds(a);if(i){const l=mf(o);return t.concat(o,o.visualViewport||[],_l(a)?a:[],l&&s?ml(l):[])}return t.concat(a,ml(a,[],s))}function mf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function T1(e){const t=br(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Lr(e),i=a?e.offsetWidth:s,o=a?e.offsetHeight:n,l=Nd(s)!==i||Nd(n)!==o;return l&&(s=i,n=o),{width:s,height:n,$:l}}function xx(e){return vr(e)?e:e.contextElement}function ki(e){const t=xx(e);if(!Lr(t))return Dr(1);const s=t.getBoundingClientRect(),{width:n,height:a,$:i}=T1(t);let o=(i?Nd(s.width):s.width)/n,l=(i?Nd(s.height):s.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const bM=Dr(0);function P1(e){const t=Ds(e);return!px()||!t.visualViewport?bM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jM(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Ds(e)?!1:t}function Ua(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=xx(e);let o=Dr(1);t&&(n?vr(n)&&(o=ki(n)):o=ki(e));const l=jM(i,s,n)?P1(i):Dr(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,m=a.height/o.y;if(i){const f=Ds(i),p=n&&vr(n)?Ds(n):n;let w=f,y=mf(w);for(;y&&n&&p!==w;){const j=ki(y),v=y.getBoundingClientRect(),g=br(y),x=v.left+(y.clientLeft+parseFloat(g.paddingLeft))*j.x,b=v.top+(y.clientTop+parseFloat(g.paddingTop))*j.y;c*=j.x,d*=j.y,u*=j.x,m*=j.y,c+=x,d+=b,w=Ds(y),y=mf(w)}}return Cd({width:u,height:m,x:c,y:d})}function Tu(e,t){const s=ku(e).scrollLeft;return t?t.left+s:Ua(Vr(e)).left+s}function E1(e,t){const s=e.getBoundingClientRect(),n=s.left+t.scrollLeft-Tu(e,s),a=s.top+t.scrollTop;return{x:n,y:a}}function wM(e){let{elements:t,rect:s,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Vr(n),l=t?Cu(t.floating):!1;if(n===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},d=Dr(1);const u=Dr(0),m=Lr(n);if((m||!m&&!i)&&((eo(n)!=="body"||_l(o))&&(c=ku(n)),Lr(n))){const p=Ua(n);d=ki(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!m&&!i?E1(o,c):Dr(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:s.y*d.y-c.scrollTop*d.y+u.y+f.y}}function NM(e){return Array.from(e.getClientRects())}function SM(e){const t=Vr(e),s=ku(e),n=e.ownerDocument.body,a=As(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=As(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-s.scrollLeft+Tu(e);const l=-s.scrollTop;return br(n).direction==="rtl"&&(o+=As(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const Vy=25;function CM(e,t){const s=Ds(e),n=Vr(e),a=s.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=px();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Tu(n);if(d<=0){const u=n.ownerDocument,m=u.body,f=getComputedStyle(m),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-p);w<=Vy&&(i-=w)}else d<=Vy&&(i+=d);return{width:i,height:o,x:l,y:c}}const kM=new Set(["absolute","fixed"]);function TM(e,t){const s=Ua(e,!0,t==="fixed"),n=s.top+e.clientTop,a=s.left+e.clientLeft,i=Lr(e)?ki(e):Dr(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function Uy(e,t,s){let n;if(t==="viewport")n=CM(e,s);else if(t==="document")n=SM(Vr(e));else if(vr(t))n=TM(t,s);else{const a=P1(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Cd(n)}function A1(e,t){const s=na(e);return s===t||!vr(s)||Bi(s)?!1:br(s).position==="fixed"||A1(s,t)}function PM(e,t){const s=t.get(e);if(s)return s;let n=ml(e,[],!1).filter(l=>vr(l)&&eo(l)!=="body"),a=null;const i=br(e).position==="fixed";let o=i?na(e):e;for(;vr(o)&&!Bi(o);){const l=br(o),c=fx(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&kM.has(a.position)||_l(o)&&!c&&A1(e,o))?n=n.filter(u=>u!==o):a=l,o=na(o)}return t.set(e,n),n}function EM(e){let{element:t,boundary:s,rootBoundary:n,strategy:a}=e;const o=[...s==="clippingAncestors"?Cu(t)?[]:PM(t,this._c):[].concat(s),n],l=o[0],c=o.reduce((d,u)=>{const m=Uy(t,u,a);return d.top=As(m.top,d.top),d.right=ra(m.right,d.right),d.bottom=ra(m.bottom,d.bottom),d.left=As(m.left,d.left),d},Uy(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function AM(e){const{width:t,height:s}=T1(e);return{width:t,height:s}}function _M(e,t,s){const n=Lr(t),a=Vr(t),i=s==="fixed",o=Ua(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Dr(0);function d(){c.x=Tu(a)}if(n||!n&&!i)if((eo(t)!=="body"||_l(a))&&(l=ku(t)),n){const p=Ua(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?E1(a,l):Dr(0),m=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:m,y:f,width:o.width,height:o.height}}function Om(e){return br(e).position==="static"}function By(e,t){if(!Lr(e)||br(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Vr(e)===s&&(s=s.ownerDocument.body),s}function _1(e,t){const s=Ds(e);if(Cu(e))return s;if(!Lr(e)){let a=na(e);for(;a&&!Bi(a);){if(vr(a)&&!Om(a))return a;a=na(a)}return s}let n=By(e,t);for(;n&&hM(n)&&Om(n);)n=By(n,t);return n&&Bi(n)&&Om(n)&&!fx(n)?s:n||yM(e)||s}const RM=async function(e){const t=this.getOffsetParent||_1,s=this.getDimensions,n=await s(e.floating);return{reference:_M(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function MM(e){return br(e).direction==="rtl"}const IM={convertOffsetParentRelativeRectToViewportRelativeRect:wM,getDocumentElement:Vr,getClippingRect:EM,getOffsetParent:_1,getElementRects:RM,getClientRects:NM,getDimensions:AM,getScale:ki,isElement:vr,isRTL:MM};function R1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function DM(e,t){let s=null,n;const a=Vr(e);function i(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:f,height:p}=d;if(l||t(),!f||!p)return;const w=oc(m),y=oc(a.clientWidth-(u+f)),j=oc(a.clientHeight-(m+p)),v=oc(u),x={rootMargin:-w+"px "+-y+"px "+-j+"px "+-v+"px",threshold:As(0,ra(1,c))||1};let b=!0;function S(k){const T=k[0].intersectionRatio;if(T!==c){if(!b)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!R1(d,e.getBoundingClientRect())&&o(),b=!1}try{s=new IntersectionObserver(S,{...x,root:a.ownerDocument})}catch{s=new IntersectionObserver(S,x)}s.observe(e)}return o(!0),i}function OM(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=xx(e),u=a||i?[...d?ml(d):[],...ml(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",s,{passive:!0}),i&&v.addEventListener("resize",s)});const m=d&&l?DM(d,s):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[g]=v;g&&g.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),s()}),d&&!c&&p.observe(d),p.observe(t));let w,y=c?Ua(e):null;c&&j();function j(){const v=Ua(e);y&&!R1(y,v)&&s(),y=v,w=requestAnimationFrame(j)}return s(),()=>{var v;u.forEach(g=>{a&&g.removeEventListener("scroll",s),i&&g.removeEventListener("resize",s)}),m==null||m(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const LM=oM,FM=lM,VM=nM,UM=dM,BM=aM,zy=rM,zM=cM,$M=(e,t,s)=>{const n=new Map,a={platform:IM,...s},i={...a.platform,_c:n};return sM(e,t,{...a,platform:i})};var WM=typeof document<"u",HM=function(){},Ac=WM?h.useLayoutEffect:HM;function kd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!kd(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=s;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!kd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function M1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $y(e,t){const s=M1(e);return Math.round(t*s)/s}function Lm(e){const t=h.useRef(e);return Ac(()=>{t.current=e}),t}function GM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=h.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=h.useState(n);kd(f,n)||p(n);const[w,y]=h.useState(null),[j,v]=h.useState(null),g=h.useCallback(O=>{O!==k.current&&(k.current=O,y(O))},[]),x=h.useCallback(O=>{O!==T.current&&(T.current=O,v(O))},[]),b=i||w,S=o||j,k=h.useRef(null),T=h.useRef(null),C=h.useRef(u),D=c!=null,_=Lm(c),R=Lm(a),P=Lm(d),E=h.useCallback(()=>{if(!k.current||!T.current)return;const O={placement:t,strategy:s,middleware:f};R.current&&(O.platform=R.current),$M(k.current,T.current,O).then(L=>{const B={...L,isPositioned:P.current!==!1};N.current&&!kd(C.current,B)&&(C.current=B,Nl.flushSync(()=>{m(B)}))})},[f,t,s,R,P]);Ac(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[d]);const N=h.useRef(!1);Ac(()=>(N.current=!0,()=>{N.current=!1}),[]),Ac(()=>{if(b&&(k.current=b),S&&(T.current=S),b&&S){if(_.current)return _.current(b,S,E);E()}},[b,S,E,_,D]);const I=h.useMemo(()=>({reference:k,floating:T,setReference:g,setFloating:x}),[g,x]),A=h.useMemo(()=>({reference:b,floating:S}),[b,S]),z=h.useMemo(()=>{const O={position:s,left:0,top:0};if(!A.floating)return O;const L=$y(A.floating,u.x),B=$y(A.floating,u.y);return l?{...O,transform:"translate("+L+"px, "+B+"px)",...M1(A.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:L,top:B}},[s,l,A.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:E,refs:I,elements:A,floatingStyles:z}),[u,E,I,A,z])}const KM=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:a}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?zy({element:n.current,padding:a}).fn(s):{}:n?zy({element:n,padding:a}).fn(s):{}}}},qM=(e,t)=>({...LM(e),options:[e,t]}),YM=(e,t)=>({...FM(e),options:[e,t]}),ZM=(e,t)=>({...zM(e),options:[e,t]}),QM=(e,t)=>({...VM(e),options:[e,t]}),XM=(e,t)=>({...UM(e),options:[e,t]}),JM=(e,t)=>({...BM(e),options:[e,t]}),e3=(e,t)=>({...KM(e),options:[e,t]});var t3="Arrow",I1=h.forwardRef((e,t)=>{const{children:s,width:n=10,height:a=5,...i}=e;return r.jsx(Ke.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});I1.displayName=t3;var s3=I1;function D1(e){const[t,s]=h.useState(void 0);return on(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var gx="Popper",[O1,L1]=gn(gx),[r3,F1]=O1(gx),V1=e=>{const{__scopePopper:t,children:s}=e,[n,a]=h.useState(null);return r.jsx(r3,{scope:t,anchor:n,onAnchorChange:a,children:s})};V1.displayName=gx;var U1="PopperAnchor",B1=h.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...a}=e,i=F1(U1,s),o=h.useRef(null),l=Wt(t,o),c=h.useRef(null);return h.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:r.jsx(Ke.div,{...a,ref:l})});B1.displayName=U1;var yx="PopperContent",[n3,a3]=O1(yx),z1=h.forwardRef((e,t)=>{var ge,Dt,De,Fe,tt,gt;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:w,...y}=e,j=F1(yx,s),[v,g]=h.useState(null),x=Wt(t,Tt=>g(Tt)),[b,S]=h.useState(null),k=D1(b),T=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,D=n+(i!=="center"?"-"+i:""),_=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(d)?d:[d],P=R.length>0,E={padding:_,boundary:R.filter(o3),altBoundary:P},{refs:N,floatingStyles:I,placement:A,isPositioned:z,middlewareData:O}=GM({strategy:"fixed",placement:D,whileElementsMounted:(...Tt)=>OM(...Tt,{animationFrame:p==="always"}),elements:{reference:j.anchor},middleware:[qM({mainAxis:a+C,alignmentAxis:o}),c&&YM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?ZM():void 0,...E}),c&&QM({...E}),XM({...E,apply:({elements:Tt,rects:fs,availableWidth:jr,availableHeight:zs})=>{const{width:wr,height:Xe}=fs.reference,Ts=Tt.floating.style;Ts.setProperty("--radix-popper-available-width",`${jr}px`),Ts.setProperty("--radix-popper-available-height",`${zs}px`),Ts.setProperty("--radix-popper-anchor-width",`${wr}px`),Ts.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),b&&e3({element:b,padding:l}),l3({arrowWidth:T,arrowHeight:C}),f&&JM({strategy:"referenceHidden",...E})]}),[L,B]=H1(A),H=Fs(w);on(()=>{z&&(H==null||H())},[z,H]);const G=(ge=O.arrow)==null?void 0:ge.x,de=(Dt=O.arrow)==null?void 0:Dt.y,ve=((De=O.arrow)==null?void 0:De.centerOffset)!==0,[Pe,Me]=h.useState();return on(()=>{v&&Me(window.getComputedStyle(v).zIndex)},[v]),r.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:z?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(Fe=O.transformOrigin)==null?void 0:Fe.x,(tt=O.transformOrigin)==null?void 0:tt.y].join(" "),...((gt=O.hide)==null?void 0:gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(n3,{scope:s,placedSide:L,onArrowChange:S,arrowX:G,arrowY:de,shouldHideArrow:ve,children:r.jsx(Ke.div,{"data-side":L,"data-align":B,...y,ref:x,style:{...y.style,animation:z?void 0:"none"}})})})});z1.displayName=yx;var $1="PopperArrow",i3={top:"bottom",right:"left",bottom:"top",left:"right"},W1=h.forwardRef(function(t,s){const{__scopePopper:n,...a}=t,i=a3($1,n),o=i3[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(s3,{...a,ref:s,style:{...a.style,display:"block"}})})});W1.displayName=$1;function o3(e){return e!==null}var l3=e=>({name:"transformOrigin",options:e,fn(t){var j,v,g;const{placement:s,rects:n,middlewareData:a}=t,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=H1(s),m={start:"0%",center:"50%",end:"100%"}[u],f=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,p=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let w="",y="";return d==="bottom"?(w=o?m:`${f}px`,y=`${-c}px`):d==="top"?(w=o?m:`${f}px`,y=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,y=o?m:`${p}px`):d==="left"&&(w=`${n.floating.width+c}px`,y=o?m:`${p}px`),{data:{x:w,y}}}});function H1(e){const[t,s="center"]=e.split("-");return[t,s]}var c3=V1,d3=B1,u3=z1,m3=W1,Fm="rovingFocusGroup.onEntryFocus",h3={bubbles:!1,cancelable:!0},Rl="RovingFocusGroup",[hf,G1,f3]=tx(Rl),[p3,Pu]=gn(Rl,[f3]),[x3,g3]=p3(Rl),K1=h.forwardRef((e,t)=>r.jsx(hf.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(hf.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(y3,{...e,ref:t})})}));K1.displayName=Rl;var y3=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,f=h.useRef(null),p=Wt(t,f),w=dx(i),[y,j]=El({prop:o,defaultProp:l??null,onChange:c,caller:Rl}),[v,g]=h.useState(!1),x=Fs(d),b=G1(s),S=h.useRef(!1),[k,T]=h.useState(0);return h.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(Fm,x),()=>C.removeEventListener(Fm,x)},[x]),r.jsx(x3,{scope:s,orientation:n,dir:w,loop:a,currentTabStopId:y,onItemFocus:h.useCallback(C=>j(C),[j]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>T(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>T(C=>C-1),[]),children:r.jsx(Ke.div,{tabIndex:v||k===0?-1:0,"data-orientation":n,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{S.current=!0}),onFocus:we(e.onFocus,C=>{const D=!S.current;if(C.target===C.currentTarget&&D&&!v){const _=new CustomEvent(Fm,h3);if(C.currentTarget.dispatchEvent(_),!_.defaultPrevented){const R=b().filter(A=>A.focusable),P=R.find(A=>A.active),E=R.find(A=>A.id===y),I=[P,E,...R].filter(Boolean).map(A=>A.ref.current);Z1(I,u)}}S.current=!1}),onBlur:we(e.onBlur,()=>g(!1))})})}),q1="RovingFocusGroupItem",Y1=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=wd(),d=i||c,u=g3(q1,s),m=u.currentTabStopId===d,f=G1(s),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:y}=u;return h.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),r.jsx(hf.ItemSlot,{scope:s,id:d,focusable:n,active:a,children:r.jsx(Ke.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:we(e.onMouseDown,j=>{n?u.onItemFocus(d):j.preventDefault()}),onFocus:we(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:we(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){u.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const v=j3(j,u.orientation,u.dir);if(v!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const b=x.indexOf(j.currentTarget);x=u.loop?w3(x,b+1):x.slice(b+1)}setTimeout(()=>Z1(x))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:y!=null}):o})})});Y1.displayName=q1;var v3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function j3(e,t,s){const n=b3(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return v3[n]}function Z1(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function w3(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var Q1=K1,X1=Y1,N3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Za=new WeakMap,lc=new WeakMap,cc={},Vm=0,J1=function(e){return e&&(e.host||J1(e.parentNode))},S3=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=J1(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},C3=function(e,t,s,n){var a=S3(t,Array.isArray(e)?e:[e]);cc[s]||(cc[s]=new WeakMap);var i=cc[s],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(l.has(f))u(f);else try{var p=f.getAttribute(n),w=p!==null&&p!=="false",y=(Za.get(f)||0)+1,j=(i.get(f)||0)+1;Za.set(f,y),i.set(f,j),o.push(f),y===1&&w&&lc.set(f,!0),j===1&&f.setAttribute(s,"true"),w||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),l.clear(),Vm++,function(){o.forEach(function(m){var f=Za.get(m)-1,p=i.get(m)-1;Za.set(m,f),i.set(m,p),f||(lc.has(m)||m.removeAttribute(n),lc.delete(m)),p||m.removeAttribute(s)}),Vm--,Vm||(Za=new WeakMap,Za=new WeakMap,lc=new WeakMap,cc={})}},k3=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=N3(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),C3(n,a,s,"aria-hidden")):function(){return null}},Pr=function(){return Pr=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},Pr.apply(this,arguments)};function e2(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s}function T3(e,t,s){if(s||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var _c="right-scroll-bar-position",Rc="width-before-scroll-bar",P3="with-scroll-bars-hidden",E3="--removed-body-scroll-bar-size";function Um(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function A3(e,t){var s=h.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=t,s.facade}var _3=typeof window<"u"?h.useLayoutEffect:h.useEffect,Wy=new WeakMap;function R3(e,t){var s=A3(null,function(n){return e.forEach(function(a){return Um(a,n)})});return _3(function(){var n=Wy.get(s);if(n){var a=new Set(n),i=new Set(e),o=s.current;a.forEach(function(l){i.has(l)||Um(l,null)}),i.forEach(function(l){a.has(l)||Um(l,o)})}Wy.set(s,e)},[e]),s}function M3(e){return e}function I3(e,t){t===void 0&&(t=M3);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=t(i,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return a}function D3(e){e===void 0&&(e={});var t=I3(null);return t.options=Pr({async:!0,ssr:!1},e),t}var t2=function(e){var t=e.sideCar,s=e2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Pr({},s))};t2.isSideCarExport=!0;function O3(e,t){return e.useMedium(t),t2}var s2=D3(),Bm=function(){},Eu=h.forwardRef(function(e,t){var s=h.useRef(null),n=h.useState({onScrollCapture:Bm,onWheelCapture:Bm,onTouchMoveCapture:Bm}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,f=e.sideCar,p=e.noRelative,w=e.noIsolation,y=e.inert,j=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,x=e.gapMode,b=e2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=R3([s,t]),T=Pr(Pr({},b),a);return h.createElement(h.Fragment,null,u&&h.createElement(S,{sideCar:s2,removeScrollBar:d,shards:m,noRelative:p,noIsolation:w,inert:y,setCallbacks:i,allowPinchZoom:!!j,lockRef:s,gapMode:x}),o?h.cloneElement(h.Children.only(l),Pr(Pr({},T),{ref:k})):h.createElement(g,Pr({},T,{className:c,ref:k}),l))});Eu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eu.classNames={fullWidth:Rc,zeroRight:_c};var L3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=L3();return t&&e.setAttribute("nonce",t),e}function V3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B3=function(){var e=0,t=null;return{add:function(s){e==0&&(t=F3())&&(V3(t,s),U3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},z3=function(){var e=B3();return function(t,s){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},r2=function(){var e=z3(),t=function(s){var n=s.styles,a=s.dynamic;return e(n,a),null};return t},$3={left:0,top:0,right:0,gap:0},zm=function(e){return parseInt(e||"",10)||0},W3=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[zm(s),zm(n),zm(a)]},H3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $3;var t=W3(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},G3=r2(),Ti="data-scroll-locked",K3=function(e,t,s,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(P3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ti,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_c,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Rc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_c," .").concat(_c,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Rc," .").concat(Rc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ti,`] {
    `).concat(E3,": ").concat(l,`px;
  }
`)},Hy=function(){var e=parseInt(document.body.getAttribute(Ti)||"0",10);return isFinite(e)?e:0},q3=function(){h.useEffect(function(){return document.body.setAttribute(Ti,(Hy()+1).toString()),function(){var e=Hy()-1;e<=0?document.body.removeAttribute(Ti):document.body.setAttribute(Ti,e.toString())}},[])},Y3=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;q3();var i=h.useMemo(function(){return H3(a)},[a]);return h.createElement(G3,{styles:K3(i,!t,a,s?"":"!important")})},ff=!1;if(typeof window<"u")try{var dc=Object.defineProperty({},"passive",{get:function(){return ff=!0,!0}});window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{ff=!1}var Qa=ff?{passive:!1}:!1,Z3=function(e){return e.tagName==="TEXTAREA"},n2=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!Z3(e)&&s[t]==="visible")},Q3=function(e){return n2(e,"overflowY")},X3=function(e){return n2(e,"overflowX")},Gy=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=a2(e,n);if(a){var i=i2(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},J3=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},eI=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},a2=function(e,t){return e==="v"?Q3(t):X3(t)},i2=function(e,t){return e==="v"?J3(t):eI(t)},tI=function(e,t){return e==="h"&&t==="rtl"?-1:1},sI=function(e,t,s,n,a){var i=tI(e,window.getComputedStyle(t).direction),o=i*n,l=s.target,c=t.contains(l),d=!1,u=o>0,m=0,f=0;do{if(!l)break;var p=i2(e,l),w=p[0],y=p[1],j=p[2],v=y-j-i*w;(w||v)&&a2(e,l)&&(m+=v,f+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(m)<1||!u&&Math.abs(f)<1)&&(d=!0),d},uc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ky=function(e){return[e.deltaX,e.deltaY]},qy=function(e){return e&&"current"in e?e.current:e},rI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aI=0,Xa=[];function iI(e){var t=h.useRef([]),s=h.useRef([0,0]),n=h.useRef(),a=h.useState(aI++)[0],i=h.useState(r2)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=T3([e.lockRef.current],(e.shards||[]).map(qy),!0).filter(Boolean);return y.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(y,j){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=uc(y),g=s.current,x="deltaX"in y?y.deltaX:g[0]-v[0],b="deltaY"in y?y.deltaY:g[1]-v[1],S,k=y.target,T=Math.abs(x)>Math.abs(b)?"h":"v";if("touches"in y&&T==="h"&&k.type==="range")return!1;var C=Gy(T,k);if(!C)return!0;if(C?S=T:(S=T==="v"?"h":"v",C=Gy(T,k)),!C)return!1;if(!n.current&&"changedTouches"in y&&(x||b)&&(n.current=S),!S)return!0;var D=n.current||S;return sI(D,j,y,D==="h"?x:b)},[]),c=h.useCallback(function(y){var j=y;if(!(!Xa.length||Xa[Xa.length-1]!==i)){var v="deltaY"in j?Ky(j):uc(j),g=t.current.filter(function(S){return S.name===j.type&&(S.target===j.target||j.target===S.shadowParent)&&rI(S.delta,v)})[0];if(g&&g.should){j.cancelable&&j.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(qy).filter(Boolean).filter(function(S){return S.contains(j.target)}),b=x.length>0?l(j,x[0]):!o.current.noIsolation;b&&j.cancelable&&j.preventDefault()}}},[]),d=h.useCallback(function(y,j,v,g){var x={name:y,delta:j,target:v,should:g,shadowParent:oI(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(b){return b!==x})},1)},[]),u=h.useCallback(function(y){s.current=uc(y),n.current=void 0},[]),m=h.useCallback(function(y){d(y.type,Ky(y),y.target,l(y,e.lockRef.current))},[]),f=h.useCallback(function(y){d(y.type,uc(y),y.target,l(y,e.lockRef.current))},[]);h.useEffect(function(){return Xa.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Qa),document.addEventListener("touchmove",c,Qa),document.addEventListener("touchstart",u,Qa),function(){Xa=Xa.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Qa),document.removeEventListener("touchmove",c,Qa),document.removeEventListener("touchstart",u,Qa)}},[]);var p=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(i,{styles:nI(a)}):null,p?h.createElement(Y3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lI=O3(s2,iI);var o2=h.forwardRef(function(e,t){return h.createElement(Eu,Pr({},e,{ref:t,sideCar:lI}))});o2.classNames=Eu.classNames;var pf=["Enter"," "],cI=["ArrowDown","PageUp","Home"],l2=["ArrowUp","PageDown","End"],dI=[...cI,...l2],uI={ltr:[...pf,"ArrowRight"],rtl:[...pf,"ArrowLeft"]},mI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ml="Menu",[hl,hI,fI]=tx(Ml),[Ka,c2]=gn(Ml,[fI,L1,Pu]),Au=L1(),d2=Pu(),[pI,qa]=Ka(Ml),[xI,Il]=Ka(Ml),u2=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Au(t),[c,d]=h.useState(null),u=h.useRef(!1),m=Fs(i),f=dx(a);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),r.jsx(c3,{...l,children:r.jsx(pI,{scope:t,open:s,onOpenChange:m,content:c,onContentChange:d,children:r.jsx(xI,{scope:t,onClose:h.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:f,modal:o,children:n})})})};u2.displayName=Ml;var gI="MenuAnchor",vx=h.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=Au(s);return r.jsx(d3,{...a,...n,ref:t})});vx.displayName=gI;var bx="MenuPortal",[yI,m2]=Ka(bx,{forceMount:void 0}),h2=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:a}=e,i=qa(bx,t);return r.jsx(yI,{scope:t,forceMount:s,children:r.jsx(Ga,{present:s||i.open,children:r.jsx(nx,{asChild:!0,container:a,children:n})})})};h2.displayName=bx;var Qs="MenuContent",[vI,jx]=Ka(Qs),f2=h.forwardRef((e,t)=>{const s=m2(Qs,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,i=qa(Qs,e.__scopeMenu),o=Il(Qs,e.__scopeMenu);return r.jsx(hl.Provider,{scope:e.__scopeMenu,children:r.jsx(Ga,{present:n||i.open,children:r.jsx(hl.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(bI,{...a,ref:t}):r.jsx(jI,{...a,ref:t})})})})}),bI=h.forwardRef((e,t)=>{const s=qa(Qs,e.__scopeMenu),n=h.useRef(null),a=Wt(t,n);return h.useEffect(()=>{const i=n.current;if(i)return k3(i)},[]),r.jsx(wx,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),jI=h.forwardRef((e,t)=>{const s=qa(Qs,e.__scopeMenu);return r.jsx(wx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),wI=jd("MenuContent.ScrollLock"),wx=h.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:f,onDismiss:p,disableOutsideScroll:w,...y}=e,j=qa(Qs,s),v=Il(Qs,s),g=Au(s),x=d2(s),b=hI(s),[S,k]=h.useState(null),T=h.useRef(null),C=Wt(t,T,j.onContentChange),D=h.useRef(0),_=h.useRef(""),R=h.useRef(0),P=h.useRef(null),E=h.useRef("right"),N=h.useRef(0),I=w?o2:h.Fragment,A=w?{as:wI,allowPinchZoom:!0}:void 0,z=L=>{var ge,Dt;const B=_.current+L,H=b().filter(De=>!De.disabled),G=document.activeElement,de=(ge=H.find(De=>De.ref.current===G))==null?void 0:ge.textValue,ve=H.map(De=>De.textValue),Pe=II(ve,B,de),Me=(Dt=H.find(De=>De.textValue===Pe))==null?void 0:Dt.ref.current;(function De(Fe){_.current=Fe,window.clearTimeout(D.current),Fe!==""&&(D.current=window.setTimeout(()=>De(""),1e3))})(B),Me&&setTimeout(()=>Me.focus())};h.useEffect(()=>()=>window.clearTimeout(D.current),[]),D6();const O=h.useCallback(L=>{var H,G;return E.current===((H=P.current)==null?void 0:H.side)&&OI(L,(G=P.current)==null?void 0:G.area)},[]);return r.jsx(vI,{scope:s,searchRef:_,onItemEnter:h.useCallback(L=>{O(L)&&L.preventDefault()},[O]),onItemLeave:h.useCallback(L=>{var B;O(L)||((B=T.current)==null||B.focus(),k(null))},[O]),onTriggerLeave:h.useCallback(L=>{O(L)&&L.preventDefault()},[O]),pointerGraceTimerRef:R,onPointerGraceIntentChange:h.useCallback(L=>{P.current=L},[]),children:r.jsx(I,{...A,children:r.jsx(j1,{asChild:!0,trapped:a,onMountAutoFocus:we(i,L=>{var B;L.preventDefault(),(B=T.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(rx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:f,onDismiss:p,children:r.jsx(Q1,{asChild:!0,...x,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:we(c,L=>{v.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(u3,{role:"menu","aria-orientation":"vertical","data-state":A2(j.open),"data-radix-menu-content":"",dir:v.dir,...g,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:we(y.onKeyDown,L=>{const H=L.target.closest("[data-radix-menu-content]")===L.currentTarget,G=L.ctrlKey||L.altKey||L.metaKey,de=L.key.length===1;H&&(L.key==="Tab"&&L.preventDefault(),!G&&de&&z(L.key));const ve=T.current;if(L.target!==ve||!dI.includes(L.key))return;L.preventDefault();const Me=b().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);l2.includes(L.key)&&Me.reverse(),RI(Me)}),onBlur:we(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(D.current),_.current="")}),onPointerMove:we(e.onPointerMove,fl(L=>{const B=L.target,H=N.current!==L.clientX;if(L.currentTarget.contains(B)&&H){const G=L.clientX>N.current?"right":"left";E.current=G,N.current=L.clientX}}))})})})})})})});f2.displayName=Qs;var NI="MenuGroup",Nx=h.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(Ke.div,{role:"group",...n,ref:t})});Nx.displayName=NI;var SI="MenuLabel",p2=h.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(Ke.div,{...n,ref:t})});p2.displayName=SI;var Td="MenuItem",Yy="menu.itemSelect",_u=h.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...a}=e,i=h.useRef(null),o=Il(Td,e.__scopeMenu),l=jx(Td,e.__scopeMenu),c=Wt(t,i),d=h.useRef(!1),u=()=>{const m=i.current;if(!s&&m){const f=new CustomEvent(Yy,{bubbles:!0,cancelable:!0});m.addEventListener(Yy,p=>n==null?void 0:n(p),{once:!0}),sx(m,f),f.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(x2,{...a,ref:c,disabled:s,onClick:we(e.onClick,u),onPointerDown:m=>{var f;(f=e.onPointerDown)==null||f.call(e,m),d.current=!0},onPointerUp:we(e.onPointerUp,m=>{var f;d.current||(f=m.currentTarget)==null||f.click()}),onKeyDown:we(e.onKeyDown,m=>{const f=l.searchRef.current!=="";s||f&&m.key===" "||pf.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});_u.displayName=Td;var x2=h.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:a,...i}=e,o=jx(Td,s),l=d2(s),c=h.useRef(null),d=Wt(t,c),[u,m]=h.useState(!1),[f,p]=h.useState("");return h.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[i.children]),r.jsx(hl.ItemSlot,{scope:s,disabled:n,textValue:a??f,children:r.jsx(X1,{asChild:!0,...l,focusable:!n,children:r.jsx(Ke.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:we(e.onPointerMove,fl(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(e.onPointerLeave,fl(w=>o.onItemLeave(w))),onFocus:we(e.onFocus,()=>m(!0)),onBlur:we(e.onBlur,()=>m(!1))})})})}),CI="MenuCheckboxItem",g2=h.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...a}=e;return r.jsx(w2,{scope:e.__scopeMenu,checked:s,children:r.jsx(_u,{role:"menuitemcheckbox","aria-checked":Pd(s)?"mixed":s,...a,ref:t,"data-state":Cx(s),onSelect:we(a.onSelect,()=>n==null?void 0:n(Pd(s)?!0:!s),{checkForDefaultPrevented:!1})})})});g2.displayName=CI;var y2="MenuRadioGroup",[kI,TI]=Ka(y2,{value:void 0,onValueChange:()=>{}}),v2=h.forwardRef((e,t)=>{const{value:s,onValueChange:n,...a}=e,i=Fs(n);return r.jsx(kI,{scope:e.__scopeMenu,value:s,onValueChange:i,children:r.jsx(Nx,{...a,ref:t})})});v2.displayName=y2;var b2="MenuRadioItem",j2=h.forwardRef((e,t)=>{const{value:s,...n}=e,a=TI(b2,e.__scopeMenu),i=s===a.value;return r.jsx(w2,{scope:e.__scopeMenu,checked:i,children:r.jsx(_u,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Cx(i),onSelect:we(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,s)},{checkForDefaultPrevented:!1})})})});j2.displayName=b2;var Sx="MenuItemIndicator",[w2,PI]=Ka(Sx,{checked:!1}),N2=h.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...a}=e,i=PI(Sx,s);return r.jsx(Ga,{present:n||Pd(i.checked)||i.checked===!0,children:r.jsx(Ke.span,{...a,ref:t,"data-state":Cx(i.checked)})})});N2.displayName=Sx;var EI="MenuSeparator",S2=h.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(Ke.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});S2.displayName=EI;var AI="MenuArrow",C2=h.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=Au(s);return r.jsx(m3,{...a,...n,ref:t})});C2.displayName=AI;var _I="MenuSub",[DF,k2]=Ka(_I),No="MenuSubTrigger",T2=h.forwardRef((e,t)=>{const s=qa(No,e.__scopeMenu),n=Il(No,e.__scopeMenu),a=k2(No,e.__scopeMenu),i=jx(No,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),r.jsx(vx,{asChild:!0,...d,children:r.jsx(x2,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":A2(s.open),...e,ref:bu(t,a.onTriggerChange),onClick:m=>{var f;(f=e.onClick)==null||f.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:we(e.onPointerMove,fl(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:we(e.onPointerLeave,fl(m=>{var p,w;u();const f=(p=s.content)==null?void 0:p.getBoundingClientRect();if(f){const y=(w=s.content)==null?void 0:w.dataset.side,j=y==="right",v=j?-5:5,g=f[j?"left":"right"],x=f[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+v,y:m.clientY},{x:g,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:g,y:f.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:we(e.onKeyDown,m=>{var p;const f=i.searchRef.current!=="";e.disabled||f&&m.key===" "||uI[n.dir].includes(m.key)&&(s.onOpenChange(!0),(p=s.content)==null||p.focus(),m.preventDefault())})})})});T2.displayName=No;var P2="MenuSubContent",E2=h.forwardRef((e,t)=>{const s=m2(Qs,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,i=qa(Qs,e.__scopeMenu),o=Il(Qs,e.__scopeMenu),l=k2(P2,e.__scopeMenu),c=h.useRef(null),d=Wt(t,c);return r.jsx(hl.Provider,{scope:e.__scopeMenu,children:r.jsx(Ga,{present:n||i.open,children:r.jsx(hl.Slot,{scope:e.__scopeMenu,children:r.jsx(wx,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:we(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:we(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:we(e.onKeyDown,u=>{var p;const m=u.currentTarget.contains(u.target),f=mI[o.dir].includes(u.key);m&&f&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});E2.displayName=P2;function A2(e){return e?"open":"closed"}function Pd(e){return e==="indeterminate"}function Cx(e){return Pd(e)?"indeterminate":e?"checked":"unchecked"}function RI(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function MI(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function II(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=MI(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function DI(e,t){const{x:s,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,m=c.x,f=c.y;u>n!=f>n&&s<(m-d)*(n-u)/(f-u)+d&&(a=!a)}return a}function OI(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return DI(s,t)}function fl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var LI=u2,FI=vx,VI=h2,UI=f2,BI=Nx,zI=p2,$I=_u,WI=g2,HI=v2,GI=j2,KI=N2,qI=S2,YI=C2,ZI=T2,QI=E2,Ru="DropdownMenu",[XI,OF]=gn(Ru,[c2]),hs=c2(),[JI,_2]=XI(Ru),R2=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=hs(t),d=h.useRef(null),[u,m]=El({prop:a,defaultProp:i??!1,onChange:o,caller:Ru});return r.jsx(JI,{scope:t,triggerId:wd(),triggerRef:d,contentId:wd(),open:u,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(f=>!f),[m]),modal:l,children:r.jsx(LI,{...c,open:u,onOpenChange:m,dir:n,modal:l,children:s})})};R2.displayName=Ru;var M2="DropdownMenuTrigger",I2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...a}=e,i=_2(M2,s),o=hs(s);return r.jsx(FI,{asChild:!0,...o,children:r.jsx(Ke.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:bu(t,i.triggerRef),onPointerDown:we(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:we(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});I2.displayName=M2;var eD="DropdownMenuPortal",D2=e=>{const{__scopeDropdownMenu:t,...s}=e,n=hs(t);return r.jsx(VI,{...n,...s})};D2.displayName=eD;var O2="DropdownMenuContent",L2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=_2(O2,s),i=hs(s),o=h.useRef(!1);return r.jsx(UI,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:we(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:we(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L2.displayName=O2;var tD="DropdownMenuGroup",sD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(BI,{...a,...n,ref:t})});sD.displayName=tD;var rD="DropdownMenuLabel",F2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(zI,{...a,...n,ref:t})});F2.displayName=rD;var nD="DropdownMenuItem",V2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx($I,{...a,...n,ref:t})});V2.displayName=nD;var aD="DropdownMenuCheckboxItem",U2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(WI,{...a,...n,ref:t})});U2.displayName=aD;var iD="DropdownMenuRadioGroup",oD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(HI,{...a,...n,ref:t})});oD.displayName=iD;var lD="DropdownMenuRadioItem",B2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(GI,{...a,...n,ref:t})});B2.displayName=lD;var cD="DropdownMenuItemIndicator",z2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(KI,{...a,...n,ref:t})});z2.displayName=cD;var dD="DropdownMenuSeparator",$2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(qI,{...a,...n,ref:t})});$2.displayName=dD;var uD="DropdownMenuArrow",mD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(YI,{...a,...n,ref:t})});mD.displayName=uD;var hD="DropdownMenuSubTrigger",W2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(ZI,{...a,...n,ref:t})});W2.displayName=hD;var fD="DropdownMenuSubContent",H2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(QI,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});H2.displayName=fD;var pD=R2,xD=I2,gD=D2,G2=L2,K2=F2,q2=V2,Y2=U2,Z2=B2,Q2=z2,X2=$2,J2=W2,eS=H2;const yD=pD,vD=xD,bD=h.forwardRef(({className:e,inset:t,children:s,...n},a)=>r.jsxs(J2,{ref:a,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[s,r.jsx(Xp,{className:"ml-auto h-4 w-4"})]}));bD.displayName=J2.displayName;const jD=h.forwardRef(({className:e,...t},s)=>r.jsx(eS,{ref:s,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));jD.displayName=eS.displayName;const tS=h.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(gD,{children:r.jsx(G2,{ref:n,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));tS.displayName=G2.displayName;const Mc=h.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(q2,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));Mc.displayName=q2.displayName;const wD=h.forwardRef(({className:e,children:t,checked:s,...n},a)=>r.jsxs(Y2,{ref:a,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Q2,{children:r.jsx(gu,{className:"h-4 w-4"})})}),t]}));wD.displayName=Y2.displayName;const ND=h.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(Z2,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Q2,{children:r.jsx(A_,{className:"h-2 w-2 fill-current"})})}),t]}));ND.displayName=Z2.displayName;const SD=h.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(K2,{ref:n,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));SD.displayName=K2.displayName;const sS=h.forwardRef(({className:e,...t},s)=>r.jsx(X2,{ref:s,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));sS.displayName=X2.displayName;const Ed=h.forwardRef(({className:e,variant:t="default",...s},n)=>{const a={default:"bg-white/80 backdrop-blur-sm border border-gray-200/50 shadow-lg",glass:"bg-white/60 backdrop-blur-md border border-white/20 shadow-xl","gradient-border":"bg-white relative before:absolute before:inset-0 before:rounded-2xl before:p-[1px] before:bg-gradient-to-r before:from-emerald-500/20 before:to-teal-500/20 before:mask-composite:subtract before:[mask:linear-gradient(#fff_0_0)_content-box,linear-gradient(#fff_0_0)] shadow-lg",subtle:"bg-gray-50/80 backdrop-blur-sm border border-gray-100/50 shadow-sm"};return r.jsx("div",{ref:n,className:ce("rounded-2xl",a[t],e),...s})});Ed.displayName="GlassCard";const dn={durationFast:.2,durationBase:.4,easeStandard:[.22,1,.36,1]},ws=h.forwardRef(({children:e,delay:t=0,duration:s=dn.durationBase,...n},a)=>r.jsx(Te.div,{ref:a,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:s,delay:t,ease:dn.easeStandard},...n,children:e}));ws.displayName="FadeIn";const CD=h.forwardRef(({children:e,delay:t=0,staggerChildren:s,...n},a)=>r.jsx(Te.div,{ref:a,initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.45,delay:t,ease:dn.easeStandard,staggerChildren:s},...n,children:e}));CD.displayName="SlideUp";const Ad=h.forwardRef(({children:e,scale:t=1.02,...s},n)=>r.jsx(Te.div,{ref:n,whileHover:{scale:t,transition:{duration:dn.durationFast}},whileTap:{scale:.98},...s,children:e}));Ad.displayName="HoverScale";const kD=h.forwardRef(({children:e,tiltAngle:t=6,...s},n)=>{const a=w_();return r.jsx(Te.div,{ref:n,whileHover:a?void 0:{rotateX:t,rotateY:t/2,scale:1.02,transition:{duration:dn.durationBase}},style:a?void 0:{transformStyle:"preserve-3d",perspective:"1000px"},...s,children:e})});kD.displayName="TiltOnHover";const rS=h.forwardRef(({children:e,staggerDelay:t=.1,...s},n)=>r.jsx(Te.div,{ref:n,initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:t}}},...s,children:e}));rS.displayName="StaggerContainer";const xf=h.forwardRef(({children:e,...t},s)=>r.jsx(Te.div,{ref:s,whileHover:{y:-2,boxShadow:"0 8px 24px rgba(0,0,0,0.06)"},transition:{duration:dn.durationFast,ease:dn.easeStandard},...t,children:e}));xf.displayName="SoftHoverCard";function nS({title:e,subtitle:t}){var d,u;const s=xt(),{user:n,logout:a}=Bs(),i=async()=>{await a(),s("/login")},o=(n==null?void 0:n.role)==="admin",l=()=>{if(e)return e;const m=window.location.pathname;return m.includes("/dashboard")?"Dashboard":m.includes("/templates")?"Templates":m.includes("/whatsapp-bulk")?"WhatsApp Bulk Messaging":m.includes("/users")?"User Management":"Dashboard"},c=()=>{if(t)return t;const m=window.location.pathname;return m.includes("/dashboard")?"Here's what's happening with your WhatsApp campaigns today.":m.includes("/templates")?"Create, edit, and manage your message templates.":m.includes("/whatsapp-bulk")?"Send bulk messages to multiple recipients.":m.includes("/users")?"Manage user accounts and permissions.":o?"Admin Panel":"WhatsApp Business Platform"};return r.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-xl border-b border-gray-200/50 shadow-sm",children:r.jsx("div",{className:"px-8 py-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs(ws,{className:"flex-1",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 tracking-tight leading-tight",children:l()}),r.jsx("p",{className:"text-lg text-gray-600 leading-relaxed max-w-2xl",children:c()})]}),r.jsxs(ws,{delay:.1,className:"flex items-center space-x-4 ml-8",children:[!o&&r.jsx(Ad,{scale:1.02,children:r.jsxs(Ed,{variant:"subtle",className:"flex items-center space-x-3 px-4 py-3 border border-emerald-200/50",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:r.jsx(Va,{className:"h-3.5 w-3.5 text-white"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Credits"}),r.jsx("p",{className:"text-sm font-bold text-gray-900 -mt-0.5",children:((d=n==null?void 0:n.creditBalance)==null?void 0:d.toLocaleString())||"0"})]})]})}),r.jsxs(yD,{children:[r.jsx(vD,{asChild:!0,children:r.jsx(Ad,{scale:1.02,children:r.jsxs(U,{variant:"ghost",className:"flex items-center space-x-3 hover:bg-white/60 p-3 rounded-2xl transition-all duration-300 ring-1 ring-gray-200/50 hover:ring-gray-300/50 hover:shadow-md",children:[r.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full flex items-center justify-center ring-2 ring-white/50 shadow-lg",children:r.jsx("span",{className:"text-white text-sm font-bold tracking-tight",children:(u=n==null?void 0:n.name)==null?void 0:u.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"hidden sm:block text-left",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 tracking-tight",children:n==null?void 0:n.name}),r.jsx("p",{className:"text-xs text-emerald-600 capitalize font-medium",children:n==null?void 0:n.role})]}),r.jsx(DN,{className:"h-4 w-4 text-gray-500 transition-transform group-data-[state=open]:rotate-180"})]})})}),r.jsxs(tS,{align:"end",className:"w-64 p-2 bg-white/90 backdrop-blur-xl border border-gray-200/50 shadow-xl rounded-2xl",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 rounded-xl bg-gradient-to-r from-emerald-50 to-teal-50",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 tracking-tight",children:n==null?void 0:n.name}),r.jsx("p",{className:"text-xs text-gray-600",children:n==null?void 0:n.email}),r.jsx("div",{className:"flex items-center space-x-2 mt-2",children:r.jsx("div",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs font-medium rounded-lg capitalize",children:n==null?void 0:n.role})})]}),r.jsxs("div",{className:"py-2 space-y-1",children:[r.jsxs(Mc,{onClick:()=>s("/user/profile"),className:"rounded-lg p-3 transition-all duration-200 hover:bg-gray-100/60",children:[r.jsx(Ir,{className:"h-4 w-4 mr-3 text-gray-500"}),r.jsx("span",{className:"font-medium",children:"Profile Settings"})]}),r.jsxs(Mc,{onClick:()=>s("/user/billing"),className:"rounded-lg p-3 transition-all duration-200 hover:bg-gray-100/60",children:[r.jsx(ea,{className:"h-4 w-4 mr-3 text-gray-500"}),r.jsx("span",{className:"font-medium",children:"Billing & Credits"})]})]}),r.jsx(sS,{className:"my-2 bg-gray-200/50"}),r.jsxs(Mc,{onClick:i,className:"text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg p-3 transition-all duration-200 font-medium",children:[r.jsx(ON,{className:"h-4 w-4 mr-3"}),"Sign out"]})]})]})]})]})})})}const TD={},Zy=e=>{let t;const s=new Set,n=(u,m)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const p=t;t=m??(typeof f!="object"||f===null)?f:Object.assign({},t,f),s.forEach(w=>w(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>d,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(TD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},d=t=e(n,a,c);return c},PD=e=>e?Zy(e):Zy;var aS={exports:{}},iS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=h,ED=rE;function AD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _D=typeof Object.is=="function"?Object.is:AD,RD=ED.useSyncExternalStore,MD=Mu.useRef,ID=Mu.useEffect,DD=Mu.useMemo,OD=Mu.useDebugValue;iS.useSyncExternalStoreWithSelector=function(e,t,s,n,a){var i=MD(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=DD(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),a!==void 0&&o.hasValue){var w=o.value;if(a(w,p))return m=w}return m=p}if(w=m,_D(u,p))return w;var y=n(p);return a!==void 0&&a(w,y)?(u=p,w):(u=p,m=y)}var d=!1,u,m,f=s===void 0?null:s;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,s,n,a]);var l=RD(e,i[0],i[1]);return ID(function(){o.hasValue=!0,o.value=l},[l]),OD(l),l};aS.exports=iS;var LD=aS.exports;const FD=Cf(LD),oS={},{useDebugValue:VD}=K,{useSyncExternalStoreWithSelector:UD}=FD;let Qy=!1;const BD=e=>e;function zD(e,t=BD,s){(oS?"production":void 0)!=="production"&&s&&!Qy&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qy=!0);const n=UD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return VD(n),n}const Xy=e=>{(oS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?PD(e):e,s=(n,a)=>zD(t,n,a);return Object.assign(s,t),s},$D=e=>e?Xy(e):Xy,lS=$D((e,t)=>({theme:typeof window<"u"&&localStorage.getItem("theme")||"light",setTheme:s=>{e({theme:s}),typeof window<"u"&&(localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark"))},sidebarOpen:typeof window<"u"?window.innerWidth>=1024:!0,setSidebarOpen:s=>e({sidebarOpen:s}),loadingStates:{},setLoading:(s,n)=>e(a=>({loadingStates:{...a.loadingStates,[s]:n}})),notifications:[],addNotification:s=>{const n=Math.random().toString(36).substr(2,9),a=Date.now(),i=s.duration||4e3;e(o=>({notifications:[...o.notifications,{...s,id:n,timestamp:a}]})),s.persistent||setTimeout(()=>{t().removeNotification(n)},i)},removeNotification:s=>e(n=>({notifications:n.notifications.filter(a=>a.id!==s)})),clearAllNotifications:()=>e({notifications:[]}),creditBalance:0,setCreditBalance:s=>e({creditBalance:s})}));if(typeof window<"u"){const e=localStorage.getItem("theme")||"light";document.documentElement.classList.toggle("dark",e==="dark")}const WD={success:Je,error:ls,warning:Ms,info:Rt},HD={success:{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",title:"text-green-900",description:"text-green-700",button:"text-green-600 hover:text-green-700"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",title:"text-red-900",description:"text-red-700",button:"text-red-600 hover:text-red-700"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-600",title:"text-yellow-900",description:"text-yellow-700",button:"text-yellow-600 hover:text-yellow-700"},info:{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",title:"text-blue-900",description:"text-blue-700",button:"text-blue-600 hover:text-blue-700"}};function cS(){const{notifications:e,removeNotification:t}=lS();return h.useEffect(()=>{if(e.length>0){const s=document.getElementById(`notification-${e[e.length-1].id}`);s==null||s.scrollIntoView({behavior:"smooth",block:"nearest"})}},[e]),e.length===0?null:r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-80 w-full",children:e.map(s=>{const n=WD[s.type],a=HD[s.type];return r.jsx("div",{id:`notification-${s.id}`,className:ce("animate-in slide-in-from-right-5 duration-300","rounded-lg border px-3 py-2.5 shadow-lg backdrop-blur-sm",a.bg,a.border,"bg-opacity-95"),children:r.jsxs("div",{className:"flex items-center space-x-2.5",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(n,{className:ce("h-4 w-4",a.icon)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:ce("text-sm font-medium leading-tight",a.title),children:s.title}),s.description&&r.jsx("p",{className:ce("text-xs mt-0.5 leading-tight",a.description),children:s.description}),s.action&&r.jsx("div",{className:"mt-2",children:r.jsx(U,{variant:"ghost",size:"sm",onClick:s.action.onClick,className:ce("text-xs font-medium",a.button,"h-auto p-0"),children:s.action.label})})]}),r.jsx("button",{onClick:()=>t(s.id),className:ce("flex-shrink-0 p-0.5 rounded-full hover:bg-black/10 transition-colors",a.button,"opacity-60 hover:opacity-100"),children:r.jsx(vt,{className:"h-3.5 w-3.5"})})]})},s.id)})})}const dS=({timeoutMinutes:e=10,warningMinutes:t=2,onWarning:s,onLogout:n}={})=>{const a=xt(),{user:i,isLoading:o}=Bs(),l=h.useRef(Date.now()),c=h.useRef(!1),d=h.useRef(null),u=h.useRef(null),m=h.useRef(!1),f=e*60*1e3,p=(e-t)*60*1e3,w=h.useCallback(async()=>{console.log(" Auto-logout triggered due to inactivity");try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(x){console.error("Error during auto-logout:",x)}n&&n(),localStorage.clear(),sessionStorage.clear(),a("/login",{replace:!0}),window.location.reload()},[a,n]),y=h.useCallback(()=>{c.current||(c.current=!0,console.log(" Session warning: Auto-logout in 2 minutes"),s?s():window.confirm(`Your session will expire in ${t} minutes due to inactivity. Click OK to stay logged in.`)&&j())},[s,t]),j=h.useCallback(async()=>{if(!i||o||!m.current)return;const x=Date.now();l.current=x,c.current=!1,d.current&&clearTimeout(d.current),u.current&&clearTimeout(u.current);try{await fetch("/api/auth/reset-activity",{method:"POST",credentials:"include"}),console.log(` Activity reset for user ${i.username}. Session extended on server.`)}catch(b){console.error("Error resetting activity on server:",b)}u.current=setTimeout(y,p),d.current=setTimeout(w,f),console.log(` Frontend timers reset for user ${i.username}. Auto-logout in ${e} minutes`)},[f,p,y,w,e,i,o]),v=h.useCallback(async()=>{try{const x=await fetch("/api/auth/me",{credentials:"include"});return x.status===401?(console.log(" Session expired on server, logging out"),w(),!1):x.ok}catch(x){return console.error("Error checking session validity:",x),!0}},[w]),g=h.useCallback(async()=>{await j()},[j]);return h.useEffect(()=>{i&&!o?(m.current=!0,console.log(` Auto-logout activated for user ${i.username}`),j()):(m.current=!1,d.current&&(clearTimeout(d.current),d.current=null),u.current&&(clearTimeout(u.current),u.current=null),console.log(" Auto-logout deactivated (user not logged in)"))},[i,o,j]),h.useEffect(()=>{if(!i||o)return;const x=["mousedown","mousemove","keypress","scroll","touchstart","click"];let b=null;const S=()=>{b||(b=setTimeout(async()=>{await g(),b=null},5e3))};x.forEach(T=>{document.addEventListener(T,S,!0)});const k=setInterval(v,3e4);return()=>{x.forEach(T=>{document.removeEventListener(T,S,!0)}),d.current&&clearTimeout(d.current),u.current&&clearTimeout(u.current),b&&clearTimeout(b),clearInterval(k)}},[g,v,i,o]),h.useEffect(()=>{const x=()=>{document.visibilityState==="visible"&&v()};return document.addEventListener("visibilitychange",x),()=>{document.removeEventListener("visibilitychange",x)}},[v]),{resetActivity:j,getRemainingTime:()=>{const x=Date.now()-l.current,b=Math.max(0,f-x);return Math.ceil(b/1e3)},isWarningShown:()=>c.current}},q=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const ae=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));ae.displayName="CardHeader";const ie=h.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const je=h.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:ce("text-sm text-muted-foreground",e),...t}));je.displayName="CardDescription";const Y=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("p-6 pt-0",e),...t}));Y.displayName="CardContent";const GD=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("flex items-center p-6 pt-0",e),...t}));GD.displayName="CardFooter";function uS({isOpen:e,onStayLoggedIn:t,onLogout:s,warningTimeMinutes:n=2}){const[a,i]=h.useState(n*60),[o,l]=h.useState(!1);h.useEffect(()=>{e&&(l(!0),i(n*60))},[e,n]),h.useEffect(()=>{if(!e)return;const u=setInterval(()=>{i(m=>m<=1?(s(),0):m-1)},1e3);return()=>clearInterval(u)},[e,s]);const c=u=>{const m=Math.floor(u/60),f=u%60;return`${m}:${f.toString().padStart(2,"0")}`},d=()=>{l(!1),setTimeout(()=>t(),300)};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 transition-opacity duration-300 ${o?"opacity-100":"opacity-0"}`,onClick:s}),r.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 p-4 transition-all duration-300 ${o?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:r.jsxs(q,{className:"w-full max-w-md mx-auto shadow-2xl border-2 border-red-200 bg-white animate-pulse-border",children:[r.jsxs(ae,{className:"bg-gradient-to-r from-red-50 to-orange-50 border-b border-red-200",children:[r.jsxs(ie,{className:"flex items-center space-x-3 text-red-800",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-red-100 rounded-full",children:r.jsx(Ms,{className:"h-5 w-5 text-red-600 animate-pulse"})}),r.jsx("span",{children:"Session Timeout Warning"})]}),r.jsx(je,{className:"text-red-700",children:"Your session will expire due to inactivity"})]}),r.jsxs(Y,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full animate-pulse",children:r.jsx(pr,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-red-600 font-mono",children:c(a)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Time remaining"})]})]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsxs("p",{className:"text-gray-700",children:["You will be automatically logged out in ",r.jsx("strong",{className:"text-red-600",children:c(a)})," due to inactivity."]}),r.jsx("p",{className:"text-sm text-gray-500",children:`Click "Stay Logged In" to continue your session, or you'll be redirected to the login page.`})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs(U,{onClick:d,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 shadow-lg hover:shadow-xl transition-all duration-200",children:[r.jsx(sa,{className:"h-4 w-4 mr-2"}),"Stay Logged In"]}),r.jsxs(U,{onClick:s,variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50 hover:border-red-400 font-semibold py-3 transition-all duration-200",children:[r.jsx(ON,{className:"h-4 w-4 mr-2"}),"Logout Now"]})]}),r.jsx("div",{className:"text-center pt-2 border-t border-gray-200",children:r.jsx("p",{className:"text-xs text-gray-500",children:"This helps protect your account when you're away from your computer."})})]})]})}),r.jsx("style",{children:`
        @keyframes pulse-border {
          0%, 100% {
            border-color: rgb(252 165 165);
          }
          50% {
            border-color: rgb(239 68 68);
          }
        }
        
        .animate-pulse-border {
          animation: pulse-border 2s infinite;
        }
      `})]}):null}function Ja({children:e}){const{user:t,isLoading:s}=Bs(),[n,a]=h.useState(!1),{resetActivity:i}=dS({timeoutMinutes:10,warningMinutes:2,onWarning:()=>{t&&(console.log(" Showing session timeout warning in Layout"),a(!0))},onLogout:()=>{console.log(" Auto-logout executed in Layout"),a(!1)}});if(s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Es,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading Prime SMS..."})]})});const o=t&&!window.location.pathname.includes("/login")&&!window.location.pathname.includes("/signup")&&window.location.pathname!=="/";return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o&&r.jsx(nS,{}),r.jsx("main",{className:o?"pt-0":"",children:e}),r.jsx(cS,{}),t&&r.jsx(uS,{isOpen:n,onStayLoggedIn:async()=>{console.log(" User chose to stay logged in in Layout"),a(!1),await i()},onLogout:async()=>{console.log(" User chose to logout from warning in Layout"),a(!1);try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(l){console.error("Error during manual logout:",l)}localStorage.clear(),sessionStorage.clear(),window.location.href="/login"},warningTimeMinutes:2}),o&&r.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-bold",children:"P"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Prime SMS"}),r.jsx("p",{className:"text-xs text-gray-500",children:"WhatsApp Business Platform"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:" 2025 Prime SMS. All rights reserved."}),r.jsx("p",{className:"text-xs text-gray-400",children:"Powered by WhatsApp Business API"})]})]})})})]})}function KD(){return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center",children:r.jsx(Nt,{className:"h-6 w-6 text-white"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"Prime SMS"})]}),r.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[r.jsx("a",{href:"#features",className:"text-gray-600 hover:text-emerald-600 font-medium",children:"Features"}),r.jsx($e,{to:"/docs",className:"text-gray-600 hover:text-emerald-600 font-medium",children:"Docs"}),r.jsx($e,{to:"/contact",className:"text-gray-600 hover:text-emerald-600 font-medium",children:"Contact Us"})]}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[r.jsx($e,{to:"/login",children:r.jsx(U,{variant:"ghost",className:"text-emerald-600 hover:text-emerald-700",children:"Sign In"})}),r.jsx($e,{to:"/signup",children:r.jsx(U,{className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:"Get Started"})})]})]})})}),r.jsx("section",{className:"py-20 bg-white relative",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{className:"max-w-2xl",children:[r.jsxs("div",{className:"inline-flex items-center space-x-2 bg-emerald-50 text-emerald-700 px-3 py-1 rounded-full text-sm font-medium mb-6",children:[r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{children:"WhatsApp Business API"})]}),r.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:["WhatsApp Business API",r.jsx("span",{className:"text-emerald-500 block mt-2",children:"Turn WhatsApp conversations into customers."})]}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Send bulk messages, OTPs, and campaigns through WhatsApp Business API with powerful automation, template builder, and real-time analytics."}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:r.jsx($e,{to:"/signup",children:r.jsxs(U,{size:"lg",className:"bg-emerald-500 hover:bg-emerald-600 text-white px-8 py-3 text-base font-medium",children:[r.jsx(Nt,{className:"mr-2 h-5 w-5"}),"Start Free Trial"]})})}),r.jsx("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 text-sm text-gray-600",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex text-yellow-400 mr-2",children:[...Array(5)].map((e,t)=>r.jsx("span",{children:""},t))}),r.jsx("span",{className:"font-medium",children:"4.9/5 rating"})]})})]}),r.jsx("div",{className:"relative lg:ml-8",children:r.jsx("div",{className:"bg-black rounded-[2.2rem] p-2 shadow-2xl max-w-[320px] w-full mx-auto ring-1 ring-black/10",children:r.jsxs("div",{className:"bg-white rounded-[1.8rem] overflow-hidden h-[600px] sm:h-[640px] flex flex-col",children:[r.jsx("div",{className:"bg-emerald-500 px-4 pt-2 pb-1",children:r.jsxs("div",{className:"flex justify-between items-center text-white text-xs font-medium",children:[r.jsx("span",{children:"9:41 AM"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-1 h-3 bg-white rounded-full"}),r.jsx("div",{className:"w-1 h-3 bg-white rounded-full"}),r.jsx("div",{className:"w-1 h-3 bg-white rounded-full"}),r.jsx("div",{className:"w-1 h-3 bg-white opacity-60 rounded-full"})]}),r.jsx("span",{className:"ml-1",children:""}),r.jsx("span",{children:""})]})]})}),r.jsxs("div",{className:"bg-emerald-500 px-3 py-2 flex items-center justify-between shadow-sm",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden",children:r.jsx("div",{className:"w-full h-full bg-emerald-400 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-lg",children:""})})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-400 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-white font-medium text-sm",children:"Prime SMS"}),r.jsx("div",{className:"text-emerald-100 text-xs",children:"Online"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsx("span",{className:"text-lg",children:""}),r.jsx("span",{className:"text-lg",children:""})]})]}),r.jsx("div",{className:"flex-1 relative text-[12px]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23e5e7eb' fill-opacity='0.1'%3E%3Cpath d='M0 0h20v20H0z'/%3E%3Cpath d='M10 0L0 10v10h10L20 10V0H10z' fill='%23d1d5db' fill-opacity='0.05'/%3E%3C/g%3E%3C/svg%3E")`,backgroundColor:"#f0f2f5"},children:r.jsxs("div",{className:"p-2 space-y-1.5 h-full overflow-hidden",children:[r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx("div",{className:"bg-white bg-opacity-90 backdrop-blur-sm px-3 py-1 rounded-full shadow-sm",children:r.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Today"})})}),r.jsx("div",{className:"flex justify-center mb-2",children:r.jsxs("div",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs flex items-center",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2 animate-pulse"}),r.jsx("span",{className:"font-medium",children:"Automated"})]})}),r.jsx("div",{className:"wa-reveal",style:{"--reveal-delay":".4s"},children:r.jsxs("div",{className:"flex items-end space-x-2 mb-1",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xs",children:""})}),r.jsxs("div",{className:"max-w-[85%]",children:[r.jsx("div",{className:"wa-skeleton h-6 w-48 mb-1"}),r.jsx("div",{className:"bg-white rounded-lg rounded-bl-none px-2.5 py-1.5 shadow-sm wa-content",children:r.jsx("p",{className:"text-[12px] text-gray-800",children:"Hi! welcome to Prime SMS. How can we help?"})}),r.jsx("div",{className:"flex items-center mt-1 space-x-1 wa-content",children:r.jsx("span",{className:"text-[10px] text-gray-500",children:"9:41 AM"})})]})]})}),r.jsx("div",{className:"flex justify-end mb-1 wa-reveal",style:{"--reveal-delay":".9s"},children:r.jsxs("div",{className:"max-w-[85%] text-right",children:[r.jsx("div",{className:"bg-emerald-500/10 rounded-lg rounded-br-none px-2.5 py-1.5 shadow-sm wa-skeleton h-6 w-52 mb-1"}),r.jsx("div",{className:"bg-emerald-500 text-white rounded-lg rounded-br-none px-2.5 py-1.5 shadow-sm wa-content",children:r.jsx("p",{className:"text-[12px]",children:"I need help with my account"})}),r.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1 wa-content",children:[r.jsx("span",{className:"text-[10px] text-gray-500",children:"9:41 AM"}),r.jsx("span",{className:"text-emerald-500 text-[10px]",children:""})]})]})}),r.jsx("div",{className:"wa-reveal",style:{"--reveal-delay":"1.4s"},children:r.jsxs("div",{className:"flex items-end space-x-2 mb-1",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xs",children:""})}),r.jsxs("div",{className:"max-w-[85%]",children:[r.jsx("div",{className:"wa-skeleton h-14 w-56 mb-1"}),r.jsxs("div",{className:"bg-white rounded-lg rounded-bl-none px-2.5 py-1.5 shadow-sm wa-content",children:[r.jsx("p",{className:"text-[12px] text-gray-800 mb-1.5",children:"Your Prime SMS verification code is"}),r.jsx("div",{className:"bg-gray-100 rounded-md px-2.5 py-1.5 text-center",children:r.jsx("span",{className:"text-sm font-mono font-bold text-emerald-600 tracking-wider",children:"123456"})})]}),r.jsx("div",{className:"flex items-center mt-1 space-x-1 wa-content",children:r.jsx("span",{className:"text-[10px] text-gray-500",children:"9:42 AM"})})]})]})}),r.jsx("div",{className:"flex justify-end mb-1 wa-reveal",style:{"--reveal-delay":"2s"},children:r.jsxs("div",{className:"max-w-[85%]",children:[r.jsx("div",{className:"wa-skeleton h-6 w-60 mb-1"}),r.jsx("div",{className:"bg-emerald-500 text-white rounded-lg rounded-br-none px-2.5 py-1.5 shadow-sm wa-content",children:r.jsx("p",{className:"text-[12px]",children:"Thanks! That worked perfectly"})}),r.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1 wa-content",children:[r.jsx("span",{className:"text-[10px] text-gray-500",children:"9:42 AM"}),r.jsx("span",{className:"text-blue-500 text-[10px]",children:""})]})]})}),r.jsx("div",{className:"flex justify-center pt-2 wa-reveal",style:{"--reveal-delay":"2.6s"},children:r.jsxs("div",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-xs flex items-center shadow-sm wa-content",children:[r.jsx(gu,{className:"h-3 w-3 mr-1"}),r.jsx("span",{className:"font-medium",children:"Webhook delivered successfully"})]})}),r.jsx("div",{className:"text-center pt-1",children:r.jsx("span",{className:"text-xs text-gray-400",children:"9:43 AM"})})]})}),r.jsxs("div",{className:"bg-gray-100 px-2 py-1.5 flex items-center space-x-2",children:[r.jsxs("div",{className:"flex-1 bg-white rounded-full flex items-center px-2.5 py-1.5",children:[r.jsx("span",{className:"text-gray-400 text-base mr-2",children:""}),r.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 text-[12px] bg-transparent outline-none"}),r.jsx("span",{className:"text-gray-400 text-base ml-2",children:""}),r.jsx("span",{className:"text-gray-400 text-base ml-1",children:""})]}),r.jsx("button",{className:"bg-emerald-500 text-white p-1.5 rounded-full shadow-md",children:r.jsx(MN,{className:"h-3.5 w-3.5"})})]})]})})})]})})}),r.jsx("section",{id:"features",className:"py-20 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Powerful WhatsApp Features"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to scale your WhatsApp messaging with advanced tools and real-time insights."})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:[r.jsxs(q,{className:"border border-gray-200 hover:border-emerald-300 transition-all duration-300 hover:shadow-lg bg-white",children:[r.jsxs(ae,{className:"pb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Nt,{className:"h-6 w-6 text-emerald-600"})}),r.jsx(ie,{className:"text-xl font-semibold text-gray-900",children:"WhatsApp Bulk Messaging"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Send thousands of messages instantly"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx("span",{className:"text-sm text-gray-600",children:"Bulk messaging dashboard:"})}),r.jsx("div",{className:"text-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Campaign: Flash Sale"}),r.jsx("span",{className:"text-green-600 font-medium",children:" 2,450 sent"})]})})]})]})]}),r.jsxs(q,{className:"border border-gray-200 hover:border-emerald-300 transition-all duration-300 hover:shadow-lg bg-white",children:[r.jsxs(ae,{className:"pb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(bd,{className:"h-6 w-6 text-emerald-600"})}),r.jsx(ie,{className:"text-xl font-semibold text-gray-900",children:"Dynamic SMS Variables"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Excel mapping with custom variables"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Excel mapping preview:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("div",{children:["Hi ","{","{"," name ","}","}",",  your order ","{","{","order_id","}","}","  is ready!"]}),r.jsx("div",{className:"text-emerald-600",children:" Hi John, your order #1234 is ready!"})]})]})]})]}),r.jsxs(q,{className:"border border-gray-200 hover:border-emerald-300 transition-all duration-300 hover:shadow-lg bg-white",children:[r.jsxs(ae,{className:"pb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Ui,{className:"h-6 w-6 text-emerald-600"})}),r.jsx(ie,{className:"text-xl font-semibold text-gray-900",children:"Real-time Reports"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Live delivery and read status"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Real-time analytics:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Delivered"}),r.jsx("span",{className:"text-emerald-600 font-medium",children:"98.5%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Read"}),r.jsx("span",{className:"text-blue-600 font-medium",children:"87.2%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Failed"}),r.jsx("span",{className:"text-red-600 font-medium",children:"1.5%"})]})]})]})]})]}),r.jsxs(q,{className:"border border-gray-200 hover:border-emerald-300 transition-all duration-300 hover:shadow-lg bg-white",children:[r.jsxs(ae,{className:"pb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(St,{className:"h-6 w-6 text-emerald-600"})}),r.jsx(ie,{className:"text-xl font-semibold text-gray-900",children:"Template Builder"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Custom message templates"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Template components:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded mr-2"}),"Header"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded mr-2"}),"Body Text"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),"CTA Button"]})]})]})]})]}),r.jsxs(q,{className:"border border-gray-200 hover:border-emerald-300 transition-all duration-300 hover:shadow-lg bg-white",children:[r.jsxs(ae,{className:"pb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Va,{className:"h-6 w-6 text-emerald-600"})}),r.jsx(ie,{className:"text-xl font-semibold text-gray-900",children:"Wallet System"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Credit-based billing system"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Wallet balance:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Current Balance"}),r.jsx("span",{className:"text-emerald-600 font-medium",children:"2,450"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Messages Sent"}),r.jsx("span",{children:"1,250"})]})]})]})]})]}),r.jsxs(q,{className:"border border-gray-200 hover:border-emerald-300 transition-all duration-300 hover:shadow-lg bg-white",children:[r.jsxs(ae,{className:"pb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(dl,{className:"h-6 w-6 text-emerald-600"})}),r.jsx(ie,{className:"text-xl font-semibold text-gray-900",children:"API Integration"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"RESTful APIs for any platform"}),r.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-green-400 mb-1",children:"API endpoints:"}),r.jsxs("div",{className:"text-xs text-white space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-emerald-400",children:"POST"})," /api/send-message"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-400",children:"GET"})," /api/delivery-status"]})]})]})]})]})]})]})}),r.jsxs("section",{className:"py-20 bg-emerald-500 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 to-emerald-400"}),r.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-4",children:[r.jsx(bd,{className:"h-8 w-8 mr-3"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Simple billing: Wallet System. Pay as you go."})]}),r.jsx("p",{className:"text-xl text-emerald-50 mb-10 max-w-3xl mx-auto",children:"No monthly fees, no hidden costs. Load credits to your wallet and only pay for messages sent with transparent pricing."}),r.jsx("div",{className:"flex justify-center",children:r.jsx($e,{to:"/signup",children:r.jsx(U,{size:"lg",className:"bg-white text-emerald-600 hover:bg-gray-50 px-8 py-4 text-lg font-semibold",children:"Get Started"})})})]})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:[r.jsxs("div",{className:"col-span-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center",children:r.jsx(Nt,{className:"h-6 w-6 text-white"})}),r.jsx("span",{className:"text-xl font-bold",children:"Prime SMS"})]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"WhatsApp Business API platform for modern businesses."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Features"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:"WhatsApp API"}),r.jsx("li",{children:"Bulk Messaging"}),r.jsx("li",{children:"Template Builder"}),r.jsx("li",{children:"Real-time Reports"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:"Documentation"}),r.jsx("li",{children:"API Reference"}),r.jsx("li",{children:"Support"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:r.jsx($e,{to:"/contact",className:"hover:text-emerald-400 transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx($e,{to:"/terms",className:"hover:text-emerald-400 transition-colors",children:"Terms & Conditions"})}),r.jsx("li",{children:r.jsx($e,{to:"/privacy",className:"hover:text-emerald-400 transition-colors",children:"Privacy Policy"})})]})]})]}),r.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:" 2025 Prime SMS. All rights reserved."}),r.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[r.jsx($e,{to:"/terms",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Terms & Conditions"}),r.jsx($e,{to:"/privacy",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Privacy"}),r.jsx($e,{to:"/refund-policy",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Refund Policy"})]})]})]})})]})}const le=h.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));le.displayName="Input";function qD(){const e=xt(),{setLoading:t}=Nu(),s=Xi(),[n,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState({}),[d,u]=h.useState(""),[m,f]=h.useState("login"),[p,w]=h.useState({username:"",password:""}),[y,j]=h.useState({username:"",phone:""}),[v,g]=h.useState({otp:"",newPassword:"",confirmPassword:""}),[x,b]=h.useState(!1),S=()=>{const P={};return p.username.trim()||(P.username="Username is required"),p.password||(P.password="Password is required"),c(P),Object.keys(P).length===0},k=async P=>{if(P.preventDefault(),u(""),!!S()){a(!0),t(!0,"Logging you in...");try{const E=await It("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!E.ok){const I=await E.json();throw new Error(I.error||"Login failed")}const N=await E.json();localStorage.setItem("user",JSON.stringify(N.user)),s.success("Login successful! Redirecting to dashboard..."),setTimeout(()=>{N.user.role==="admin"?e("/admin/dashboard"):e("/user/dashboard")},500)}catch(E){console.error("Login error:",E);const N=E instanceof Error?E.message:"Login failed";u(N),s.error(N)}finally{a(!1),t(!1)}}},T=(P,E)=>{w(N=>({...N,[P]:E})),l[P]&&c(N=>({...N,[P]:""}))},C=async P=>{if(P.preventDefault(),u(""),!y.username.trim()||!y.phone.trim()){u("Username and phone number are required");return}a(!0),t(!0,"Sending OTP to WhatsApp...");try{const E=await It("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),N=await E.json();if(!E.ok)throw new Error(N.error||"Failed to send OTP");N.success&&N.otpSent&&(b(!0),f("verify-otp"),s.success("OTP sent to your WhatsApp number"))}catch(E){const N=E instanceof Error?E.message:"Failed to send OTP";u(N),s.error(N)}finally{a(!1),t(!1)}},D=async P=>{if(P.preventDefault(),u(""),!v.otp.trim()){u("OTP is required");return}a(!0),t(!0,"Verifying OTP...");try{const E=await It("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:y.username,otp:v.otp})}),N=await E.json();if(!E.ok)throw new Error(N.error||"Invalid OTP");N.success&&N.resetAllowed&&(f("reset-password"),s.success("OTP verified. You can now reset your password."))}catch(E){const N=E instanceof Error?E.message:"OTP verification failed";u(N),s.error(N)}finally{a(!1),t(!1)}},_=async P=>{if(P.preventDefault(),u(""),!v.newPassword.trim()||!v.confirmPassword.trim()){u("Both password fields are required");return}if(v.newPassword!==v.confirmPassword){u("Passwords do not match");return}if(v.newPassword.length<6){u("Password must be at least 6 characters long");return}a(!0),t(!0,"Resetting password...");try{const E=await It("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:y.username,newPassword:v.newPassword})}),N=await E.json();if(!E.ok)throw new Error(N.error||"Password reset failed");N.success&&(s.success("Password reset successfully. Please login with your new password."),f("login"),j({username:"",phone:""}),g({otp:"",newPassword:"",confirmPassword:""}),b(!1),w({username:y.username,password:""}))}catch(E){const N=E instanceof Error?E.message:"Password reset failed";u(N),s.error(N)}finally{a(!1),t(!1)}},R=()=>{f("login"),j({username:"",phone:""}),g({otp:"",newPassword:"",confirmPassword:""}),b(!1),u(""),c({})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsx("div",{className:"flex justify-start",children:r.jsxs(U,{variant:"ghost",onClick:()=>e("/"),className:"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 font-medium",children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-emerald-100",children:r.jsx(Nt,{className:"h-8 w-8 text-white"})})}),r.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to Prime SMS"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Welcome back! Please sign in to your account."})]}),r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm shadow-xl border border-white/50 ring-1 ring-emerald-100/50",children:[r.jsxs(ae,{className:"space-y-1 pb-6",children:[m!=="login"&&r.jsxs(U,{type:"button",variant:"ghost",size:"sm",onClick:R,className:"self-start mb-2 text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50",children:[r.jsx(yr,{className:"h-4 w-4 mr-1"}),"Back to Login"]}),r.jsxs(ie,{className:"text-2xl font-bold text-center",children:[m==="login"&&"Login",m==="forgot-password"&&"Forgot Password",m==="verify-otp"&&"Verify OTP",m==="reset-password"&&"Reset Password"]}),r.jsxs(je,{className:"text-center text-gray-600",children:[m==="login"&&"Enter your credentials to access your account",m==="forgot-password"&&"Enter your username and phone number (without +) to receive OTP",m==="verify-otp"&&"Enter the 6-digit OTP sent to your WhatsApp",m==="reset-password"&&"Create your new password"]})]}),r.jsxs(Y,{children:[m==="login"&&r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username"}),r.jsx(le,{id:"username",type:"text",value:p.username,onChange:P=>T("username",P.target.value),className:`${l.username?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}`,placeholder:"Enter your username",disabled:n}),l.username&&r.jsx("p",{className:"text-sm text-red-600",children:l.username})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(le,{id:"password",type:i?"text":"password",value:p.password,onChange:P=>T("password",P.target.value),className:`pr-10 ${l.password?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}`,placeholder:"Enter your password",disabled:n}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!i),children:i?r.jsx(La,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(cs,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),l.password&&r.jsx("p",{className:"text-sm text-red-600",children:l.password})]}),r.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",disabled:n,children:n?"Signing in...":"Sign in"}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("button",{type:"button",onClick:()=>f("forgot-password"),className:"text-sm font-medium text-emerald-600 hover:text-emerald-500 transition-colors",children:"Forgot Password?"}),r.jsx("div",{children:r.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",r.jsx($e,{to:"/signup",className:"font-medium text-emerald-600 hover:text-emerald-500 transition-colors",children:"Sign up"})]})})]})]}),m==="forgot-password"&&r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"forgot-username",className:"text-sm font-medium text-gray-700",children:"Username"}),r.jsx(le,{id:"forgot-username",type:"text",value:y.username,onChange:P=>j(E=>({...E,username:P.target.value})),placeholder:"Enter your username",disabled:n,className:"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"forgot-phone",className:"text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsx(le,{id:"forgot-phone",type:"tel",value:y.phone,onChange:P=>j(E=>({...E,phone:P.target.value.replace(/\D/g,"")})),placeholder:"919398424270",disabled:n,className:"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Enter your phone number as: country code + number (e.g., 919398424270)"})]}),r.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",disabled:n,children:n?"Sending OTP...":"Send OTP"})]}),m==="verify-otp"&&r.jsxs("form",{onSubmit:D,className:"space-y-6",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-700 px-4 py-3 rounded-lg text-sm",children:["OTP has been sent to your WhatsApp number ending in ",y.phone.slice(-4)]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"otp",className:"text-sm font-medium text-gray-700",children:"6-Digit OTP"}),r.jsx(le,{id:"otp",type:"text",value:v.otp,onChange:P=>g(E=>({...E,otp:P.target.value.replace(/\D/g,"").slice(0,6)})),placeholder:"Enter 6-digit OTP",disabled:n,maxLength:6,className:"text-center text-lg tracking-widest border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"})]}),r.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",disabled:n||v.otp.length!==6,children:n?"Verifying...":"Verify OTP"})]}),m==="reset-password"&&r.jsxs("form",{onSubmit:_,className:"space-y-6",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"new-password",className:"text-sm font-medium text-gray-700",children:"New Password"}),r.jsx(le,{id:"new-password",type:"password",value:v.newPassword,onChange:P=>g(E=>({...E,newPassword:P.target.value})),placeholder:"Enter new password",disabled:n,className:"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"confirm-password",className:"text-sm font-medium text-gray-700",children:"Confirm Password"}),r.jsx(le,{id:"confirm-password",type:"password",value:v.confirmPassword,onChange:P=>g(E=>({...E,confirmPassword:P.target.value})),placeholder:"Confirm new password",disabled:n,className:"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"})]}),r.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",disabled:n,children:n?"Resetting Password...":"Reset Password"})]})]})]})]})})}function YD(){const e=xt(),[t,s]=h.useState(!1),[n,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState({}),[d,u]=h.useState(""),[m,f]=h.useState(""),[p,w]=h.useState({name:"",email:"",username:"",password:"",confirmPassword:"",phoneNumber:""}),y=()=>{const b={};return p.name.trim()?p.name.trim().length<2&&(b.name="Name must be at least 2 characters"):b.name="Name is required",p.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)||(b.email="Please enter a valid email address"):b.email="Email is required",p.username?p.username.length<3?b.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(p.username)||(b.username="Username can only contain letters, numbers, and underscores"):b.username="Username is required",p.password?p.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",p.confirmPassword?p.password!==p.confirmPassword&&(b.confirmPassword="Passwords do not match"):b.confirmPassword="Please confirm your password",p.phoneNumber&&p.phoneNumber.trim()&&(/^[1-9]\d{10,14}$/.test(p.phoneNumber)||(b.phoneNumber="Please enter phone number as: country code + number (e.g., 919398424270)")),c(b),Object.keys(b).length===0},j=async b=>{if(b.preventDefault(),!!y()){s(!0),u(""),f("");try{const S=await fetch("https://primesms.app/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),k=await S.json();S.ok?(f("Account created successfully! Please login to continue."),setTimeout(()=>{e("/login")},2e3)):u(k.error||"An error occurred during signup")}catch{u("Network error. Please try again.")}finally{s(!1)}}},v=(b,S)=>{w(k=>({...k,[b]:S})),l[b]&&c(k=>({...k,[b]:""})),d&&u("")},x=(b=>b.length===0?{strength:"",color:""}:b.length<6?{strength:"Weak",color:"text-red-500"}:b.length<10?{strength:"Medium",color:"text-yellow-500"}:{strength:"Strong",color:"text-emerald-500"})(p.password);return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"flex justify-start mb-6",children:r.jsxs(U,{variant:"ghost",onClick:()=>e("/"),className:"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 font-medium",children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-emerald-100",children:r.jsx(Nt,{className:"h-8 w-8 text-white"})})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join Prime SMS"}),r.jsx("p",{className:"text-gray-600",children:"Create your account to get started"})]}),r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm shadow-xl border border-white/50 ring-1 ring-emerald-100/50",children:[r.jsxs(ae,{className:"space-y-1 pb-6",children:[r.jsx(ie,{className:"text-2xl font-bold text-center",children:"Create Account"}),r.jsx(je,{className:"text-center text-gray-600",children:"Enter your information to create an account"})]}),r.jsx(Y,{children:r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m&&r.jsx("div",{className:"p-3 bg-emerald-50 border border-emerald-200 text-emerald-700 rounded-lg text-sm",children:m}),d&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:d}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),r.jsx(le,{id:"name",type:"text",placeholder:"John Doe",value:p.name,onChange:b=>v("name",b.target.value),className:l.name?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}),l.name&&r.jsx("p",{className:"text-sm text-red-600",children:l.name})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address *"}),r.jsx(le,{id:"email",type:"email",placeholder:"john@example.com",value:p.email,onChange:b=>v("email",b.target.value),className:l.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}),l.email&&r.jsx("p",{className:"text-sm text-red-600",children:l.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username *"}),r.jsx(le,{id:"username",type:"text",placeholder:"johndoe",value:p.username,onChange:b=>v("username",b.target.value),className:l.username?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}),l.username&&r.jsx("p",{className:"text-sm text-red-600",children:l.username})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"phoneNumber",className:"text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsx(le,{id:"phoneNumber",type:"tel",placeholder:"919398424270",value:p.phoneNumber,onChange:b=>v("phoneNumber",b.target.value.replace(/\D/g,"")),className:l.phoneNumber?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}),l.phoneNumber&&r.jsx("p",{className:"text-sm text-red-600",children:l.phoneNumber})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password *"}),r.jsxs("div",{className:"relative",children:[r.jsx(le,{id:"password",type:n?"text":"password",placeholder:"",value:p.password,onChange:b=>v("password",b.target.value),className:`pr-10 ${l.password?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}`}),r.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?r.jsx(La,{className:"h-4 w-4"}):r.jsx(cs,{className:"h-4 w-4"})})]}),p.password&&x.strength&&r.jsxs("p",{className:`text-sm ${x.color}`,children:["Password strength: ",x.strength]}),l.password&&r.jsx("p",{className:"text-sm text-red-600",children:l.password})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirm Password *"}),r.jsxs("div",{className:"relative",children:[r.jsx(le,{id:"confirmPassword",type:i?"text":"password",placeholder:"",value:p.confirmPassword,onChange:b=>v("confirmPassword",b.target.value),className:`pr-10 ${l.confirmPassword?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-emerald-500 focus:ring-emerald-500"}`}),r.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?r.jsx(La,{className:"h-4 w-4"}):r.jsx(cs,{className:"h-4 w-4"})})]}),l.confirmPassword&&r.jsx("p",{className:"text-sm text-red-600",children:l.confirmPassword})]}),r.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",disabled:t,children:t?"Creating Account...":"Create Account"}),r.jsxs("p",{className:"text-xs text-center text-gray-600",children:["By creating an account, you agree to our"," ",r.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-500 transition-colors",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-500 transition-colors",children:"Privacy Policy"})]})]})})]}),r.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",r.jsx($e,{to:"/login",className:"text-emerald-600 hover:text-emerald-500 transition-colors font-medium",children:"Sign in"})]})]})})}var Iu="Tabs",[ZD,LF]=gn(Iu,[Pu]),mS=Pu(),[QD,kx]=ZD(Iu),hS=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=dx(l),[m,f]=El({prop:n,onChange:a,defaultProp:i??"",caller:Iu});return r.jsx(QD,{scope:s,baseId:wd(),value:m,onValueChange:f,orientation:o,dir:u,activationMode:c,children:r.jsx(Ke.div,{dir:u,"data-orientation":o,...d,ref:t})})});hS.displayName=Iu;var fS="TabsList",pS=h.forwardRef((e,t)=>{const{__scopeTabs:s,loop:n=!0,...a}=e,i=kx(fS,s),o=mS(s);return r.jsx(Q1,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:r.jsx(Ke.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});pS.displayName=fS;var xS="TabsTrigger",gS=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,disabled:a=!1,...i}=e,o=kx(xS,s),l=mS(s),c=bS(o.baseId,n),d=jS(o.baseId,n),u=n===o.value;return r.jsx(X1,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(Ke.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:we(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:we(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:we(e.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!a&&m&&o.onValueChange(n)})})})});gS.displayName=xS;var yS="TabsContent",vS=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,forceMount:a,children:i,...o}=e,l=kx(yS,s),c=bS(l.baseId,n),d=jS(l.baseId,n),u=n===l.value,m=h.useRef(u);return h.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),r.jsx(Ga,{present:a||u,children:({present:f})=>r.jsx(Ke.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:f&&i})})});vS.displayName=yS;function bS(e,t){return`${e}-trigger-${t}`}function jS(e,t){return`${e}-content-${t}`}var XD=hS,wS=pS,NS=gS,SS=vS;const Vo=XD,Pi=h.forwardRef(({className:e,...t},s)=>r.jsx(wS,{ref:s,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Pi.displayName=wS.displayName;const Gt=h.forwardRef(({className:e,...t},s)=>r.jsx(NS,{ref:s,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gt.displayName=NS.displayName;const Kt=h.forwardRef(({className:e,...t},s)=>r.jsx(SS,{ref:s,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Kt.displayName=SS.displayName;function JD(){var d;const e=xt(),t=ha(),{user:s}=Bs(),o=(s==null?void 0:s.role)==="admin"?[{name:"Dashboard",path:"/admin/dashboard",icon:vd},{name:"User Management",path:"/admin/users",icon:St},{name:"Log Management",path:"/admin/logs",icon:an},{name:"Pricing Management",path:"/admin/pricing",icon:ta},{name:"Profile",path:"/admin/profile",icon:Ir}]:[{name:"Dashboard",path:"/user/dashboard",icon:vd},{name:"WhatsApp Quick Send",path:"/user/whatsapp-bulk",icon:xr},{name:"API Management",path:"/user/api-management",icon:dl},{name:"Customize Message",path:"/user/customize-message",icon:Is},{name:"Templates",path:"/user/templates",icon:St},{name:"Manage Reports",path:"/user/manage-reports",icon:Ui},{name:"Profile",path:"/user/profile",icon:Ir}],l=t.pathname,c=u=>l===u||l.startsWith(u+"/");return r.jsx("div",{className:"hidden md:flex md:w-72 min-h-screen flex-col fixed left-0 top-0 z-40 p-4",children:r.jsxs(Ed,{variant:"glass",className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(ws,{className:"p-6 border-b border-white/10",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg ring-2 ring-white/20",children:r.jsx(Nt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Prime SMS"}),r.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"WhatsApp Business"})]})]})}),r.jsx("nav",{className:"flex-1 p-4",children:r.jsx("div",{className:"space-y-1",children:o.map((u,m)=>{const f=u.icon,p=c(u.path);return r.jsx(ws,{delay:m*.05,children:r.jsx(Ad,{scale:1.01,children:r.jsxs("button",{onClick:()=>e(u.path),className:ce("w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-300 group relative overflow-hidden",p?"bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-700 shadow-lg ring-1 ring-emerald-500/20":"text-gray-600 hover:text-gray-900 hover:bg-white/60 hover:shadow-md hover:ring-1 hover:ring-white/30"),children:[p&&r.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-600 rounded-full shadow-md"}),r.jsx(f,{className:ce("h-5 w-5 transition-all duration-300 flex-shrink-0",p?"text-emerald-600 scale-110":"text-gray-400 group-hover:text-gray-600 group-hover:scale-105")}),r.jsx("span",{className:ce("text-sm font-medium tracking-tight transition-all duration-300",p?"text-emerald-700 font-semibold":"text-gray-700 group-hover:text-gray-900"),children:u.name}),p&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/5 to-teal-500/5 rounded-xl"})]})})},u.path)})})}),r.jsx(ws,{delay:.3,className:"p-4 border-t border-white/10",children:r.jsx(Ed,{variant:"subtle",className:"p-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full flex items-center justify-center ring-2 ring-white/20 shadow-lg",children:r.jsx("span",{className:"text-white text-sm font-bold tracking-tight",children:(d=s==null?void 0:s.name)==null?void 0:d.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate tracking-tight",children:s==null?void 0:s.name}),r.jsx("p",{className:"text-xs text-emerald-600 capitalize truncate font-medium",children:s==null?void 0:s.role})]})]})})})]})})}function eO({isOpen:e,onClose:t}){var f;const s=xt(),n=ha(),{user:a}=Bs(),c=(a==null?void 0:a.role)==="admin"?[{name:"Dashboard",path:"/admin/dashboard",icon:vd},{name:"User Management",path:"/admin/users",icon:St},{name:"Log Management",path:"/admin/logs",icon:an},{name:"Profile",path:"/admin/profile",icon:Ir}]:[{name:"Dashboard",path:"/user/dashboard",icon:vd},{name:"WhatsApp Quick Send",path:"/user/whatsapp-bulk",icon:xr},{name:"API Management",path:"/user/api-management",icon:dl},{name:"Customize Message",path:"/user/customize-message",icon:Is},{name:"Templates",path:"/user/templates",icon:St},{name:"Manage Reports",path:"/user/manage-reports",icon:Ui},{name:"Profile",path:"/user/profile",icon:Ir}],d=n.pathname,u=p=>d===p||d.startsWith(p+"/"),m=p=>{s(p),t()};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),r.jsxs("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200 z-50 md:hidden transform transition-transform duration-300 ease-in-out",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:r.jsx(Nt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Prime SMS"}),r.jsx("p",{className:"text-xs text-gray-500 -mt-1",children:"WhatsApp Business"})]})]}),r.jsx(U,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:r.jsx(vt,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"flex-1 p-4",children:r.jsx("div",{className:"space-y-2",children:c.map(p=>{const w=p.icon,y=u(p.path);return r.jsxs("button",{onClick:()=>m(p.path),className:ce("w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200",y?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[r.jsx(w,{className:ce("h-5 w-5 transition-colors",y?"text-blue-600":"text-gray-400")}),r.jsx("span",{className:ce("text-sm font-medium",y?"text-blue-700":"text-gray-900"),children:p.name})]},p.path)})})}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:(f=a==null?void 0:a.name)==null?void 0:f.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:["Signed in as ",a==null?void 0:a.name]}),r.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:a==null?void 0:a.role})]})]})})]})]}):null}function at({children:e,title:t,subtitle:s}){const{user:n,isLoading:a}=Bs(),[i,o]=h.useState(!1),[l,c]=h.useState(!1),{resetActivity:d}=dS({timeoutMinutes:10,warningMinutes:2,onWarning:()=>{console.log(" Showing session timeout warning"),c(!0)},onLogout:()=>{console.log(" Auto-logout executed"),c(!1)}});return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Es,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading Prime SMS..."})]})}):n?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex",children:[r.jsx(JD,{}),r.jsx(eO,{isOpen:i,onClose:()=>o(!1)}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 md:ml-72 w-full",children:[r.jsxs("div",{className:"md:hidden bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"h-8 w-8 p-0",children:r.jsx(V_,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-600 to-purple-600 rounded-md flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"P"})}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Prime SMS"})]}),r.jsx("div",{className:"w-8"})," "]}),r.jsx(nS,{title:t,subtitle:s}),r.jsx("main",{className:"flex-1 w-full p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6 lg:space-y-8 overflow-auto",children:r.jsx("div",{className:"max-w-screen-xl mx-auto w-full",children:e})}),r.jsx("footer",{className:"bg-white border-t border-gray-200 px-4 sm:px-6 lg:px-8 py-4 safe-bottom",children:r.jsx("div",{className:"max-w-screen-xl mx-auto",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-2 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-600 to-purple-600 rounded-md flex items-center justify-center shrink-0",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"P"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Prime SMS"}),r.jsx("p",{className:"text-xs text-gray-500 -mt-1",children:"WhatsApp Business Platform"})]})]}),r.jsxs("div",{className:"text-center md:text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:" 2025 Prime SMS. All rights reserved."}),r.jsx("p",{className:"text-xs text-gray-400",children:"Powered by WhatsApp Business API"})]})]})})})]}),r.jsx(cS,{}),r.jsx(uS,{isOpen:l,onStayLoggedIn:async()=>{console.log(" User chose to stay logged in"),c(!1),await d()},onLogout:async()=>{console.log(" User chose to logout from warning"),c(!1);try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(u){console.error("Error during manual logout:",u)}localStorage.clear(),sessionStorage.clear(),window.location.href="/login"},warningTimeMinutes:2})]}):r.jsx("div",{children:e})}const $m=()=>{var v,g;const{user:e,refreshUserData:t}=Bs(),{setLoading:s}=Nu(),n=Xi(),[a,i]=h.useState(!1),[o,l]=h.useState([]),[c,d]=h.useState(!1),[u,m]=h.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),f=async()=>{if(e)try{d(!0);const x=await It("/api/credits/history");if(x.ok){const b=await x.json();l(b.history||[])}else n.error("Failed to load credit history")}catch{n.error("Network error while loading credit history")}finally{d(!1)}};h.useEffect(()=>{f()},[e]);const p=async()=>{if(e)try{s(!0,"Updating profile...");const x=await It("/api/auth/update-profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u.name,email:u.email})}),b=await x.json();x.ok?(await t(),i(!1),n.success("Profile updated successfully")):n.error(b.error||"Failed to update profile")}catch{n.error("Network error occurred")}finally{s(!1)}},w=()=>{m({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),i(!1)},y=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",j=x=>x?x.startsWith("+")?x:`+91${x}`:"Not provided";return e?r.jsx(at,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your personal information and view your credit history"})]}),r.jsxs(Vo,{defaultValue:"personal",className:"space-y-6",children:[r.jsxs(Pi,{className:"grid w-full grid-cols-2",children:[r.jsxs(Gt,{value:"personal",className:"flex items-center space-x-2",children:[r.jsx(Ir,{className:"w-4 h-4"}),r.jsx("span",{children:"Personal Info"})]}),r.jsxs(Gt,{value:"credits",className:"flex items-center space-x-2",children:[r.jsx(D_,{className:"w-4 h-4"}),r.jsx("span",{children:"Credit History"})]})]}),r.jsxs(Kt,{value:"personal",className:"space-y-6",children:[r.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 px-6 py-8 text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ir,{className:"w-10 h-10 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name}),r.jsxs("p",{className:"text-emerald-100",children:["@",e.username]}),r.jsx("div",{className:"mt-4",children:r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white/20 text-white",children:e.role==="admin"?"Administrator":"User"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),a?r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(U,{onClick:p,size:"sm",className:"flex items-center space-x-2 bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Fa,{className:"w-4 h-4"}),r.jsx("span",{children:"Save"})]}),r.jsxs(U,{onClick:w,variant:"outline",size:"sm",className:"flex items-center space-x-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[r.jsx(vt,{className:"w-4 h-4"}),r.jsx("span",{children:"Cancel"})]})]}):r.jsxs(U,{onClick:()=>i(!0),variant:"outline",size:"sm",className:"flex items-center space-x-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[r.jsx($_,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx(Ir,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Full Name"}),a?r.jsx(le,{value:u.name,onChange:x=>m({...u,name:x.target.value}),className:"mt-1",placeholder:"Enter your full name"}):r.jsx("p",{className:"text-gray-900 font-medium",children:e.name})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"@"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Username"}),r.jsx("p",{className:"text-gray-900 font-medium",children:e.username}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username cannot be changed"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx(F_,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Email Address"}),a?r.jsx(le,{type:"email",value:u.email,onChange:x=>m({...u,email:x.target.value}),className:"mt-1",placeholder:"Enter your email address"}):r.jsx("p",{className:"text-gray-900 font-medium",children:e.email})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx(Jr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Phone Number"}),r.jsx("p",{className:"text-gray-900 font-medium",children:j(e.phoneNumber)}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contact support to change phone number"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx(P_,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Member Since"}),r.jsx("p",{className:"text-gray-900 font-medium",children:y(e.createdAt)})]})]})]})]})]}),r.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Overview"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-700",children:((v=e.creditBalance)==null?void 0:v.toLocaleString())||"0"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"SMS Credits"})]}),r.jsxs("div",{className:"text-center p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-700",children:e.role==="admin"?"Admin":"Active"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Account Status"})]})]})]})]}),r.jsx(Kt,{value:"credits",className:"space-y-6",children:r.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ea,{className:"w-6 h-6 text-emerald-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Credit History"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Track all your credit transactions"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-700",children:((g=e==null?void 0:e.creditBalance)==null?void 0:g.toLocaleString())||"0"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Current Balance"})]})]}),c?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(x=>r.jsx("div",{className:"animate-pulse",children:r.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),r.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded"})]})},x))}):o.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ea,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No credit history available"})]}):r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:o.map((x,b)=>r.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:b*.05},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-emerald-50/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${x.type.includes("ADD")?"bg-green-100":"bg-red-100"}`,children:x.type.includes("ADD")?r.jsx(FN,{className:"w-5 h-5 text-green-600"}):r.jsx(Z_,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:x.type.replace(/_/g," ").toLowerCase().replace(/\b\w/g,S=>S.toUpperCase())}),x.templateName&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-emerald-100 text-emerald-800",children:x.templateName}),x.templateCategory&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:x.templateCategory})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),r.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(x.timestamp).toLocaleDateString()," at ",new Date(x.timestamp).toLocaleTimeString()]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-semibold ${x.type.includes("ADD")?"text-green-600":"text-red-600"}`,children:[x.amount>=0?"+":"",x.amount.toFixed(2)]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Credits"})]})]},x.id))})]})})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})},Du=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:ce("w-full caption-bottom text-sm",e),...t})}));Du.displayName="Table";const Ou=h.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:ce("[&_tr]:border-b",e),...t}));Ou.displayName="TableHeader";const Lu=h.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:ce("[&_tr:last-child]:border-0",e),...t}));Lu.displayName="TableBody";const tO=h.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));tO.displayName="TableFooter";const qn=h.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));qn.displayName="TableRow";const bt=h.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));bt.displayName="TableHead";const ut=h.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ut.displayName="TableCell";const sO=h.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:ce("mt-4 text-sm text-muted-foreground",e),...t}));sO.displayName="TableCaption";const aa=({open:e,onOpenChange:t,children:s})=>(h.useEffect(()=>{const n=a=>{a.key==="Escape"&&t(!1)};return e&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}},[e,t]),e?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>t(!1)}),r.jsx("div",{className:"relative z-50",children:s})]}):null),un=h.forwardRef(({className:e,children:t,...s},n)=>r.jsx("div",{ref:n,className:ce("bg-background p-6 shadow-lg rounded-lg border max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",e),...s,children:t}));un.displayName="DialogContent";const ia=({className:e,...t})=>r.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t}),mn=h.forwardRef(({className:e,...t},s)=>r.jsx("h2",{ref:s,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));mn.displayName="DialogTitle";const hn=h.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:ce("text-sm text-muted-foreground",e),...t}));hn.displayName="DialogDescription";const oa=({className:e,...t})=>r.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),rO=Pl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:t,...s}){return r.jsx("div",{className:ce(rO({variant:t}),e),...s})}var nO="Label",CS=h.forwardRef((e,t)=>r.jsx(Ke.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));CS.displayName=nO;var kS=CS;const aO=Pl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pe=h.forwardRef(({className:e,...t},s)=>r.jsx(kS,{ref:s,className:ce(aO(),e),...t}));pe.displayName=kS.displayName;function iO(){var T;const e=xt(),[t,s]=h.useState([]),[n,a]=h.useState(null),[i,o]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState(""),[m,f]=h.useState(null),[p,w]=h.useState(!1),[y,j]=h.useState(!1),[v,g]=h.useState({name:"",email:"",username:"",password:"",phoneNumber:"",role:"user",creditBalance:1e3});h.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0),c(null);const[C,D]=await Promise.all([fetch("/api/admin/users",{credentials:"include"}),fetch("/api/admin/stats",{credentials:"include"})]);if(!C.ok||!D.ok)throw new Error("Failed to fetch data");const _=await C.json(),R=await D.json();if(_.error)throw new Error(_.error);if(R.error)throw new Error(R.error);const P=await Promise.all((_.users||[]).map(async E=>{try{const N=await fetch(`/api/admin/users/${E.id}/business-info`,{credentials:"include"});if(N.ok){const I=await N.json();return{...E,hasBusinessInfo:!!I.businessInfo}}return{...E,hasBusinessInfo:!1}}catch{return{...E,hasBusinessInfo:!1}}}));s(P),a(R.stats||null)}catch(C){console.error("Error fetching data:",C),c(C instanceof Error?C.message:"Failed to load data")}finally{o(!1)}},b=async C=>{try{const D=await fetch(`/api/admin/users/${C}`,{method:"DELETE",credentials:"include"});if(D.ok)s(t.filter(_=>_.id!==C)),w(!1),f(null);else{const _=await D.json();c(_.error||"Failed to delete user")}}catch(D){console.error("Error deleting user:",D),c("Failed to delete user")}},S=async()=>{try{const C=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(v)});if(C.ok){const D=await C.json();s([...t,{...D.user,hasBusinessInfo:!1}]),j(!1),g({name:"",email:"",username:"",password:"",phoneNumber:"",role:"user",creditBalance:1e3})}else{const D=await C.json();c(D.error||"Failed to create user")}}catch(C){console.error("Error creating user:",C),c("Failed to create user")}},k=t.filter(C=>C.name.toLowerCase().includes(d.toLowerCase())||C.email.toLowerCase().includes(d.toLowerCase())||C.username.toLowerCase().includes(d.toLowerCase()));return i?r.jsx(at,{title:"Admin Dashboard",subtitle:"Manage users and system settings.",children:r.jsxs("div",{className:"animate-pulse space-y-6",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 mb-8",children:[r.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"})]}),r.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]})}):l?r.jsx(at,{title:"Admin Dashboard",subtitle:"Manage users and system settings.",children:r.jsx(q,{className:"border-red-200 bg-red-50",children:r.jsxs(Y,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[r.jsx(ls,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Error loading dashboard"})]}),r.jsx("p",{className:"text-red-600 mt-2",children:l}),r.jsx(U,{onClick:x,className:"mt-4 bg-red-600 hover:bg-red-700",children:"Retry"})]})})}):r.jsxs(at,{title:"Admin Dashboard",subtitle:"Manage users and system settings.",children:[r.jsx("div",{className:"flex justify-end mb-8",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(U,{variant:"outline",onClick:()=>e("/admin/settings"),children:[r.jsx(Is,{className:"h-4 w-4 mr-2"}),"Settings"]}),r.jsxs(U,{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(qr,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[r.jsx(q,{className:"border-l-4 border-l-blue-500",children:r.jsx(Y,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(n==null?void 0:n.totalUsers)||t.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(vu,{className:"h-6 w-6 text-blue-600"})})]})})}),r.jsx(q,{className:"border-l-4 border-l-green-500",children:r.jsx(Y,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Regular Users"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(n==null?void 0:n.regularUsers)||t.filter(C=>C.role==="user").length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Je,{className:"h-6 w-6 text-green-600"})})]})})}),r.jsx(q,{className:"border-l-4 border-l-purple-500",children:r.jsx(Y,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Configured Users"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.filter(C=>C.hasBusinessInfo).length})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(Is,{className:"h-6 w-6 text-purple-600"})})]})})}),r.jsx(q,{className:"border-l-4 border-l-yellow-500",children:r.jsx(Y,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Credits"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:((T=n==null?void 0:n.totalCredits)==null?void 0:T.toLocaleString())||"0"})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Va,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),r.jsxs(q,{children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ie,{className:"text-xl font-semibold",children:"User Management"}),r.jsx(je,{children:"Manage user accounts and permissions"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(le,{placeholder:"Search users...",value:d,onChange:C=>u(C.target.value),className:"w-64"})})]})}),r.jsx(Y,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Du,{children:[r.jsx(Ou,{children:r.jsxs(qn,{className:"bg-gray-50",children:[r.jsx(bt,{className:"font-semibold",children:"User"}),r.jsx(bt,{className:"font-semibold",children:"Username"}),r.jsx(bt,{className:"font-semibold",children:"Role"}),r.jsx(bt,{className:"font-semibold",children:"Credits"}),r.jsx(bt,{className:"font-semibold",children:"Status"}),r.jsx(bt,{className:"font-semibold",children:"Created"}),r.jsx(bt,{className:"font-semibold",children:"Actions"})]})}),r.jsx(Lu,{children:k.map(C=>{var D;return r.jsxs(qn,{className:"hover:bg-gray-50",children:[r.jsx(ut,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-semibold",children:C.name.charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:C.name}),r.jsx("p",{className:"text-sm text-gray-500",children:C.email})]})]})}),r.jsx(ut,{children:r.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:C.username})}),r.jsx(ut,{children:r.jsx(ke,{variant:C.role==="admin"?"default":"secondary",className:C.role==="admin"?"bg-purple-100 text-purple-700 border-purple-200":"bg-green-100 text-green-700 border-green-200",children:C.role})}),r.jsx(ut,{children:r.jsx("span",{className:"font-semibold text-gray-900",children:(D=C.creditBalance)==null?void 0:D.toLocaleString()})}),r.jsx(ut,{children:r.jsx("div",{className:"flex items-center space-x-2",children:C.hasBusinessInfo?r.jsxs(ke,{className:"bg-green-100 text-green-700 border-green-200",children:[r.jsx(Je,{className:"h-3 w-3 mr-1"}),"Configured"]}):r.jsxs(ke,{variant:"outline",className:"text-amber-700 border-amber-200 bg-amber-50",children:[r.jsx(mr,{className:"h-3 w-3 mr-1"}),"Not configured"]})})}),r.jsx(ut,{children:r.jsx("span",{className:"text-sm text-gray-500",children:new Date(C.createdAt).toLocaleDateString()})}),r.jsx(ut,{children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/users/${C.id}/details`),title:"View Details",children:r.jsx(cs,{className:"h-4 w-4"})}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/users/${C.id}/settings`),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"User Settings",children:r.jsx(Is,{className:"h-4 w-4"})}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/users/${C.id}/wallet`),className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Manage Wallet",children:r.jsx(Va,{className:"h-4 w-4"})}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/users/${C.id}/templates`),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Manage Templates",children:r.jsx(St,{className:"h-4 w-4"})}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{f(C),w(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete User",children:r.jsx(an,{className:"h-4 w-4"})})]})})]},C.id)})})]})})})]}),r.jsx(aa,{open:p,onOpenChange:w,children:r.jsxs(un,{children:[r.jsxs(ia,{children:[r.jsx(mn,{children:"Delete User"}),r.jsxs(hn,{children:["Are you sure you want to delete ",m==null?void 0:m.name,"? This action cannot be undone."]})]}),r.jsxs(oa,{children:[r.jsx(U,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),r.jsx(U,{variant:"destructive",onClick:()=>m&&b(m.id),children:"Delete User"})]})]})}),r.jsx(aa,{open:y,onOpenChange:j,children:r.jsxs(un,{children:[r.jsxs(ia,{children:[r.jsx(mn,{children:"Add New User"}),r.jsx(hn,{children:"Create a new user account with the specified details."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"name",children:"Full Name"}),r.jsx(le,{id:"name",placeholder:"Full Name",value:v.name,onChange:C=>g({...v,name:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"email",children:"Email Address"}),r.jsx(le,{id:"email",placeholder:"Email Address",type:"email",value:v.email,onChange:C=>g({...v,email:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"username",children:"Username"}),r.jsx(le,{id:"username",placeholder:"Username",value:v.username,onChange:C=>g({...v,username:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"password",children:"Password"}),r.jsx(le,{id:"password",placeholder:"Password",type:"password",value:v.password,onChange:C=>g({...v,password:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"phoneNumber",children:"Phone Number (Optional)"}),r.jsx(le,{id:"phoneNumber",placeholder:"Phone Number",value:v.phoneNumber,onChange:C=>g({...v,phoneNumber:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"creditBalance",children:"Initial Credit Balance"}),r.jsx(le,{id:"creditBalance",placeholder:"1000",type:"number",value:v.creditBalance,onChange:C=>g({...v,creditBalance:parseInt(C.target.value)||0})})]})]}),r.jsxs(oa,{children:[r.jsx(U,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),r.jsx(U,{className:"bg-blue-600 hover:bg-blue-700",onClick:S,children:"Create User"})]})]})})]})}function oO(){const{id:e}=iu(),t=xt(),[s,n]=h.useState(null),[a,i]=h.useState(null),[o,l]=h.useState(!0),[c,d]=h.useState(!1),[u,m]=h.useState(""),[f,p]=h.useState(""),[w,y]=h.useState(!1),[j,v]=h.useState({name:"",email:"",username:"",phoneNumber:"",role:"user",creditBalance:0}),[g,x]=h.useState({businessName:"",whatsappNumber:"",whatsappNumberId:"",wabaId:"",accessToken:"",webhookUrl:"",webhookVerifyToken:"",isActive:!0}),[b,S]=h.useState({});h.useEffect(()=>{const _=localStorage.getItem("user");if(!_){t("/login");return}const R=JSON.parse(_);if(R.role!=="admin"){t("/user/dashboard");return}n(R),k()},[t,e]);const k=async()=>{if(e)try{l(!0);const _=await fetch(`/api/admin/users/${e}/details`,{credentials:"include"});if(_.ok){const R=await _.json();i(R.user),v({name:R.user.name||"",email:R.user.email||"",username:R.user.username||"",phoneNumber:R.user.phoneNumber||"",role:R.user.role||"user",creditBalance:R.user.creditBalance||0}),R.user.businessInfo&&x({businessName:R.user.businessInfo.businessName||"",whatsappNumber:R.user.businessInfo.whatsappNumber||"",whatsappNumberId:R.user.businessInfo.whatsappNumberId||"",wabaId:R.user.businessInfo.wabaId||"",accessToken:R.user.businessInfo.accessToken||"",webhookUrl:R.user.businessInfo.webhookUrl||"",webhookVerifyToken:R.user.businessInfo.webhookVerifyToken||"",isActive:R.user.businessInfo.isActive??!0})}else{const R=await _.json();m(R.error||"Failed to fetch user details")}}catch{m("Network error occurred")}finally{l(!1)}},T=()=>{const _={};return j.name.trim()||(_.name="Name is required"),j.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)||(_.email="Invalid email format"):_.email="Email is required",j.username.trim()||(_.username="Username is required"),j.creditBalance<0&&(_.creditBalance="Credit balance cannot be negative"),g.whatsappNumber&&!/^\+?[\d\s-()]+$/.test(g.whatsappNumber)&&(_.whatsappNumber="Invalid WhatsApp number format"),g.webhookUrl&&!/^https?:\/\/.+/.test(g.webhookUrl)&&(_.webhookUrl="Webhook URL must be a valid HTTP/HTTPS URL"),S(_),Object.keys(_).length===0},C=async()=>{if(!(!T()||!e)){d(!0),m(""),p("");try{const _=await fetch(`/api/admin/users/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)});if(!_.ok){const P=await _.json();throw new Error(P.error||"Failed to update basic information")}const R=await fetch(`/api/admin/users/${e}/business-info`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(g)});if(!R.ok){const P=await R.json();throw new Error(P.error||"Failed to update business information")}p("User details updated successfully"),k()}catch(_){m(_ instanceof Error?_.message:"Failed to update user details")}finally{d(!1)}}},D=(_,R,P=!1)=>{P?x(E=>({...E,[_]:R})):v(E=>({...E,[_]:R})),b[_]&&S(E=>({...E,[_]:""})),u&&m(""),f&&p("")};return s?o?r.jsx(at,{title:"User Details",subtitle:"Loading user information...",children:r.jsx("div",{className:"p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading user details..."})]})})}):r.jsx(at,{title:"User Details",subtitle:"Edit user information",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(U,{variant:"outline",onClick:()=>t("/admin/dashboard"),children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Details"}),r.jsx("p",{className:"text-gray-600",children:a?`Editing ${a.name}`:"Edit user information"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(U,{variant:"outline",onClick:()=>t("/admin/dashboard"),children:[r.jsx(vt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs(U,{onClick:C,disabled:c,children:[r.jsx(Fa,{className:"h-4 w-4 mr-2"}),c?"Saving...":"Save Changes"]})]})]}),u&&r.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:u}),f&&r.jsx("div",{className:"mb-6 p-4 bg-green-100 border border-green-300 text-green-700 rounded-md",children:f}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsx(ie,{children:"Basic Information"}),r.jsx(je,{children:"User account details and permissions"})]}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name *"}),r.jsx(le,{value:j.name,onChange:_=>D("name",_.target.value),className:b.name?"border-red-300":""}),b.name&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email *"}),r.jsx(le,{type:"email",value:j.email,onChange:_=>D("email",_.target.value),className:b.email?"border-red-300":""}),b.email&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Username *"}),r.jsx(le,{value:j.username,onChange:_=>D("username",_.target.value),className:b.username?"border-red-300":""}),b.username&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.username})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsx(le,{value:j.phoneNumber,onChange:_=>D("phoneNumber",_.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),r.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:j.role,onChange:_=>D("role",_.target.value),children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Credit Balance"}),r.jsx(le,{type:"number",value:j.creditBalance,onChange:_=>D("creditBalance",parseInt(_.target.value)||0),className:b.creditBalance?"border-red-300":""}),b.creditBalance&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.creditBalance})]}),a&&r.jsxs("div",{className:"pt-4 border-t text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"User ID:"})," ",a.id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Created:"})," ",new Date(a.createdAt).toLocaleDateString()]}),a.updatedAt&&r.jsxs("p",{children:[r.jsx("strong",{children:"Updated:"})," ",new Date(a.updatedAt).toLocaleDateString()]})]})]})]}),r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsx(ie,{children:"WhatsApp Business Information"}),r.jsx(je,{children:"WhatsApp Business API credentials and configuration"})]}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Name"}),r.jsx(le,{value:g.businessName||"",onChange:_=>D("businessName",_.target.value,!0),placeholder:"Your Business Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"WhatsApp Number"}),r.jsx(le,{value:g.whatsappNumber||"",onChange:_=>D("whatsappNumber",_.target.value,!0),placeholder:"+1234567890",className:b.whatsappNumber?"border-red-300":""}),b.whatsappNumber&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.whatsappNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"WhatsApp Number ID"}),r.jsx(le,{value:g.whatsappNumberId||"",onChange:_=>D("whatsappNumberId",_.target.value,!0),placeholder:"Meta WhatsApp Number ID"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"WABA ID"}),r.jsx(le,{value:g.wabaId||"",onChange:_=>D("wabaId",_.target.value,!0),placeholder:"WhatsApp Business Account ID"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Access Token"}),r.jsxs("div",{className:"relative",children:[r.jsx(le,{type:w?"text":"password",value:g.accessToken||"",onChange:_=>D("accessToken",_.target.value,!0),placeholder:"Meta API Access Token",className:"pr-10"}),r.jsx("button",{type:"button",onClick:()=>y(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:w?r.jsx(La,{className:"h-4 w-4"}):r.jsx(cs,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Webhook URL"}),r.jsx(le,{value:g.webhookUrl||"",onChange:_=>D("webhookUrl",_.target.value,!0),placeholder:"https://your-domain.com/webhook",className:b.webhookUrl?"border-red-300":""}),b.webhookUrl&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.webhookUrl})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Webhook Verify Token"}),r.jsx(le,{value:g.webhookVerifyToken||"",onChange:_=>D("webhookVerifyToken",_.target.value,!0),placeholder:"Your webhook verification token"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:g.isActive,onChange:_=>D("isActive",_.target.checked,!0),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Account Active"})]}),(a==null?void 0:a.businessInfo)&&r.jsxs("div",{className:"pt-4 border-t text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Business ID:"})," ",a.businessInfo.id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Created:"})," ",new Date(a.businessInfo.createdAt).toLocaleDateString()]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Updated:"})," ",new Date(a.businessInfo.updatedAt).toLocaleDateString()]})]})]})]})]})]})}):null}var Dl=e=>e.type==="checkbox",Pa=e=>e instanceof Date,ns=e=>e==null;const TS=e=>typeof e=="object";var kt=e=>!ns(e)&&!Array.isArray(e)&&TS(e)&&!Pa(e),lO=e=>kt(e)&&e.target?Dl(e.target)?e.target.checked:e.target.value:e,cO=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dO=(e,t)=>e.has(cO(t)),uO=e=>{const t=e.constructor&&e.constructor.prototype;return kt(t)&&t.hasOwnProperty("isPrototypeOf")},Tx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vt(e){let t;const s=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Tx&&(e instanceof Blob||n))&&(s||kt(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!uO(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Vt(e[a]));else return e;return t}var Fu=e=>/^\w*$/.test(e),_t=e=>e===void 0,Px=e=>Array.isArray(e)?e.filter(Boolean):[],Ex=e=>Px(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,t,s)=>{if(!t||!kt(e))return s;const n=(Fu(t)?[t]:Ex(t)).reduce((a,i)=>ns(a)?a:a[i],e);return _t(n)||n===e?_t(e[t])?s:e[t]:n},kr=e=>typeof e=="boolean",et=(e,t,s)=>{let n=-1;const a=Fu(t)?[t]:Ex(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=s;if(n!==o){const d=e[l];c=kt(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Jy={BLUR:"blur",FOCUS_OUT:"focusout"},dr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mO=K.createContext(null);mO.displayName="HookFormContext";var hO=(e,t,s,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==dr.all&&(t._proxyFormState[o]=!n||dr.all),e[o]}});return a};const fO=typeof window<"u"?K.useLayoutEffect:K.useEffect;var Ar=e=>typeof e=="string",pO=(e,t,s,n,a)=>Ar(e)?(n&&t.watch.add(e),me(s,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),me(s,i))):(n&&(t.watchAll=!0),s),gf=e=>ns(e)||!TS(e);function In(e,t,s=new WeakSet){if(gf(e)||gf(t))return e===t;if(Pa(e)&&Pa(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Pa(o)&&Pa(l)||kt(o)&&kt(l)||Array.isArray(o)&&Array.isArray(l)?!In(o,l,s):o!==l)return!1}}return!0}var PS=(e,t,s,n,a)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[n]:a||!0}}:{},Uo=e=>Array.isArray(e)?e:[e],ev=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},xs=e=>kt(e)&&!Object.keys(e).length,Ax=e=>e.type==="file",ur=e=>typeof e=="function",_d=e=>{if(!Tx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ES=e=>e.type==="select-multiple",_x=e=>e.type==="radio",xO=e=>_x(e)||Dl(e),Wm=e=>_d(e)&&e.isConnected;function gO(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=_t(e)?n++:e[t[n++]];return e}function yO(e){for(const t in e)if(e.hasOwnProperty(t)&&!_t(e[t]))return!1;return!0}function Pt(e,t){const s=Array.isArray(t)?t:Fu(t)?[t]:Ex(t),n=s.length===1?e:gO(e,s),a=s.length-1,i=s[a];return n&&delete n[i],a!==0&&(kt(n)&&xs(n)||Array.isArray(n)&&yO(n))&&Pt(e,s.slice(0,-1)),e}var AS=e=>{for(const t in e)if(ur(e[t]))return!0;return!1};function Rd(e,t={}){const s=Array.isArray(e);if(kt(e)||s)for(const n in e)Array.isArray(e[n])||kt(e[n])&&!AS(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Rd(e[n],t[n])):ns(e[n])||(t[n]=!0);return t}function _S(e,t,s){const n=Array.isArray(e);if(kt(e)||n)for(const a in e)Array.isArray(e[a])||kt(e[a])&&!AS(e[a])?_t(t)||gf(s[a])?s[a]=Array.isArray(e[a])?Rd(e[a],[]):{...Rd(e[a])}:_S(e[a],ns(t)?{}:t[a],s[a]):s[a]=!In(e[a],t[a]);return s}var po=(e,t)=>_S(e,t,Rd(t));const tv={value:!1,isValid:!1},sv={value:!0,isValid:!0};var RS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_t(e[0].attributes.value)?_t(e[0].value)||e[0].value===""?sv:{value:e[0].value,isValid:!0}:sv:tv}return tv},MS=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>_t(e)?e:t?e===""?NaN:e&&+e:s&&Ar(e)?new Date(e):n?n(e):e;const rv={isValid:!1,value:null};var IS=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,rv):rv;function nv(e){const t=e.ref;return Ax(t)?t.files:_x(t)?IS(e.refs).value:ES(t)?[...t.selectedOptions].map(({value:s})=>s):Dl(t)?RS(e.refs).value:MS(_t(t.value)?e.ref.value:t.value,e)}var vO=(e,t,s,n)=>{const a={};for(const i of e){const o=me(t,i);o&&et(a,i,o._f)}return{criteriaMode:s,names:[...e],fields:a,shouldUseNativeValidation:n}},Md=e=>e instanceof RegExp,xo=e=>_t(e)?e:Md(e)?e.source:kt(e)?Md(e.value)?e.value.source:e.value:e,av=e=>({isOnSubmit:!e||e===dr.onSubmit,isOnBlur:e===dr.onBlur,isOnChange:e===dr.onChange,isOnAll:e===dr.all,isOnTouch:e===dr.onTouched});const iv="AsyncFunction";var bO=e=>!!e&&!!e.validate&&!!(ur(e.validate)&&e.validate.constructor.name===iv||kt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===iv)),jO=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ov=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Bo=(e,t,s,n)=>{for(const a of s||Object.keys(e)){const i=me(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Bo(l,t))break}else if(kt(l)&&Bo(l,t))break}}};function lv(e,t,s){const n=me(e,s);if(n||Fu(s))return{error:n,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),o=me(t,i),l=me(e,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:s}}var wO=(e,t,s,n)=>{s(e);const{name:a,...i}=e;return xs(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||dr.all))},NO=(e,t,s)=>!e||!t||e===t||Uo(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),SO=(e,t,s,n,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(t||e):(s?n.isOnBlur:a.isOnBlur)?!e:(s?n.isOnChange:a.isOnChange)?e:!0,CO=(e,t)=>!Px(me(e,t)).length&&Pt(e,t),kO=(e,t,s)=>{const n=Uo(me(e,s));return et(n,"root",t[s]),et(e,s,n),e},Ic=e=>Ar(e);function cv(e,t,s="validate"){if(Ic(e)||Array.isArray(e)&&e.every(Ic)||kr(e)&&!e)return{type:s,message:Ic(e)?e:"",ref:t}}var ei=e=>kt(e)&&!Md(e)?e:{value:e,message:""},dv=async(e,t,s,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:m,max:f,pattern:p,validate:w,name:y,valueAsNumber:j,mount:v}=e._f,g=me(s,y);if(!v||t.has(y))return{};const x=l?l[0]:o,b=P=>{a&&x.reportValidity&&(x.setCustomValidity(kr(P)?"":P||""),x.reportValidity())},S={},k=_x(o),T=Dl(o),C=k||T,D=(j||Ax(o))&&_t(o.value)&&_t(g)||_d(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,_=PS.bind(null,y,n,S),R=(P,E,N,I=zr.maxLength,A=zr.minLength)=>{const z=P?E:N;S[y]={type:P?I:A,message:z,ref:o,..._(P?I:A,z)}};if(i?!Array.isArray(g)||!g.length:c&&(!C&&(D||ns(g))||kr(g)&&!g||T&&!RS(l).isValid||k&&!IS(l).isValid)){const{value:P,message:E}=Ic(c)?{value:!!c,message:c}:ei(c);if(P&&(S[y]={type:zr.required,message:E,ref:x,..._(zr.required,E)},!n))return b(E),S}if(!D&&(!ns(m)||!ns(f))){let P,E;const N=ei(f),I=ei(m);if(!ns(g)&&!isNaN(g)){const A=o.valueAsNumber||g&&+g;ns(N.value)||(P=A>N.value),ns(I.value)||(E=A<I.value)}else{const A=o.valueAsDate||new Date(g),z=B=>new Date(new Date().toDateString()+" "+B),O=o.type=="time",L=o.type=="week";Ar(N.value)&&g&&(P=O?z(g)>z(N.value):L?g>N.value:A>new Date(N.value)),Ar(I.value)&&g&&(E=O?z(g)<z(I.value):L?g<I.value:A<new Date(I.value))}if((P||E)&&(R(!!P,N.message,I.message,zr.max,zr.min),!n))return b(S[y].message),S}if((d||u)&&!D&&(Ar(g)||i&&Array.isArray(g))){const P=ei(d),E=ei(u),N=!ns(P.value)&&g.length>+P.value,I=!ns(E.value)&&g.length<+E.value;if((N||I)&&(R(N,P.message,E.message),!n))return b(S[y].message),S}if(p&&!D&&Ar(g)){const{value:P,message:E}=ei(p);if(Md(P)&&!g.match(P)&&(S[y]={type:zr.pattern,message:E,ref:o,..._(zr.pattern,E)},!n))return b(E),S}if(w){if(ur(w)){const P=await w(g,s),E=cv(P,x);if(E&&(S[y]={...E,..._(zr.validate,E.message)},!n))return b(E.message),S}else if(kt(w)){let P={};for(const E in w){if(!xs(P)&&!n)break;const N=cv(await w[E](g,s),x,E);N&&(P={...N,..._(E,N.message)},b(N.message),n&&(S[y]=P))}if(!xs(P)&&(S[y]={ref:x,...P},!n))return S}}return b(!0),S};const TO={mode:dr.onSubmit,reValidateMode:dr.onChange,shouldFocusError:!0};function PO(e={}){let t={...TO,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:ur(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=kt(t.defaultValues)||kt(t.values)?Vt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Vt(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const f={array:ev(),state:ev()},p=t.criteriaMode===dr.all,w=M=>V=>{clearTimeout(d),d=setTimeout(M,V)},y=async M=>{if(!t.disabled&&(u.isValid||m.isValid||M)){const V=t.resolver?xs((await T()).errors):await D(n,!0);V!==s.isValid&&f.state.next({isValid:V})}},j=(M,V)=>{!t.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((M||Array.from(l.mount)).forEach(W=>{W&&(V?et(s.validatingFields,W,V):Pt(s.validatingFields,W))}),f.state.next({validatingFields:s.validatingFields,isValidating:!xs(s.validatingFields)}))},v=(M,V=[],W,te,se=!0,Q=!0)=>{if(te&&W&&!t.disabled){if(o.action=!0,Q&&Array.isArray(me(n,M))){const X=W(me(n,M),te.argA,te.argB);se&&et(n,M,X)}if(Q&&Array.isArray(me(s.errors,M))){const X=W(me(s.errors,M),te.argA,te.argB);se&&et(s.errors,M,X),CO(s.errors,M)}if((u.touchedFields||m.touchedFields)&&Q&&Array.isArray(me(s.touchedFields,M))){const X=W(me(s.touchedFields,M),te.argA,te.argB);se&&et(s.touchedFields,M,X)}(u.dirtyFields||m.dirtyFields)&&(s.dirtyFields=po(a,i)),f.state.next({name:M,isDirty:R(M,V),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else et(i,M,V)},g=(M,V)=>{et(s.errors,M,V),f.state.next({errors:s.errors})},x=M=>{s.errors=M,f.state.next({errors:s.errors,isValid:!1})},b=(M,V,W,te)=>{const se=me(n,M);if(se){const Q=me(i,M,_t(W)?me(a,M):W);_t(Q)||te&&te.defaultChecked||V?et(i,M,V?Q:nv(se._f)):N(M,Q),o.mount&&y()}},S=(M,V,W,te,se)=>{let Q=!1,X=!1;const Ee={name:M};if(!t.disabled){if(!W||te){(u.isDirty||m.isDirty)&&(X=s.isDirty,s.isDirty=Ee.isDirty=R(),Q=X!==Ee.isDirty);const Be=In(me(a,M),V);X=!!me(s.dirtyFields,M),Be?Pt(s.dirtyFields,M):et(s.dirtyFields,M,!0),Ee.dirtyFields=s.dirtyFields,Q=Q||(u.dirtyFields||m.dirtyFields)&&X!==!Be}if(W){const Be=me(s.touchedFields,M);Be||(et(s.touchedFields,M,W),Ee.touchedFields=s.touchedFields,Q=Q||(u.touchedFields||m.touchedFields)&&Be!==W)}Q&&se&&f.state.next(Ee)}return Q?Ee:{}},k=(M,V,W,te)=>{const se=me(s.errors,M),Q=(u.isValid||m.isValid)&&kr(V)&&s.isValid!==V;if(t.delayError&&W?(c=w(()=>g(M,W)),c(t.delayError)):(clearTimeout(d),c=null,W?et(s.errors,M,W):Pt(s.errors,M)),(W?!In(se,W):se)||!xs(te)||Q){const X={...te,...Q&&kr(V)?{isValid:V}:{},errors:s.errors,name:M};s={...s,...X},f.state.next(X)}},T=async M=>{j(M,!0);const V=await t.resolver(i,t.context,vO(M||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return j(M),V},C=async M=>{const{errors:V}=await T(M);if(M)for(const W of M){const te=me(V,W);te?et(s.errors,W,te):Pt(s.errors,W)}else s.errors=V;return V},D=async(M,V,W={valid:!0})=>{for(const te in M){const se=M[te];if(se){const{_f:Q,...X}=se;if(Q){const Ee=l.array.has(Q.name),Be=se._f&&bO(se._f);Be&&u.validatingFields&&j([te],!0);const $=await dv(se,l.disabled,i,p,t.shouldUseNativeValidation&&!V,Ee);if(Be&&u.validatingFields&&j([te]),$[Q.name]&&(W.valid=!1,V))break;!V&&(me($,Q.name)?Ee?kO(s.errors,$,Q.name):et(s.errors,Q.name,$[Q.name]):Pt(s.errors,Q.name))}!xs(X)&&await D(X,V,W)}}return W.valid},_=()=>{for(const M of l.unMount){const V=me(n,M);V&&(V._f.refs?V._f.refs.every(W=>!Wm(W)):!Wm(V._f.ref))&&ge(M)}l.unMount=new Set},R=(M,V)=>!t.disabled&&(M&&V&&et(i,M,V),!In(B(),a)),P=(M,V,W)=>pO(M,l,{...o.mount?i:_t(V)?a:Ar(M)?{[M]:V}:V},W,V),E=M=>Px(me(o.mount?i:a,M,t.shouldUnregister?me(a,M,[]):[])),N=(M,V,W={})=>{const te=me(n,M);let se=V;if(te){const Q=te._f;Q&&(!Q.disabled&&et(i,M,MS(V,Q)),se=_d(Q.ref)&&ns(V)?"":V,ES(Q.ref)?[...Q.ref.options].forEach(X=>X.selected=se.includes(X.value)):Q.refs?Dl(Q.ref)?Q.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(se)?X.checked=!!se.find(Ee=>Ee===X.value):X.checked=se===X.value||!!se)}):Q.refs.forEach(X=>X.checked=X.value===se):Ax(Q.ref)?Q.ref.value="":(Q.ref.value=se,Q.ref.type||f.state.next({name:M,values:Vt(i)})))}(W.shouldDirty||W.shouldTouch)&&S(M,se,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&L(M)},I=(M,V,W)=>{for(const te in V){if(!V.hasOwnProperty(te))return;const se=V[te],Q=M+"."+te,X=me(n,Q);(l.array.has(M)||kt(se)||X&&!X._f)&&!Pa(se)?I(Q,se,W):N(Q,se,W)}},A=(M,V,W={})=>{const te=me(n,M),se=l.array.has(M),Q=Vt(V);et(i,M,Q),se?(f.array.next({name:M,values:Vt(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&W.shouldDirty&&f.state.next({name:M,dirtyFields:po(a,i),isDirty:R(M,Q)})):te&&!te._f&&!ns(Q)?I(M,Q,W):N(M,Q,W),ov(M,l)&&f.state.next({...s,name:M}),f.state.next({name:o.mount?M:void 0,values:Vt(i)})},z=async M=>{o.mount=!0;const V=M.target;let W=V.name,te=!0;const se=me(n,W),Q=Be=>{te=Number.isNaN(Be)||Pa(Be)&&isNaN(Be.getTime())||In(Be,me(i,W,Be))},X=av(t.mode),Ee=av(t.reValidateMode);if(se){let Be,$;const re=V.type?nv(se._f):lO(M),ye=M.type===Jy.BLUR||M.type===Jy.FOCUS_OUT,Ie=!jO(se._f)&&!t.resolver&&!me(s.errors,W)&&!se._f.deps||SO(ye,me(s.touchedFields,W),s.isSubmitted,Ee,X),Ae=ov(W,l,ye);et(i,W,re),ye?(!V||!V.readOnly)&&(se._f.onBlur&&se._f.onBlur(M),c&&c(0)):se._f.onChange&&se._f.onChange(M);const Ce=S(W,re,ye),dt=!xs(Ce)||Ae;if(!ye&&f.state.next({name:W,type:M.type,values:Vt(i)}),Ie)return(u.isValid||m.isValid)&&(t.mode==="onBlur"?ye&&y():ye||y()),dt&&f.state.next({name:W,...Ae?{}:Ce});if(!ye&&Ae&&f.state.next({...s}),t.resolver){const{errors:st}=await T([W]);if(Q(re),te){const tr=lv(s.errors,n,W),$s=lv(st,n,tr.name||W);Be=$s.error,W=$s.name,$=xs(st)}}else j([W],!0),Be=(await dv(se,l.disabled,i,p,t.shouldUseNativeValidation))[W],j([W]),Q(re),te&&(Be?$=!1:(u.isValid||m.isValid)&&($=await D(n,!0)));te&&(se._f.deps&&L(se._f.deps),k(W,$,Be,Ce))}},O=(M,V)=>{if(me(s.errors,V)&&M.focus)return M.focus(),1},L=async(M,V={})=>{let W,te;const se=Uo(M);if(t.resolver){const Q=await C(_t(M)?M:se);W=xs(Q),te=M?!se.some(X=>me(Q,X)):W}else M?(te=(await Promise.all(se.map(async Q=>{const X=me(n,Q);return await D(X&&X._f?{[Q]:X}:X)}))).every(Boolean),!(!te&&!s.isValid)&&y()):te=W=await D(n);return f.state.next({...!Ar(M)||(u.isValid||m.isValid)&&W!==s.isValid?{}:{name:M},...t.resolver||!M?{isValid:W}:{},errors:s.errors}),V.shouldFocus&&!te&&Bo(n,O,M?se:l.mount),te},B=M=>{const V={...o.mount?i:a};return _t(M)?V:Ar(M)?me(V,M):M.map(W=>me(V,W))},H=(M,V)=>({invalid:!!me((V||s).errors,M),isDirty:!!me((V||s).dirtyFields,M),error:me((V||s).errors,M),isValidating:!!me(s.validatingFields,M),isTouched:!!me((V||s).touchedFields,M)}),G=M=>{M&&Uo(M).forEach(V=>Pt(s.errors,V)),f.state.next({errors:M?s.errors:{}})},de=(M,V,W)=>{const te=(me(n,M,{_f:{}})._f||{}).ref,se=me(s.errors,M)||{},{ref:Q,message:X,type:Ee,...Be}=se;et(s.errors,M,{...Be,...V,ref:te}),f.state.next({name:M,errors:s.errors,isValid:!1}),W&&W.shouldFocus&&te&&te.focus&&te.focus()},ve=(M,V)=>ur(M)?f.state.subscribe({next:W=>"values"in W&&M(P(void 0,V),W)}):P(M,V,!0),Pe=M=>f.state.subscribe({next:V=>{NO(M.name,V.name,M.exact)&&wO(V,M.formState||u,wr,M.reRenderRoot)&&M.callback({values:{...i},...s,...V,defaultValues:a})}}).unsubscribe,Me=M=>(o.mount=!0,m={...m,...M.formState},Pe({...M,formState:m})),ge=(M,V={})=>{for(const W of M?Uo(M):l.mount)l.mount.delete(W),l.array.delete(W),V.keepValue||(Pt(n,W),Pt(i,W)),!V.keepError&&Pt(s.errors,W),!V.keepDirty&&Pt(s.dirtyFields,W),!V.keepTouched&&Pt(s.touchedFields,W),!V.keepIsValidating&&Pt(s.validatingFields,W),!t.shouldUnregister&&!V.keepDefaultValue&&Pt(a,W);f.state.next({values:Vt(i)}),f.state.next({...s,...V.keepDirty?{isDirty:R()}:{}}),!V.keepIsValid&&y()},Dt=({disabled:M,name:V})=>{(kr(M)&&o.mount||M||l.disabled.has(V))&&(M?l.disabled.add(V):l.disabled.delete(V))},De=(M,V={})=>{let W=me(n,M);const te=kr(V.disabled)||kr(t.disabled);return et(n,M,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:M}},name:M,mount:!0,...V}}),l.mount.add(M),W?Dt({disabled:kr(V.disabled)?V.disabled:t.disabled,name:M}):b(M,!0,V.value),{...te?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:xo(V.min),max:xo(V.max),minLength:xo(V.minLength),maxLength:xo(V.maxLength),pattern:xo(V.pattern)}:{},name:M,onChange:z,onBlur:z,ref:se=>{if(se){De(M,V),W=me(n,M);const Q=_t(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,X=xO(Q),Ee=W._f.refs||[];if(X?Ee.find(Be=>Be===Q):Q===W._f.ref)return;et(n,M,{_f:{...W._f,...X?{refs:[...Ee.filter(Wm),Q,...Array.isArray(me(a,M))?[{}]:[]],ref:{type:Q.type,name:M}}:{ref:Q}}}),b(M,!1,void 0,Q)}else W=me(n,M,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(dO(l.array,M)&&o.action)&&l.unMount.add(M)}}},Fe=()=>t.shouldFocusError&&Bo(n,O,l.mount),tt=M=>{kr(M)&&(f.state.next({disabled:M}),Bo(n,(V,W)=>{const te=me(n,W);te&&(V.disabled=te._f.disabled||M,Array.isArray(te._f.refs)&&te._f.refs.forEach(se=>{se.disabled=te._f.disabled||M}))},0,!1))},gt=(M,V)=>async W=>{let te;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let se=Vt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Q,values:X}=await T();s.errors=Q,se=Vt(X)}else await D(n);if(l.disabled.size)for(const Q of l.disabled)Pt(se,Q);if(Pt(s.errors,"root"),xs(s.errors)){f.state.next({errors:{}});try{await M(se,W)}catch(Q){te=Q}}else V&&await V({...s.errors},W),Fe(),setTimeout(Fe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xs(s.errors)&&!te,submitCount:s.submitCount+1,errors:s.errors}),te)throw te},Tt=(M,V={})=>{me(n,M)&&(_t(V.defaultValue)?A(M,Vt(me(a,M))):(A(M,V.defaultValue),et(a,M,Vt(V.defaultValue))),V.keepTouched||Pt(s.touchedFields,M),V.keepDirty||(Pt(s.dirtyFields,M),s.isDirty=V.defaultValue?R(M,Vt(me(a,M))):R()),V.keepError||(Pt(s.errors,M),u.isValid&&y()),f.state.next({...s}))},fs=(M,V={})=>{const W=M?Vt(M):a,te=Vt(W),se=xs(M),Q=se?a:te;if(V.keepDefaultValues||(a=W),!V.keepValues){if(V.keepDirtyValues){const X=new Set([...l.mount,...Object.keys(po(a,i))]);for(const Ee of Array.from(X))me(s.dirtyFields,Ee)?et(Q,Ee,me(i,Ee)):A(Ee,me(Q,Ee))}else{if(Tx&&_t(M))for(const X of l.mount){const Ee=me(n,X);if(Ee&&Ee._f){const Be=Array.isArray(Ee._f.refs)?Ee._f.refs[0]:Ee._f.ref;if(_d(Be)){const $=Be.closest("form");if($){$.reset();break}}}}if(V.keepFieldsRef)for(const X of l.mount)A(X,me(Q,X));else n={}}i=t.shouldUnregister?V.keepDefaultValues?Vt(a):{}:Vt(Q),f.array.next({values:{...Q}}),f.state.next({values:{...Q}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:V.keepSubmitCount?s.submitCount:0,isDirty:se?!1:V.keepDirty?s.isDirty:!!(V.keepDefaultValues&&!In(M,a)),isSubmitted:V.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:se?{}:V.keepDirtyValues?V.keepDefaultValues&&i?po(a,i):s.dirtyFields:V.keepDefaultValues&&M?po(a,M):V.keepDirty?s.dirtyFields:{},touchedFields:V.keepTouched?s.touchedFields:{},errors:V.keepErrors?s.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},jr=(M,V)=>fs(ur(M)?M(i):M,V),zs=(M,V={})=>{const W=me(n,M),te=W&&W._f;if(te){const se=te.refs?te.refs[0]:te.ref;se.focus&&(se.focus(),V.shouldSelect&&ur(se.select)&&se.select())}},wr=M=>{s={...s,...M}},Ts={control:{register:De,unregister:ge,getFieldState:H,handleSubmit:gt,setError:de,_subscribe:Pe,_runSchema:T,_focusError:Fe,_getWatch:P,_getDirty:R,_setValid:y,_setFieldArray:v,_setDisabledField:Dt,_setErrors:x,_getFieldArray:E,_reset:fs,_resetDefaultValues:()=>ur(t.defaultValues)&&t.defaultValues().then(M=>{jr(M,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:tt,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return a},get _names(){return l},set _names(M){l=M},get _formState(){return s},get _options(){return t},set _options(M){t={...t,...M}}},subscribe:Me,trigger:L,register:De,handleSubmit:gt,watch:ve,setValue:A,getValues:B,reset:jr,resetField:Tt,clearErrors:G,unregister:ge,setError:de,setFocus:zs,getFieldState:H};return{...Ts,formControl:Ts}}function EO(e={}){const t=K.useRef(void 0),s=K.useRef(void 0),[n,a]=K.useState({isDirty:!1,isValidating:!1,isLoading:ur(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ur(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ur(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=PO(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,fO(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),K.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),K.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),K.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),K.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),K.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),K.useEffect(()=>{e.values&&!In(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),K.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=hO(n,i),t.current}const uv=(e,t,s)=>{if(e&&"reportValidity"in e){const n=me(s,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},DS=(e,t)=>{for(const s in t.fields){const n=t.fields[s];n&&n.ref&&"reportValidity"in n.ref?uv(n.ref,s,e):n.refs&&n.refs.forEach(a=>uv(a,s,e))}},AO=(e,t)=>{t.shouldUseNativeValidation&&DS(e,t);const s={};for(const n in e){const a=me(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(_O(t.names||Object.keys(e),n)){const o=Object.assign({},me(s,n));et(o,"root",i),et(s,n,o)}else et(s,n,i)}return s},_O=(e,t)=>e.some(s=>s.startsWith(t+"."));var RO=function(e,t){for(var s={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!s[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return e.push(m)})}),t){var c=s[o].types,d=c&&c[n.code];s[o]=PS(o,t,s,a,d?[].concat(d,n.message):n.message)}e.shift()}return s},MO=function(e,t,s){return s===void 0&&(s={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&DS({},i),{errors:{},values:s.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:AO(RO(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},We;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function s(a){throw new Error}e.assertNever=s,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(We||(We={}));var mv;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(mv||(mv={}));const he=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_n=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return Number.isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},ee=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(s(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof fn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];s[i]=s[i]||[],s[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}fn.create=e=>new fn(e);const yf=(e,t)=>{let s;switch(e.code){case ee.invalid_type:e.received===he.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case ee.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,We.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:s=`Unrecognized key(s) in object: ${We.joinValues(e.keys,", ")}`;break;case ee.invalid_union:s="Invalid input";break;case ee.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${We.joinValues(e.options)}`;break;case ee.invalid_enum_value:s=`Invalid enum value. Expected ${We.joinValues(e.options)}, received '${e.received}'`;break;case ee.invalid_arguments:s="Invalid function arguments";break;case ee.invalid_return_type:s="Invalid function return type";break;case ee.invalid_date:s="Invalid date";break;case ee.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:We.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case ee.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case ee.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case ee.custom:s="Invalid input";break;case ee.invalid_intersection_types:s="Intersection results could not be merged";break;case ee.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case ee.not_finite:s="Number must be finite";break;default:s=t.defaultError,We.assertNever(e)}return{message:s}};let IO=yf;function DO(){return IO}const OO=e=>{const{data:t,path:s,errorMaps:n,issueData:a}=e,i=[...s,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function oe(e,t){const s=DO(),n=OO({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===yf?void 0:yf].filter(a=>!!a)});e.common.issues.push(n)}class ds{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const n=[];for(const a of s){if(a.status==="aborted")return Se;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,s){const n=[];for(const a of s){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ds.mergeObjectSync(t,n)}static mergeObjectSync(t,s){const n={};for(const a of s){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Se;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Se=Object.freeze({status:"aborted"}),So=e=>({status:"dirty",value:e}),er=e=>({status:"valid",value:e}),hv=e=>e.status==="aborted",fv=e=>e.status==="dirty",zi=e=>e.status==="valid",Id=e=>typeof Promise<"u"&&e instanceof Promise;var fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(fe||(fe={}));class Fr{constructor(t,s,n,a){this._cachedPath=[],this.parent=t,this.data=s,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pv=(e,t)=>{if(zi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new fn(e.common.issues);return this._error=s,this._error}}};function Re(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:n,description:a}=e;if(t&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:a}}class Ve{get description(){return this._def.description}_getType(t){return _n(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:_n(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ds,ctx:{common:t.parent.common,data:t.data,parsedType:_n(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Id(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const n=this.safeParse(t,s);if(n.success)return n.data;throw n.error}safeParse(t,s){const n={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_n(t)},a=this._parseSync({data:t,path:n.path,parent:n});return pv(n,a)}"~validate"(t){var n,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_n(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return zi(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>zi(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,s){const n=await this.safeParseAsync(t,s);if(n.success)return n.data;throw n.error}async safeParseAsync(t,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_n(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Id(a)?a:Promise.resolve(a));return pv(n,i)}refine(t,s){const n=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ee.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof s=="function"?s(n,a):s),!1))}_refinement(t){return new Wi({schema:this,typeName:Ne.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Yn.create(this,this._def)}nullable(){return Hi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Or.create(this)}promise(){return Vd.create(this,this._def)}or(t){return Od.create([this,t],this._def)}and(t){return Ld.create(this,t,this._def)}transform(t){return new Wi({...Re(this._def),schema:this,typeName:Ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new jf({...Re(this._def),innerType:this,defaultValue:s,typeName:Ne.ZodDefault})}brand(){return new aL({typeName:Ne.ZodBranded,type:this,...Re(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new wf({...Re(this._def),innerType:this,catchValue:s,typeName:Ne.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return Rx.create(this,t)}readonly(){return Nf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const LO=/^c[^\s-]{8,}$/i,FO=/^[0-9a-z]+$/,VO=/^[0-9A-HJKMNP-TV-Z]{26}$/i,UO=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BO=/^[a-z0-9_-]{21}$/i,zO=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$O=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,WO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,HO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Hm;const GO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,YO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ZO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QO=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,OS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XO=new RegExp(`^${OS}$`);function LS(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function JO(e){return new RegExp(`^${LS(e)}$`)}function eL(e){let t=`${OS}T${LS(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function tL(e,t){return!!((t==="v4"||!t)&&GO.test(e)||(t==="v6"||!t)&&qO.test(e))}function sL(e,t){if(!zO.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const n=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function rL(e,t){return!!((t==="v4"||!t)&&KO.test(e)||(t==="v6"||!t)&&YO.test(e))}class Yr extends Ve{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==he.string){const i=this._getOrReturnCtx(t);return oe(i,{code:ee.invalid_type,expected:he.string,received:i.parsedType}),Se}const n=new ds;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?oe(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&oe(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")WO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"email",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Hm||(Hm=new RegExp(HO,"u")),Hm.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"emoji",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")UO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"uuid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")BO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"nanoid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")LO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"cuid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")FO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"cuid2",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")VO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"ulid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),oe(a,{validation:"url",code:ee.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"regex",code:ee.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?eL(i).test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?XO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?JO(i).test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?$O.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"duration",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?tL(t.data,i.version)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"ip",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?sL(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"jwt",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?rL(t.data,i.version)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"cidr",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ZO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"base64",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?QO.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"base64url",code:ee.invalid_string,message:i.message}),n.dirty()):We.assertNever(i);return{status:n.value,value:t.data}}_regex(t,s,n){return this.refinement(a=>t.test(a),{validation:s,code:ee.invalid_string,...fe.errToObj(n)})}_addCheck(t){return new Yr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...fe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...fe.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...fe.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...fe.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...fe.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...fe.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...fe.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...fe.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...fe.errToObj(s)})}nonempty(t){return this.min(1,fe.errToObj(t))}trim(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Yr.create=e=>new Yr({checks:[],typeName:Ne.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Re(e)});function nL(e,t){const s=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=s>n?s:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class pl extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==he.number){const i=this._getOrReturnCtx(t);return oe(i,{code:ee.invalid_type,expected:he.number,received:i.parsedType}),Se}let n;const a=new ds;for(const i of this._def.checks)i.kind==="int"?We.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),oe(n,{code:ee.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?nL(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),oe(n,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),oe(n,{code:ee.not_finite,message:i.message}),a.dirty()):We.assertNever(i);return{status:a.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,fe.toString(s))}gt(t,s){return this.setLimit("min",t,!1,fe.toString(s))}lte(t,s){return this.setLimit("max",t,!0,fe.toString(s))}lt(t,s){return this.setLimit("max",t,!1,fe.toString(s))}setLimit(t,s,n,a){return new pl({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:n,message:fe.toString(a)}]})}_addCheck(t){return new pl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&We.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(s)&&Number.isFinite(t)}}pl.create=e=>new pl({checks:[],typeName:Ne.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Re(e)});class xl extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==he.bigint)return this._getInvalidInput(t);let n;const a=new ds;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):We.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return oe(s,{code:ee.invalid_type,expected:he.bigint,received:s.parsedType}),Se}gte(t,s){return this.setLimit("min",t,!0,fe.toString(s))}gt(t,s){return this.setLimit("min",t,!1,fe.toString(s))}lte(t,s){return this.setLimit("max",t,!0,fe.toString(s))}lt(t,s){return this.setLimit("max",t,!1,fe.toString(s))}setLimit(t,s,n,a){return new xl({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:n,message:fe.toString(a)}]})}_addCheck(t){return new xl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}xl.create=e=>new xl({checks:[],typeName:Ne.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Re(e)});class xv extends Ve{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==he.boolean){const n=this._getOrReturnCtx(t);return oe(n,{code:ee.invalid_type,expected:he.boolean,received:n.parsedType}),Se}return er(t.data)}}xv.create=e=>new xv({typeName:Ne.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Re(e)});class Dd extends Ve{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==he.date){const i=this._getOrReturnCtx(t);return oe(i,{code:ee.invalid_type,expected:he.date,received:i.parsedType}),Se}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return oe(i,{code:ee.invalid_date}),Se}const n=new ds;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),oe(a,{code:ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):We.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Dd({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:fe.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:fe.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Dd.create=e=>new Dd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ne.ZodDate,...Re(e)});class gv extends Ve{_parse(t){if(this._getType(t)!==he.symbol){const n=this._getOrReturnCtx(t);return oe(n,{code:ee.invalid_type,expected:he.symbol,received:n.parsedType}),Se}return er(t.data)}}gv.create=e=>new gv({typeName:Ne.ZodSymbol,...Re(e)});class yv extends Ve{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return oe(n,{code:ee.invalid_type,expected:he.undefined,received:n.parsedType}),Se}return er(t.data)}}yv.create=e=>new yv({typeName:Ne.ZodUndefined,...Re(e)});class vv extends Ve{_parse(t){if(this._getType(t)!==he.null){const n=this._getOrReturnCtx(t);return oe(n,{code:ee.invalid_type,expected:he.null,received:n.parsedType}),Se}return er(t.data)}}vv.create=e=>new vv({typeName:Ne.ZodNull,...Re(e)});class bv extends Ve{constructor(){super(...arguments),this._any=!0}_parse(t){return er(t.data)}}bv.create=e=>new bv({typeName:Ne.ZodAny,...Re(e)});class vf extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(t){return er(t.data)}}vf.create=e=>new vf({typeName:Ne.ZodUnknown,...Re(e)});class la extends Ve{_parse(t){const s=this._getOrReturnCtx(t);return oe(s,{code:ee.invalid_type,expected:he.never,received:s.parsedType}),Se}}la.create=e=>new la({typeName:Ne.ZodNever,...Re(e)});class jv extends Ve{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return oe(n,{code:ee.invalid_type,expected:he.void,received:n.parsedType}),Se}return er(t.data)}}jv.create=e=>new jv({typeName:Ne.ZodVoid,...Re(e)});class Or extends Ve{_parse(t){const{ctx:s,status:n}=this._processInputParams(t),a=this._def;if(s.parsedType!==he.array)return oe(s,{code:ee.invalid_type,expected:he.array,received:s.parsedType}),Se;if(a.exactLength!==null){const o=s.data.length>a.exactLength.value,l=s.data.length<a.exactLength.value;(o||l)&&(oe(s,{code:o?ee.too_big:ee.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(oe(s,{code:ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(oe(s,{code:ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>a.type._parseAsync(new Fr(s,o,s.path,l)))).then(o=>ds.mergeArray(n,o));const i=[...s.data].map((o,l)=>a.type._parseSync(new Fr(s,o,s.path,l)));return ds.mergeArray(n,i)}get element(){return this._def.type}min(t,s){return new Or({...this._def,minLength:{value:t,message:fe.toString(s)}})}max(t,s){return new Or({...this._def,maxLength:{value:t,message:fe.toString(s)}})}length(t,s){return new Or({...this._def,exactLength:{value:t,message:fe.toString(s)}})}nonempty(t){return this.min(1,t)}}Or.create=(e,t)=>new Or({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ne.ZodArray,...Re(t)});function ti(e){if(e instanceof At){const t={};for(const s in e.shape){const n=e.shape[s];t[s]=Yn.create(ti(n))}return new At({...e._def,shape:()=>t})}else return e instanceof Or?new Or({...e._def,type:ti(e.element)}):e instanceof Yn?Yn.create(ti(e.unwrap())):e instanceof Hi?Hi.create(ti(e.unwrap())):e instanceof Ba?Ba.create(e.items.map(t=>ti(t))):e}class At extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=We.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==he.object){const d=this._getOrReturnCtx(t);return oe(d,{code:ee.invalid_type,expected:he.object,received:d.parsedType}),Se}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof la&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Fr(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof la){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(oe(a,{code:ee.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const m=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Fr(a,m,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,f=await u.value;d.push({key:m,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>ds.mergeObjectSync(n,d)):ds.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return fe.errToObj,new At({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,n).message)??n.defaultError;return s.code==="unrecognized_keys"?{message:fe.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(t){return new At({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new At({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ne.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new At({...this._def,catchall:t})}pick(t){const s={};for(const n of We.objectKeys(t))t[n]&&this.shape[n]&&(s[n]=this.shape[n]);return new At({...this._def,shape:()=>s})}omit(t){const s={};for(const n of We.objectKeys(this.shape))t[n]||(s[n]=this.shape[n]);return new At({...this._def,shape:()=>s})}deepPartial(){return ti(this)}partial(t){const s={};for(const n of We.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?s[n]=a:s[n]=a.optional()}return new At({...this._def,shape:()=>s})}required(t){const s={};for(const n of We.objectKeys(this.shape))if(t&&!t[n])s[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Yn;)i=i._def.innerType;s[n]=i}return new At({...this._def,shape:()=>s})}keyof(){return FS(We.objectKeys(this.shape))}}At.create=(e,t)=>new At({shape:()=>e,unknownKeys:"strip",catchall:la.create(),typeName:Ne.ZodObject,...Re(t)});At.strictCreate=(e,t)=>new At({shape:()=>e,unknownKeys:"strict",catchall:la.create(),typeName:Ne.ZodObject,...Re(t)});At.lazycreate=(e,t)=>new At({shape:e,unknownKeys:"strip",catchall:la.create(),typeName:Ne.ZodObject,...Re(t)});class Od extends Ve{_parse(t){const{ctx:s}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new fn(l.ctx.common.issues));return oe(s,{code:ee.invalid_union,unionErrors:o}),Se}if(s.common.async)return Promise.all(n.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new fn(c));return oe(s,{code:ee.invalid_union,unionErrors:l}),Se}}get options(){return this._def.options}}Od.create=(e,t)=>new Od({options:e,typeName:Ne.ZodUnion,...Re(t)});function bf(e,t){const s=_n(e),n=_n(t);if(e===t)return{valid:!0,data:e};if(s===he.object&&n===he.object){const a=We.objectKeys(t),i=We.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=bf(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===he.array&&n===he.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=bf(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return s===he.date&&n===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ld extends Ve{_parse(t){const{status:s,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(hv(i)||hv(o))return Se;const l=bf(i.value,o.value);return l.valid?((fv(i)||fv(o))&&s.dirty(),{status:s.value,value:l.data}):(oe(n,{code:ee.invalid_intersection_types}),Se)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ld.create=(e,t,s)=>new Ld({left:e,right:t,typeName:Ne.ZodIntersection,...Re(s)});class Ba extends Ve{_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.array)return oe(n,{code:ee.invalid_type,expected:he.array,received:n.parsedType}),Se;if(n.data.length<this._def.items.length)return oe(n,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&n.data.length>this._def.items.length&&(oe(n,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Fr(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ds.mergeArray(s,o)):ds.mergeArray(s,i)}get items(){return this._def.items}rest(t){return new Ba({...this._def,rest:t})}}Ba.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ba({items:e,typeName:Ne.ZodTuple,rest:null,...Re(t)})};class Fd extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.object)return oe(n,{code:ee.invalid_type,expected:he.object,received:n.parsedType}),Se;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new Fr(n,l,n.path,l)),value:o._parse(new Fr(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ds.mergeObjectAsync(s,a):ds.mergeObjectSync(s,a)}get element(){return this._def.valueType}static create(t,s,n){return s instanceof Ve?new Fd({keyType:t,valueType:s,typeName:Ne.ZodRecord,...Re(n)}):new Fd({keyType:Yr.create(),valueType:t,typeName:Ne.ZodRecord,...Re(s)})}}class wv extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.map)return oe(n,{code:ee.invalid_type,expected:he.map,received:n.parsedType}),Se;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new Fr(n,l,n.path,[d,"key"])),value:i._parse(new Fr(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Se;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Se;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}wv.create=(e,t,s)=>new wv({valueType:t,keyType:e,typeName:Ne.ZodMap,...Re(s)});class gl extends Ve{_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.set)return oe(n,{code:ee.invalid_type,expected:he.set,received:n.parsedType}),Se;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(oe(n,{code:ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(oe(n,{code:ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Se;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new Fr(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,s){return new gl({...this._def,minSize:{value:t,message:fe.toString(s)}})}max(t,s){return new gl({...this._def,maxSize:{value:t,message:fe.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}gl.create=(e,t)=>new gl({valueType:e,minSize:null,maxSize:null,typeName:Ne.ZodSet,...Re(t)});class Nv extends Ve{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Nv.create=(e,t)=>new Nv({getter:e,typeName:Ne.ZodLazy,...Re(t)});class Sv extends Ve{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return oe(s,{received:s.data,code:ee.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:t.data}}get value(){return this._def.value}}Sv.create=(e,t)=>new Sv({value:e,typeName:Ne.ZodLiteral,...Re(t)});function FS(e,t){return new $i({values:e,typeName:Ne.ZodEnum,...Re(t)})}class $i extends Ve{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),n=this._def.values;return oe(s,{expected:We.joinValues(n),received:s.parsedType,code:ee.invalid_type}),Se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),n=this._def.values;return oe(s,{received:s.data,code:ee.invalid_enum_value,options:n}),Se}return er(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return $i.create(t,{...this._def,...s})}exclude(t,s=this._def){return $i.create(this.options.filter(n=>!t.includes(n)),{...this._def,...s})}}$i.create=FS;class Cv extends Ve{_parse(t){const s=We.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==he.string&&n.parsedType!==he.number){const a=We.objectValues(s);return oe(n,{expected:We.joinValues(a),received:n.parsedType,code:ee.invalid_type}),Se}if(this._cache||(this._cache=new Set(We.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=We.objectValues(s);return oe(n,{received:n.data,code:ee.invalid_enum_value,options:a}),Se}return er(t.data)}get enum(){return this._def.values}}Cv.create=(e,t)=>new Cv({values:e,typeName:Ne.ZodNativeEnum,...Re(t)});class Vd extends Ve{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==he.promise&&s.common.async===!1)return oe(s,{code:ee.invalid_type,expected:he.promise,received:s.parsedType}),Se;const n=s.parsedType===he.promise?s.data:Promise.resolve(s.data);return er(n.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Vd.create=(e,t)=>new Vd({type:e,typeName:Ne.ZodPromise,...Re(t)});class Wi extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{oe(n,o),o.fatal?s.abort():s.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Se;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Se:c.status==="dirty"||s.value==="dirty"?So(c.value):c});{if(s.value==="aborted")return Se;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Se:l.status==="dirty"||s.value==="dirty"?So(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Se:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Se:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!zi(o))return Se;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>zi(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:s.value,value:l})):Se);We.assertNever(a)}}Wi.create=(e,t,s)=>new Wi({schema:e,typeName:Ne.ZodEffects,effect:t,...Re(s)});Wi.createWithPreprocess=(e,t,s)=>new Wi({schema:t,effect:{type:"preprocess",transform:e},typeName:Ne.ZodEffects,...Re(s)});class Yn extends Ve{_parse(t){return this._getType(t)===he.undefined?er(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yn.create=(e,t)=>new Yn({innerType:e,typeName:Ne.ZodOptional,...Re(t)});class Hi extends Ve{_parse(t){return this._getType(t)===he.null?er(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Hi.create=(e,t)=>new Hi({innerType:e,typeName:Ne.ZodNullable,...Re(t)});class jf extends Ve{_parse(t){const{ctx:s}=this._processInputParams(t);let n=s.data;return s.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}jf.create=(e,t)=>new jf({innerType:e,typeName:Ne.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Re(t)});class wf extends Ve{_parse(t){const{ctx:s}=this._processInputParams(t),n={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Id(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fn(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new fn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}wf.create=(e,t)=>new wf({innerType:e,typeName:Ne.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Re(t)});class kv extends Ve{_parse(t){if(this._getType(t)!==he.nan){const n=this._getOrReturnCtx(t);return oe(n,{code:ee.invalid_type,expected:he.nan,received:n.parsedType}),Se}return{status:"valid",value:t.data}}}kv.create=e=>new kv({typeName:Ne.ZodNaN,...Re(e)});class aL extends Ve{_parse(t){const{ctx:s}=this._processInputParams(t),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class Rx extends Ve{_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Se:i.status==="dirty"?(s.dirty(),So(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Se:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,s){return new Rx({in:t,out:s,typeName:Ne.ZodPipeline})}}class Nf extends Ve{_parse(t){const s=this._def.innerType._parse(t),n=a=>(zi(a)&&(a.value=Object.freeze(a.value)),a);return Id(s)?s.then(a=>n(a)):n(s)}unwrap(){return this._def.innerType}}Nf.create=(e,t)=>new Nf({innerType:e,typeName:Ne.ZodReadonly,...Re(t)});var Ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ne||(Ne={}));const Ud=Yr.create,iL=vf.create;la.create;Or.create;const VS=At.create;Od.create;Ld.create;Ba.create;const oL=Fd.create;$i.create;Vd.create;Yn.create;Hi.create;VS({channelId:Ud().min(2,"Channel ID must be at least 2 characters").max(128,"Channel ID must be less than 128 characters").regex(/^[A-Za-z0-9._-]+$/,"Channel ID can only contain letters, numbers, dots, underscores, and hyphens").transform(e=>e.trim()),apiKey:Ud().optional().refine(e=>e?e.length>=10&&e.length<=4096:!0,"API Key must be between 10 and 4096 characters").refine(e=>e?e===e.trim():!0,"API Key cannot have leading or trailing spaces"),providerMeta:oL(iL()).nullable().optional()});const lL=VS({channelId:Ud().min(1,"Channel ID is required").min(2,"Channel ID must be at least 2 characters").max(128,"Channel ID must be less than 128 characters").regex(/^[A-Za-z0-9._-]+$/,"Channel ID can only contain letters, numbers, dots, underscores, and hyphens").transform(e=>e.trim()),apiKey:Ud().optional().refine(e=>!e||e.length===0?!0:e.length>=10&&e.length<=4096,"API Key must be between 10 and 4096 characters when provided").refine(e=>e?e===e.trim():!0,"API Key cannot have leading or trailing spaces")});function cL(e,t={}){const{holdDurationMs:s=800,onRevealStart:n,onRevealEnd:a}=t,[i,o]=h.useState(!1),[l,c]=h.useState(!1),d=h.useRef(null),u=!!(e&&e.trim().length>0),m=h.useCallback(()=>{u&&(c(!0),n==null||n(),d.current=setTimeout(()=>{o(!0),c(!1)},s))},[u,s,n]),f=h.useCallback(()=>{d.current&&(clearTimeout(d.current),d.current=null),c(!1),o(!1),a==null||a()},[a]);h.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const p=h.useCallback(()=>{m()},[m]),w=h.useCallback(()=>{f()},[f]),y=h.useCallback(()=>{f()},[f]),j=h.useCallback(()=>{m()},[m]),v=h.useCallback(()=>{f()},[f]),g=h.useCallback(()=>{f()},[f]),x=h.useCallback(T=>{(T.key===" "||T.key==="Enter")&&(T.preventDefault(),l||m())},[l,m]),b=h.useCallback(T=>{(T.key===" "||T.key==="Enter")&&(T.preventDefault(),f())},[f]);return[{isRevealed:i,isHolding:l,canReveal:u},{onMouseDown:p,onMouseUp:w,onMouseLeave:y,onTouchStart:j,onTouchEnd:v,onTouchCancel:g,onKeyDown:x,onKeyUp:b}]}const dL=({initialData:e,onSave:t,onCancel:s,loading:n=!1})=>{const{toast:a}=wu(),[i,o]=h.useState(!1),[l,c]=h.useState(e.updatedAt),[d,u]=h.useState(e.apiKeySet),[m,f]=h.useState(!1),{register:p,handleSubmit:w,formState:{errors:y,isDirty:j,isValid:v},reset:g,watch:x,setValue:b,getValues:S}=EO({resolver:MO(lL),defaultValues:{channelId:e.channelId||"",apiKey:""},mode:"onChange"}),k=x("apiKey"),[T,C]=cL(k,{holdDurationMs:800});h.useEffect(()=>{g({channelId:e.channelId||"",apiKey:""}),c(e.updatedAt),u(e.apiKeySet)},[e,g]);const D=async I=>{try{o(!0);const A={channelId:I.channelId};I.apiKey&&I.apiKey.trim().length>0&&(A.apiKey=I.apiKey.trim());const z=await t(A);z.success&&(c(z.updatedAt),u(z.apiKeySet),b("apiKey",""),a({title:"Settings saved successfully",description:"Your 360dialog WhatsApp settings have been updated.",variant:"default"}),g({channelId:I.channelId,apiKey:""}))}catch(A){console.error("Failed to save WhatsApp settings:",A);let z="Failed to save settings. Please try again.",O="Save Failed";A!=null&&A.message&&(z=A.message),A!=null&&A.field&&(O=`Invalid ${A.field}`),a({title:O,description:z,variant:"destructive"})}finally{o(!1)}},_=()=>{g({channelId:e.channelId||"",apiKey:""}),s==null||s()},R=async()=>{try{await navigator.clipboard.writeText(e.webhookUrl),f(!0),a({title:"Copied to clipboard",description:"Webhook URL copied successfully.",variant:"default"}),setTimeout(()=>f(!1),2e3)}catch{a({title:"Copy failed",description:"Could not copy to clipboard.",variant:"destructive"})}},P=i||n,E=j&&v&&!P,N=j&&!P;return r.jsx(q,{className:"max-w-2xl mx-auto p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"WhatsApp Business Settings"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure your 360dialog integration for WhatsApp messaging"}),l&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",new Date(l).toLocaleString()]})]}),r.jsxs("form",{onSubmit:w(D),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium text-gray-700",children:"Business Name"}),r.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:e.businessName})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium text-gray-700",children:"WhatsApp Number"}),r.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:e.whatsappNumber})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"360dialog Configuration"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"channelId",className:"text-sm font-medium text-gray-700",children:"Channel ID *"}),r.jsx(le,{...p("channelId"),id:"channelId",type:"text",autoComplete:"off",placeholder:"your-channel-id",className:`mt-1 ${y.channelId?"border-red-500 focus:border-red-500":""}`,"aria-invalid":y.channelId?"true":"false",disabled:P}),r.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Your 360dialog Channel ID (per-number identifier)."}),y.channelId&&r.jsxs("div",{className:"flex items-center gap-1 mt-1 text-red-600",children:[r.jsx(ls,{className:"h-3 w-3"}),r.jsx("span",{className:"text-xs",children:y.channelId.message})]})]}),r.jsxs("div",{children:[r.jsxs(pe,{htmlFor:"apiKey",className:"text-sm font-medium text-gray-700",children:["API Key",d&&r.jsx(ke,{variant:"secondary",className:"ml-2 text-xs",children:"API key set"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(le,{...p("apiKey"),id:"apiKey",type:T.isRevealed?"text":"password",autoComplete:"new-password",placeholder:d?"Enter new API key to replace":"Enter your 360dialog API key",className:`mt-1 pr-10 ${y.apiKey?"border-red-500 focus:border-red-500":""}`,"aria-invalid":y.apiKey?"true":"false",disabled:P}),k&&k.length>0&&r.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",...C,"aria-label":"Press and hold to reveal API key",children:T.isRevealed?r.jsx(La,{className:"h-4 w-4"}):r.jsx(cs,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Generated in 360dialog dashboard. Write-only; not displayed after saving."}),T.isHolding&&r.jsx("p",{className:"mt-1 text-xs text-blue-600",children:"Hold to reveal current input..."}),y.apiKey&&r.jsxs("div",{className:"flex items-center gap-1 mt-1 text-red-600",children:[r.jsx(ls,{className:"h-3 w-3"}),r.jsx("span",{className:"text-xs",children:y.apiKey.message})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium text-gray-700",children:"Webhook URL"}),r.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900 font-mono overflow-hidden",children:e.webhookUrl}),r.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:R,disabled:P,className:"shrink-0",children:m?r.jsx(gu,{className:"h-4 w-4"}):r.jsx(An,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Use this URL when configuring your 360dialog webhook."})]})]}),r.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[r.jsx(U,{type:"button",variant:"outline",onClick:_,disabled:!N,children:s?"Cancel":"Reset"}),r.jsx(U,{type:"submit",disabled:!E,className:"min-w-[120px]",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Settings"})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mt-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ls,{className:"h-5 w-5 text-blue-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"360dialog Integration"}),r.jsx("div",{className:"mt-1 text-sm text-blue-700",children:r.jsx("p",{children:"Prime SMS now uses 360dialog as the WhatsApp Business API provider. Your Channel ID and API Key can be found in your 360dialog dashboard."})})]})]})})]})})};function uL({userId:e}){const[t,s]=h.useState(null),[n,a]=h.useState(!0),[i,o]=h.useState(null),l=async()=>{if(!e){o("User ID is required"),a(!1);return}try{a(!0),o(null);const d=await fetch(`/api/admin/whatsapp/settings/${e}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!d.ok){const f=await d.json();throw new Error(f.error||`HTTP ${d.status}: Failed to fetch settings`)}const u=await d.json(),m={userId:u.userId,businessName:u.businessName||"Not Set",whatsappNumber:u.whatsappNumber||"Not Configured",provider:"360dialog",channelId:u.channelId,apiKeySet:u.apiKeySet||!1,webhookUrl:u.webhookUrl||"",updatedAt:u.updatedAt||new Date().toISOString()};s(m)}catch(d){console.error("Failed to fetch 360dialog settings:",d),o(d instanceof Error?d.message:"Failed to load settings");const u={userId:e,businessName:"Not Set",whatsappNumber:"Not Configured",provider:"360dialog",channelId:null,apiKeySet:!1,webhookUrl:"",updatedAt:new Date().toISOString()};s(u)}finally{a(!1)}},c=async d=>{if(!e)throw new Error("User ID is required");try{console.log(`Saving 360dialog settings for user ${e}:`,d);const u=await fetch(`/api/admin/whatsapp/settings/${e}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!u.ok){const f=await u.json();throw new Error(f.error||`HTTP ${u.status}: Failed to save settings`)}const m=await u.json();return console.log(`360dialog settings saved successfully for user ${e}:`,m),t&&s(f=>f&&{...f,channelId:d.channelId,apiKeySet:m.apiKeySet,updatedAt:m.updatedAt}),{success:!0,updatedAt:m.updatedAt,apiKeySet:m.apiKeySet}}catch(u){throw console.error("Failed to save 360dialog settings:",u),u}};return h.useEffect(()=>{l()},[e]),n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Es,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading 360dialog settings..."})]})}):i&&!t?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx(ls,{className:"h-8 w-8 text-red-500"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Settings"}),r.jsx("p",{className:"text-gray-600 mb-4",children:i}),r.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Retry"})]}):(i&&t&&console.warn("Using default data due to fetch error:",i),t?r.jsxs("div",{className:"space-y-6",children:[i&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ls,{className:"h-4 w-4 text-yellow-500 mr-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-yellow-800",children:"Warning"}),r.jsx("p",{className:"text-yellow-700",children:"Could not load existing settings. Using defaults. Changes will still be saved."})]})]})}),r.jsx(dL,{initialData:t,onSave:c,onCancel:()=>{l()}}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ls,{className:"h-5 w-5 text-blue-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Admin Notes"}),r.jsxs("div",{className:"mt-1 text-sm text-blue-700 space-y-1",children:[r.jsx("p",{children:" Settings are saved directly to the database"}),r.jsx("p",{children:" API keys are stored as plaintext for easy retrieval"}),r.jsx("p",{children:" User will need to register their webhook with 360dialog"}),r.jsx("p",{children:" Channel ID should be obtained from 360dialog dashboard"})]})]})]})})]}):r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-600",children:"No settings data available"})}))}function mL(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Vu="Switch",[hL,FF]=gn(Vu),[fL,pL]=hL(Vu),US=h.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[f,p]=h.useState(null),w=Wt(t,x=>p(x)),y=h.useRef(!1),j=f?u||!!f.closest("form"):!0,[v,g]=El({prop:a,defaultProp:i??!1,onChange:d,caller:Vu});return r.jsxs(fL,{scope:s,checked:v,disabled:l,children:[r.jsx(Ke.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":WS(v),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:w,onClick:we(e.onClick,x=>{g(b=>!b),j&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),j&&r.jsx($S,{control:f,bubbles:!y.current,name:n,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});US.displayName=Vu;var BS="SwitchThumb",zS=h.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,a=pL(BS,s);return r.jsx(Ke.span,{"data-state":WS(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});zS.displayName=BS;var xL="SwitchBubbleInput",$S=h.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...a},i)=>{const o=h.useRef(null),l=Wt(o,i),c=mL(s),d=D1(t);return h.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==s&&p){const w=new Event("click",{bubbles:n});p.call(u,s),u.dispatchEvent(w)}},[c,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$S.displayName=xL;function WS(e){return e?"checked":"unchecked"}var HS=US,gL=zS;const GS=h.forwardRef(({className:e,...t},s)=>r.jsx(HS,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:r.jsx(gL,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));GS.displayName=HS.displayName;const yL=Pl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 bg-green-50 dark:border-green-500 [&>svg]:text-green-600",warning:"border-orange-500/50 text-orange-700 bg-orange-50 dark:border-orange-500 [&>svg]:text-orange-600"}},defaultVariants:{variant:"default"}}),Bt=h.forwardRef(({className:e,variant:t,...s},n)=>r.jsx("div",{ref:n,role:"alert",className:ce(yL({variant:t}),e),...s}));Bt.displayName="Alert";const KS=h.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));KS.displayName="AlertTitle";const zt=h.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));zt.displayName="AlertDescription";function vL({userId:e}){const[t,s]=h.useState(null),[n,a]=h.useState(!0),[i,o]=h.useState(!1),[l,c]=h.useState(""),[d,u]=h.useState(""),[m,f]=h.useState(!1),[p,w]=h.useState({}),[y,j]=h.useState({});h.useEffect(()=>{v()},[e]);const v=async()=>{if(e)try{a(!0),c("");const k=await fetch(`/api/admin/pricing/users/${e}/pricing`,{credentials:"include"});if(k.ok){const T=await k.json();s(T),f(T.mode==="custom"),w(T.custom||{})}else{const T=await k.json();c(T.error||"Failed to fetch user pricing data")}}catch(k){c("Failed to connect to server"),console.error("Fetch pricing error:",k)}finally{a(!1)}},g=k=>k.trim()?/^\d+(\.\d{1,4})?$/.test(k)?parseFloat(k)<0?"Price cannot be negative":null:"Price must be a valid decimal with up to 4 decimal places":null,x=(k,T)=>{w(C=>({...C,[k]:T})),y[k]&&j(C=>{const D={...C};return delete D[k],D})},b=async()=>{try{if(o(!0),c(""),u(""),j({}),m){const C={};if(Object.entries(p).forEach(([_,R])=>{if(R&&R.trim()){const P=g(R.trim());P&&(C[_]=P)}}),Object.keys(C).length>0){j(C),o(!1);return}if(!Object.values(p).some(_=>_&&_.trim())){c("At least one custom price must be provided when using custom pricing"),o(!1);return}}const k={mode:m?"custom":"default",...m&&{pricing:p}},T=await fetch(`/api/admin/pricing/users/${e}/pricing`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(k)});if(T.ok){const C=await T.json();s(C),f(C.mode==="custom"),w(C.custom||{}),u(C.message||"Pricing updated successfully")}else{const C=await T.json();if(C.details&&Array.isArray(C.details)){const D={};C.details.forEach(_=>{D[_.field]=_.message}),j(D)}else c(C.error||"Failed to update pricing")}}catch(k){c("Failed to connect to server"),console.error("Save pricing error:",k)}finally{o(!1)}},S=async()=>{if(confirm("Are you sure you want to revert to default pricing? This will remove all custom pricing for this user."))try{o(!0),c(""),u("");const k=await fetch(`/api/admin/pricing/users/${e}/pricing`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({mode:"default"})});if(k.ok){const T=await k.json();s(T),f(!1),w({}),u("Pricing reverted to defaults successfully")}else{const T=await k.json();c(T.error||"Failed to revert to defaults")}}catch(k){c("Failed to connect to server"),console.error("Revert pricing error:",k)}finally{o(!1)}};return n?r.jsxs(q,{className:"shadow-lg",children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(ta,{className:"h-5 w-5"}),r.jsx("span",{children:"Pricing Settings"})]})}),r.jsx(Y,{children:r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading pricing data..."})]})})]}):t?r.jsxs(q,{className:"shadow-lg",children:[r.jsxs(ae,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-b",children:[r.jsxs(ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ta,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{children:"Pricing Settings"})]}),r.jsx(ke,{variant:t.mode==="custom"?"default":"secondary",children:t.mode==="custom"?"Custom Pricing":"Default Pricing"})]}),r.jsx(je,{children:"Configure per-message pricing for Marketing, Utility, and Authentication messages (in INR)"})]}),r.jsxs(Y,{className:"space-y-6 pt-6",children:[l&&r.jsxs(Bt,{className:"border-red-200 bg-red-50",children:[r.jsx(Ms,{className:"h-4 w-4 text-red-600"}),r.jsx(zt,{className:"text-red-700",children:l})]}),d&&r.jsxs(Bt,{className:"border-green-200 bg-green-50",children:[r.jsx(Je,{className:"h-4 w-4 text-green-600"}),r.jsx(zt,{className:"text-green-700",children:d})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Effective Pricing"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",t.effective.marketing]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Marketing"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",t.effective.utility]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Utility"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",t.effective.authentication]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Authentication"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center space-x-2",children:[r.jsx(Rt,{className:"h-4 w-4"}),r.jsx("span",{children:"Global Default Prices"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:["Marketing: ",t.defaults.marketing]}),r.jsxs("div",{children:["Utility: ",t.defaults.utility]}),r.jsxs("div",{children:["Authentication: ",t.defaults.authentication]})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-4 border-t border-b",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(pe,{htmlFor:"use-custom-pricing",className:"text-base font-medium",children:"Use Custom Pricing"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Override global defaults with user-specific pricing"})]}),r.jsx(GS,{id:"use-custom-pricing",checked:m,onCheckedChange:f,disabled:i})]}),m&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{htmlFor:"marketing-price",children:["Marketing Price ()",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(up to 4 decimals)"})]}),r.jsx(le,{id:"marketing-price",type:"text",placeholder:t.defaults.marketing,value:p.marketing||"",onChange:k=>x("marketing",k.target.value),className:y.marketing?"border-red-500":"",disabled:i}),y.marketing&&r.jsx("p",{className:"text-xs text-red-600",children:y.marketing})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{htmlFor:"utility-price",children:["Utility Price ()",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(up to 4 decimals)"})]}),r.jsx(le,{id:"utility-price",type:"text",placeholder:t.defaults.utility,value:p.utility||"",onChange:k=>x("utility",k.target.value),className:y.utility?"border-red-500":"",disabled:i}),y.utility&&r.jsx("p",{className:"text-xs text-red-600",children:y.utility})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{htmlFor:"authentication-price",children:["Authentication Price ()",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(up to 4 decimals)"})]}),r.jsx(le,{id:"authentication-price",type:"text",placeholder:t.defaults.authentication,value:p.authentication||"",onChange:k=>x("authentication",k.target.value),className:y.authentication?"border-red-500":"",disabled:i}),y.authentication&&r.jsx("p",{className:"text-xs text-red-600",children:y.authentication})]})]}),r.jsxs(Bt,{children:[r.jsx(Rt,{className:"h-4 w-4"}),r.jsx(zt,{children:"Leave fields empty to use global defaults. At least one custom price must be provided."})]})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx("div",{children:t.mode==="custom"&&r.jsxs(U,{variant:"outline",onClick:S,disabled:i,className:"text-orange-700 hover:text-orange-800",children:[r.jsx(H_,{className:"h-4 w-4 mr-2"}),"Revert to Defaults"]})}),r.jsxs(U,{onClick:b,disabled:i,className:"bg-green-600 hover:bg-green-700",children:[r.jsx(Fa,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save Pricing"]})]})]})]}):r.jsx(q,{className:"shadow-lg",children:r.jsx(Y,{className:"pt-6",children:r.jsxs(Bt,{children:[r.jsx(Ms,{className:"h-4 w-4"}),r.jsx(zt,{children:"Failed to load pricing data. Please try refreshing the page."})]})})})}function bL(){const{id:e}=iu(),t=xt(),[s,n]=h.useState(null),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(""),[f,p]=h.useState(!1),[w,y]=h.useState(!1),[j,v]=h.useState({name:"",email:"",username:"",phoneNumber:"",role:"user",creditBalance:0}),[g,x]=h.useState({businessName:"",whatsappNumber:"",whatsappNumberId:"",wabaId:"",accessToken:"",webhookUrl:"",webhookVerifyToken:"",appSecret:"",isActive:!0}),[b,S]=h.useState({}),[k,T]=h.useState({newPassword:"",confirmPassword:""}),[C,D]=h.useState(!1),[_,R]=h.useState(!1),[P,E]=h.useState(!1);h.useEffect(()=>{N()},[e]);const N=async()=>{if(e)try{i(!0);const B=await fetch(`/api/admin/users/${e}/details`,{credentials:"include"});if(B.ok){const H=await B.json();n(H.user),v({name:H.user.name||"",email:H.user.email||"",username:H.user.username||"",phoneNumber:H.user.phoneNumber||"",role:H.user.role||"user",creditBalance:H.user.creditBalance||0}),H.user.businessInfo&&x({businessName:H.user.businessInfo.businessName||"",whatsappNumber:H.user.businessInfo.whatsappNumber||"",whatsappNumberId:H.user.businessInfo.whatsappNumberId||"",wabaId:H.user.businessInfo.wabaId||"",accessToken:H.user.businessInfo.accessToken||"",webhookUrl:H.user.businessInfo.webhookUrl||"",webhookVerifyToken:H.user.businessInfo.webhookVerifyToken||"",appSecret:H.user.businessInfo.appSecret||"",isActive:H.user.businessInfo.isActive??!0})}else{const H=await B.json();d(H.error||"Failed to fetch user details")}}catch{d("Network error occurred")}finally{i(!1)}},I=()=>{const B={};return j.name.trim()||(B.name="Name is required"),j.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)||(B.email="Invalid email format"):B.email="Email is required",j.username.trim()||(B.username="Username is required"),j.creditBalance<0&&(B.creditBalance="Credit balance cannot be negative"),g.whatsappNumber&&!/^\+?[\d\s-()]+$/.test(g.whatsappNumber)&&(B.whatsappNumber="Invalid WhatsApp number format"),g.webhookUrl&&!/^https?:\/\/.+/.test(g.webhookUrl)&&(B.webhookUrl="Webhook URL must be a valid HTTP/HTTPS URL"),S(B),Object.keys(B).length===0},A=async()=>{if(!(!I()||!e)){l(!0),d(""),m("");try{const B=await fetch(`/api/admin/users/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)});if(!B.ok){const H=await B.json();throw new Error(H.error||"Failed to update basic information")}m("User settings updated successfully"),N()}catch(B){d(B instanceof Error?B.message:"Failed to update user settings")}finally{l(!1)}}},z=(B,H,G=!1)=>{G?x(de=>({...de,[B]:H})):v(de=>({...de,[B]:H})),b[B]&&S(de=>({...de,[B]:""})),c&&d(""),u&&m("")},O=(B,H)=>{T(G=>({...G,[B]:H})),b[B]&&S(G=>({...G,[B]:""})),c&&d(""),u&&m("")},L=async()=>{if(!k.newPassword||!k.confirmPassword){S({passwordGeneral:"Both password fields are required"});return}if(k.newPassword.length<6){S({newPassword:"Password must be at least 6 characters long"});return}if(k.newPassword!==k.confirmPassword){S({confirmPassword:"Passwords do not match"});return}if(e){E(!0),d(""),m(""),S({});try{const B=await fetch(`/api/admin/users/${e}/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({newPassword:k.newPassword})});if(!B.ok){const G=await B.json();throw new Error(G.error||"Failed to change password")}const H=await B.json();m(`Password successfully changed for ${H.user.name}`),T({newPassword:"",confirmPassword:""})}catch(B){d(B instanceof Error?B.message:"Failed to change password")}finally{E(!1)}}};return a?r.jsx(at,{title:"User Settings",subtitle:"Loading user configuration...",children:r.jsx("div",{className:"p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading user settings..."})]})})}):r.jsx(at,{title:"User Settings",subtitle:s?`Configure settings for ${s.name}`:"Configure user settings",children:r.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(U,{variant:"outline",onClick:()=>t("/admin/dashboard"),children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(U,{variant:"outline",onClick:()=>t("/admin/dashboard"),children:[r.jsx(vt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs(U,{onClick:A,disabled:o,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Fa,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save Changes"]})]})]}),c&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 mr-2 text-red-500"}),c]}),u&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg flex items-center",children:[r.jsx(Fa,{className:"h-5 w-5 mr-2 text-green-500"}),u]}),r.jsxs(Vo,{defaultValue:"basic",className:"space-y-6",children:[r.jsxs(Pi,{className:"grid w-full grid-cols-4 lg:w-[800px]",children:[r.jsxs(Gt,{value:"basic",className:"flex items-center space-x-2",children:[r.jsx(Ir,{className:"h-4 w-4"}),r.jsx("span",{children:"Basic Information"})]}),r.jsxs(Gt,{value:"business",className:"flex items-center space-x-2",children:[r.jsx(hy,{className:"h-4 w-4"}),r.jsx("span",{children:"WhatsApp Business"})]}),r.jsxs(Gt,{value:"pricing",className:"flex items-center space-x-2",children:[r.jsx(ta,{className:"h-4 w-4"}),r.jsx("span",{children:"Pricing"})]}),r.jsxs(Gt,{value:"security",className:"flex items-center space-x-2",children:[r.jsx(yi,{className:"h-4 w-4"}),r.jsx("span",{children:"Security"})]})]}),r.jsx(Kt,{value:"basic",className:"space-y-6",children:r.jsxs(q,{className:"shadow-lg",children:[r.jsxs(ae,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:[r.jsxs(ie,{className:"flex items-center space-x-2 text-gray-800",children:[r.jsx(Ir,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Basic Information"})]}),r.jsx(je,{children:"Manage user account details, permissions, and credit balance"})]}),r.jsxs(Y,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Name *"}),r.jsx(le,{value:j.name,onChange:B=>z("name",B.target.value),className:`transition-all ${b.name?"border-red-300 focus:ring-red-200":"focus:ring-blue-200"}`,placeholder:"Enter full name"}),b.name&&r.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[r.jsx(vt,{className:"h-4 w-4 mr-1"}),b.name]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Email *"}),r.jsx(le,{type:"email",value:j.email,onChange:B=>z("email",B.target.value),className:`transition-all ${b.email?"border-red-300 focus:ring-red-200":"focus:ring-blue-200"}`,placeholder:"Enter email address"}),b.email&&r.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[r.jsx(vt,{className:"h-4 w-4 mr-1"}),b.email]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Username *"}),r.jsx(le,{value:j.username,onChange:B=>z("username",B.target.value),className:`transition-all ${b.username?"border-red-300 focus:ring-red-200":"focus:ring-blue-200"}`,placeholder:"Enter username"}),b.username&&r.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[r.jsx(vt,{className:"h-4 w-4 mr-1"}),b.username]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Phone Number"}),r.jsx(le,{value:j.phoneNumber,onChange:B=>z("phoneNumber",B.target.value),className:"focus:ring-blue-200",placeholder:"Enter phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Role"}),r.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-200 focus:border-blue-500 transition-all",value:j.role,onChange:B=>z("role",B.target.value),children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Credit Balance"}),r.jsx(le,{type:"number",value:j.creditBalance,onChange:B=>z("creditBalance",parseInt(B.target.value)||0),className:`transition-all ${b.creditBalance?"border-red-300 focus:ring-red-200":"focus:ring-blue-200"}`,placeholder:"Enter credit balance"}),b.creditBalance&&r.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[r.jsx(vt,{className:"h-4 w-4 mr-1"}),b.creditBalance]})]})]}),s&&r.jsx("div",{className:"pt-6 border-t bg-gray-50 -mx-6 -mb-6 px-6 py-4 rounded-b-lg",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-800",children:"User ID:"}),r.jsx("p",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded mt-1",children:s.id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-800",children:"Created:"}),r.jsx("p",{children:new Date(s.createdAt).toLocaleDateString()})]}),s.updatedAt&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-800",children:"Updated:"}),r.jsx("p",{children:new Date(s.updatedAt).toLocaleDateString()})]})]})})]})]})}),r.jsx(Kt,{value:"business",className:"space-y-6",children:r.jsxs(q,{className:"shadow-lg",children:[r.jsxs(ae,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:[r.jsxs(ie,{className:"flex items-center space-x-2 text-gray-800",children:[r.jsx(hy,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{children:"WhatsApp Business - 360dialog"})]}),r.jsx(je,{children:"Configure 360dialog WhatsApp Business API integration"})]}),r.jsx(Y,{className:"p-6",children:r.jsx(uL,{userId:e||""})})]})}),r.jsx(Kt,{value:"pricing",className:"space-y-6",children:e&&r.jsx(vL,{userId:parseInt(e)})}),r.jsx(Kt,{value:"security",className:"space-y-6",children:r.jsxs(q,{className:"shadow-lg",children:[r.jsxs(ae,{className:"bg-gradient-to-r from-red-50 to-orange-50 border-b",children:[r.jsxs(ie,{className:"flex items-center space-x-2 text-gray-800",children:[r.jsx(yi,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{children:"Security & Password Management"})]}),r.jsx(je,{children:"Change user password and manage security settings"})]}),r.jsxs(Y,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-yellow-800 mb-2",children:[r.jsx(yi,{className:"h-4 w-4"}),r.jsx("span",{className:"font-semibold",children:"Security Warning"})]}),r.jsx("p",{className:"text-sm text-yellow-700",children:"You are about to change this user's password. This action will be logged for security auditing. The user will need to use the new password for their next login."})]}),b.passwordGeneral&&r.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 mr-2 text-red-500"}),b.passwordGeneral]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"New Password *"}),r.jsxs("div",{className:"relative",children:[r.jsx(le,{type:C?"text":"password",value:k.newPassword,onChange:B=>O("newPassword",B.target.value),className:`pr-12 transition-all ${b.newPassword?"border-red-300 focus:ring-red-200":"focus:ring-red-200"}`,placeholder:"Enter new password"}),r.jsx("button",{type:"button",onClick:()=>D(!C),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:C?r.jsx(La,{className:"h-4 w-4"}):r.jsx(cs,{className:"h-4 w-4"})})]}),b.newPassword&&r.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[r.jsx(vt,{className:"h-4 w-4 mr-1"}),b.newPassword]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Confirm Password *"}),r.jsxs("div",{className:"relative",children:[r.jsx(le,{type:_?"text":"password",value:k.confirmPassword,onChange:B=>O("confirmPassword",B.target.value),className:`pr-12 transition-all ${b.confirmPassword?"border-red-300 focus:ring-red-200":"focus:ring-red-200"}`,placeholder:"Confirm new password"}),r.jsx("button",{type:"button",onClick:()=>R(!_),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:_?r.jsx(La,{className:"h-4 w-4"}):r.jsx(cs,{className:"h-4 w-4"})})]}),b.confirmPassword&&r.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[r.jsx(vt,{className:"h-4 w-4 mr-1"}),b.confirmPassword]})]})]}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Password Change Action"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This action will be logged in the admin audit trail"})]}),r.jsx(U,{onClick:L,disabled:P||!k.newPassword||!k.confirmPassword,className:"bg-red-600 hover:bg-red-700 text-white px-6",children:P?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Changing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(yi,{className:"h-4 w-4 mr-2"}),"Change Password"]})})]})}),s&&r.jsx("div",{className:"pt-6 border-t bg-gray-50 -mx-6 -mb-6 px-6 py-4 rounded-b-lg",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold text-gray-800",children:"Last Password Change:"}),r.jsx("p",{children:"Password changes are not tracked historically. This feature logs all admin password changes for security auditing."})]})})]})]})})]})]})})}function jL(){var C;const{id:e}=iu(),t=xt(),[s,n]=h.useState(null),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(""),[f,p]=h.useState("deduct"),[w,y]=h.useState(0),[j,v]=h.useState("");h.useEffect(()=>{g()},[e]);const g=async()=>{if(e)try{i(!0);const D=await fetch(`/api/admin/users/${e}/details`,{credentials:"include"});if(D.ok){const _=await D.json();n(_.user)}else{const _=await D.json();d(_.error||"Failed to fetch user details")}}catch{d("Network error occurred")}finally{i(!1)}},x=async()=>{var D;if(!e||w<=0){d("Please enter a valid amount");return}if(!j.trim()){d("Please provide a reason for this credit adjustment");return}l(!0),d(""),m("");try{const _=parseFloat(((D=s==null?void 0:s.creditBalance)==null?void 0:D.toString())||"0"),R=parseFloat(w.toString());let P;f==="add"?P=Math.round((_+R)*100)/100:P=Math.round(Math.max(0,_-R)*100)/100,console.log(` FRONTEND CALCULATION: ${_} ${f} ${R} = ${P}`);const E=await fetch(`/api/admin/users/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({creditBalance:P})});if(!E.ok){const I=await E.json();throw new Error(I.error||"Failed to update credit balance")}m(`Successfully ${f==="add"?"added":"deducted"} ${w} credits. New balance: ${P.toLocaleString()}`),y(0),v(""),g()}catch(_){d(_ instanceof Error?_.message:"Failed to update credit balance")}finally{l(!1)}},b=D=>{y(D)};if(a)return r.jsx(at,{title:"Wallet Management",subtitle:"Loading user wallet information...",children:r.jsx("div",{className:"p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading wallet information..."})]})})});const S=parseFloat(((C=s==null?void 0:s.creditBalance)==null?void 0:C.toString())||"0"),k=parseFloat(w.toString()||"0"),T=f==="add"?Math.round((S+k)*100)/100:Math.round(Math.max(0,S-k)*100)/100;return r.jsx(at,{title:"Wallet Management",subtitle:s?`Manage credits for ${s.name}`:"Manage user credits",children:r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(U,{variant:"outline",onClick:()=>t("/admin/dashboard"),children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),c&&r.jsxs(Bt,{className:"mb-6 border-red-200 bg-red-50",children:[r.jsx(vt,{className:"h-4 w-4 text-red-500"}),r.jsx(zt,{className:"text-red-700",children:c})]}),u&&r.jsxs(Bt,{className:"mb-6 border-green-200 bg-green-50",children:[r.jsx(Fa,{className:"h-4 w-4 text-green-500"}),r.jsx(zt,{className:"text-green-700",children:u})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(q,{className:"shadow-lg",children:[r.jsx(ae,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:r.jsxs(ie,{className:"flex items-center space-x-2 text-gray-800",children:[r.jsx(Va,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Current Balance"})]})}),r.jsx(Y,{className:"p-6",children:s&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-blue-600 font-bold text-xl",children:s.name.charAt(0).toUpperCase()})}),r.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),r.jsx("p",{className:"text-sm text-gray-500",children:s.email})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg p-4 text-white text-center",children:[r.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Current Credits"}),r.jsx("p",{className:"text-3xl font-bold",children:S.toLocaleString()})]}),r.jsxs("div",{className:"pt-4 border-t space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"User ID:"}),r.jsx("span",{className:"font-mono text-xs",children:s.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Role:"}),r.jsx("span",{className:"capitalize font-medium",children:s.role})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Joined:"}),r.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()})]})]})]})})]})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(q,{className:"shadow-lg",children:[r.jsxs(ae,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b",children:[r.jsxs(ie,{className:"flex items-center space-x-2 text-gray-800",children:[r.jsx(ea,{className:"h-5 w-5 text-purple-600"}),r.jsx("span",{children:"Credit Management"})]}),r.jsx(je,{children:"Add or deduct credits from user's account"})]}),r.jsxs(Y,{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Operation Type"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>p("add"),className:`flex items-center space-x-2 px-4 py-3 rounded-lg border-2 transition-all ${f==="add"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-600 hover:border-green-300"}`,children:[r.jsx(qr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Add Credits"})]}),r.jsxs("button",{type:"button",onClick:()=>p("deduct"),className:`flex items-center space-x-2 px-4 py-3 rounded-lg border-2 transition-all ${f==="deduct"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 bg-white text-gray-600 hover:border-red-300"}`,children:[r.jsx(fy,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Deduct Credits"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(R_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(le,{type:"number",value:w,onChange:D=>y(parseInt(D.target.value)||0),className:"pl-10 text-lg font-semibold",placeholder:"Enter amount",min:"0"})]}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:[10,50,100,500,1e3,5e3].map(D=>r.jsx("button",{type:"button",onClick:()=>b(D),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md border transition-colors",children:D.toLocaleString()},D))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Reason"}),r.jsx(le,{value:j,onChange:D=>v(D.target.value),placeholder:"Enter reason for credit adjustment",className:"font-medium"})]}),w>0&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Transaction Preview"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Current Balance:"}),r.jsx("span",{className:"font-mono",children:S.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:f==="add"?"Credits Added:":"Credits Deducted:"}),r.jsxs("span",{className:`font-mono ${f==="add"?"text-green-600":"text-red-600"}`,children:[f==="add"?"+":"-",w.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between font-semibold text-base border-t pt-2",children:[r.jsx("span",{children:"New Balance:"}),r.jsx("span",{className:"font-mono",children:T.toLocaleString()})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[r.jsx(U,{variant:"outline",onClick:()=>t("/admin/dashboard"),children:"Cancel"}),r.jsx(U,{onClick:x,disabled:o||w<=0||!j.trim(),className:`${f==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:o?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Processing..."})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[f==="add"?r.jsx(qr,{className:"h-4 w-4"}):r.jsx(fy,{className:"h-4 w-4"}),r.jsx("span",{children:f==="add"?"Add Credits":"Deduct Credits"})]})})]})]})]})})]})]})})}function wL(){const{id:e}=iu(),t=xt(),[s,n]=h.useState(null),[a,i]=h.useState([]),[o,l]=h.useState(null),[c,d]=h.useState(!0),[u,m]=h.useState(null),[f,p]=h.useState(!1),[w,y]=h.useState(!1),[j,v]=h.useState("APPROVED"),[g,x]=h.useState(!1),[b,S]=h.useState(""),[k,T]=h.useState("");h.useEffect(()=>{C()},[e]);const C=async()=>{if(e)try{d(!0),S("");const[N,I]=await Promise.all([fetch(`/api/admin/users/${e}/details`,{credentials:"include"}),fetch(`/api/admin/users/${e}/templates`,{credentials:"include"})]);if(N.ok){const A=await N.json();n(A.user)}if(I.ok){const A=await I.json();i(A.templates||[]),l(A.stats||{total:0,pending:0,approved:0,rejected:0})}else throw new Error("Failed to fetch templates")}catch(N){console.error("Error fetching data:",N),S("Failed to load user templates")}finally{d(!1)}},D=async()=>{if(u)try{x(!0),S("");const N=await fetch(`/api/admin/templates/${u.id}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:j})});if(N.ok)T(`Template ${j.toLowerCase()} successfully`),y(!1),m(null),await C();else{const I=await N.json();throw new Error(I.message||"Failed to update template status")}}catch(N){console.error("Error updating template status:",N),S(N instanceof Error?N.message:"Failed to update template status")}finally{x(!1)}},_=N=>{switch(N.toUpperCase()){case"APPROVED":return"bg-green-100 text-green-800 border-green-200";case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"REJECTED":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=N=>{switch(N.toUpperCase()){case"APPROVED":return r.jsx(Je,{className:"h-4 w-4"});case"PENDING":return r.jsx(pr,{className:"h-4 w-4"});case"REJECTED":return r.jsx(mr,{className:"h-4 w-4"});default:return r.jsx(Ms,{className:"h-4 w-4"})}},P=N=>{switch(N.toUpperCase()){case"MARKETING":return r.jsx(Nt,{className:"h-4 w-4 text-blue-600"});case"UTILITY":return r.jsx(St,{className:"h-4 w-4 text-green-600"});case"AUTHENTICATION":return r.jsx(Ms,{className:"h-4 w-4 text-orange-600"});default:return r.jsx(St,{className:"h-4 w-4 text-gray-600"})}},E=()=>u!=null&&u.components?r.jsx("div",{className:"space-y-4",children:u.components.map((N,I)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ke,{variant:"outline",children:N.type}),N.format&&r.jsx(ke,{variant:"secondary",children:N.format})]}),N.type==="HEADER"&&r.jsx("div",{className:"bg-gray-50 p-3 rounded",children:N.format==="TEXT"?r.jsx("p",{className:"font-semibold",children:N.text||"Header Text"}):N.format==="IMAGE"?r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(tf,{className:"h-4 w-4"}),r.jsx("span",{children:"Image Header"})]}):null}),N.type==="BODY"&&r.jsx("div",{className:"bg-blue-50 p-3 rounded",children:r.jsx("p",{children:N.text||"Body text"})}),N.type==="FOOTER"&&r.jsx("div",{className:"bg-gray-50 p-3 rounded",children:r.jsx("p",{className:"text-sm text-gray-600",children:N.text||"Footer text"})}),N.type==="BUTTONS"&&N.buttons&&r.jsx("div",{className:"space-y-2",children:N.buttons.map((A,z)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[A.type==="URL"&&r.jsx(L_,{className:"h-4 w-4"}),A.type==="PHONE_NUMBER"&&r.jsx(Jr,{className:"h-4 w-4"}),A.type==="QUICK_REPLY"&&r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:A.text}),r.jsx(ke,{variant:"outline",className:"text-xs",children:A.type})]},z))})]},I))}):null;return c?r.jsx(at,{title:"Loading...",subtitle:"Loading user templates",children:r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):r.jsx(at,{title:`${(s==null?void 0:s.name)||"User"} Templates`,subtitle:`Manage templates for ${(s==null?void 0:s.username)||"user"}`,children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs(U,{variant:"outline",onClick:()=>t("/admin/dashboard"),className:"gap-2",children:[r.jsx(yr,{className:"h-4 w-4"}),"Back to Dashboard"]})}),b&&r.jsxs(Bt,{className:"border-red-200 bg-red-50",children:[r.jsx(Ms,{className:"h-4 w-4 text-red-600"}),r.jsx(zt,{className:"text-red-800",children:b})]}),k&&r.jsxs(Bt,{className:"border-green-200 bg-green-50",children:[r.jsx(Je,{className:"h-4 w-4 text-green-600"}),r.jsx(zt,{className:"text-green-800",children:k})]}),o&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(q,{className:"border-l-4 border-l-blue-500",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Templates"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total})]}),r.jsx(St,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{className:"border-l-4 border-l-yellow-500",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.pending})]}),r.jsx(pr,{className:"h-8 w-8 text-yellow-600"})]})})}),r.jsx(q,{className:"border-l-4 border-l-green-500",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.approved})]}),r.jsx(Je,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{className:"border-l-4 border-l-red-500",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:o.rejected})]}),r.jsx(mr,{className:"h-8 w-8 text-red-600"})]})})})]}),r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsx(ie,{children:"User Templates"}),r.jsxs(je,{children:["Manage and approve templates created by ",s==null?void 0:s.name]})]}),r.jsx(Y,{children:a.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(St,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates found"}),r.jsx("p",{className:"text-gray-500",children:"This user hasn't created any templates yet."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Du,{children:[r.jsx(Ou,{children:r.jsxs(qn,{children:[r.jsx(bt,{children:"Template Name"}),r.jsx(bt,{children:"Category"}),r.jsx(bt,{children:"Language"}),r.jsx(bt,{children:"Status"}),r.jsx(bt,{children:"Created Date"}),r.jsx(bt,{children:"Actions"})]})}),r.jsx(Lu,{children:a.map(N=>r.jsxs(qn,{children:[r.jsx(ut,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[P(N.category),r.jsx("span",{className:"font-medium",children:N.name})]})}),r.jsx(ut,{children:r.jsx(ke,{variant:"outline",children:N.category})}),r.jsx(ut,{children:N.language}),r.jsx(ut,{children:r.jsxs(ke,{className:_(N.status),children:[R(N.status),r.jsx("span",{className:"ml-1",children:N.status})]})}),r.jsx(ut,{children:r.jsx("span",{className:"text-sm text-gray-500",children:new Date(N.createdAt||"").toLocaleDateString()})}),r.jsx(ut,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{m(N),p(!0)},title:"Preview Template",children:r.jsx(cs,{className:"h-4 w-4"})}),N.status==="PENDING"&&r.jsxs(r.Fragment,{children:[r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{m(N),v("APPROVED"),y(!0)},className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Approve Template",children:r.jsx(Je,{className:"h-4 w-4"})}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{m(N),v("REJECTED"),y(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Reject Template",children:r.jsx(mr,{className:"h-4 w-4"})})]})]})})]},N.id))})]})})})]}),r.jsx(aa,{open:f,onOpenChange:p,children:r.jsxs(un,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(ia,{children:[r.jsxs(mn,{children:["Template Preview: ",u==null?void 0:u.name]}),r.jsx(hn,{children:"Preview of the template structure and content"})]}),E(),r.jsx(oa,{children:r.jsx(U,{variant:"outline",onClick:()=>p(!1),children:"Close"})})]})}),r.jsx(aa,{open:w,onOpenChange:y,children:r.jsxs(un,{children:[r.jsxs(ia,{children:[r.jsxs(mn,{children:[j==="APPROVED"?"Approve":"Reject"," Template"]}),r.jsxs(hn,{children:["Are you sure you want to ",j.toLowerCase(),' the template "',u==null?void 0:u.name,'"?',j==="APPROVED"&&r.jsx("span",{className:"block mt-2 text-green-600",children:"This will make the template available for the user to send messages."}),j==="REJECTED"&&r.jsx("span",{className:"block mt-2 text-red-600",children:"This will prevent the user from using this template."})]})]}),r.jsxs(oa,{children:[r.jsx(U,{variant:"outline",onClick:()=>y(!1),disabled:g,children:"Cancel"}),r.jsx(U,{onClick:D,disabled:g,className:j==="APPROVED"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:g?"Updating...":`${j==="APPROVED"?"Approve":"Reject"} Template`})]})]})})]})})}const NL=()=>{const{setLoading:e}=Nu(),t=Xi(),[s,n]=h.useState(null),[a,i]=h.useState(!1),o=async()=>{try{e(!0,"Fetching log statistics...");const d=await It("/api/logs/cleanup/stats");if(d.ok){const u=await d.json();n(u.stats),t.info("Log statistics updated")}else t.error("Failed to fetch log statistics")}catch{t.error("Network error while fetching statistics")}finally{e(!1)}},l=async()=>{if(!s||s.totalCount===0){t.warning("No logs to cleanup");return}try{i(!0),e(!0,"Cleaning up old logs...");const d=await It("/api/logs/cleanup",{method:"POST"});if(d.ok){const u=await d.json();t.success(`Successfully deleted ${u.deleted.totalDeleted} log entries`),await o()}else{const u=await d.json();t.error(u.error||"Failed to cleanup logs")}}catch{t.error("Network error during cleanup")}finally{i(!1),e(!1)}};h.useEffect(()=>{o()},[]);const c=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsx(at,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Log Management"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and cleanup old system logs automatically"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsxs(q,{children:[r.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Message Logs"}),r.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Y,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.messageLogsCount.toLocaleString())||"0"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for cleanup"})]})]})}),r.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(q,{children:[r.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Campaign Logs"}),r.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Y,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:(s==null?void 0:s.campaignLogsCount.toLocaleString())||"0"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for cleanup"})]})]})}),r.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsxs(q,{children:[r.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Total Old Logs"}),r.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Y,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:(s==null?void 0:s.totalCount.toLocaleString())||"0"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Older than 90 days"})]})]})})]}),r.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(an,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{children:"Log Cleanup"})]}),r.jsx(je,{children:"Automatically removes logs older than 90 days. The cleanup job runs daily at 2:00 AM UTC."})]}),r.jsxs(Y,{className:"space-y-6",children:[s&&s.thresholdDate&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(pr,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Cleanup Threshold"})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["All logs created before ",c(s.thresholdDate)," will be deleted."]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[s&&s.totalCount>0?r.jsx(Ms,{className:"w-5 h-5 text-yellow-600"}):r.jsx(Je,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:s&&s.totalCount>0?`${s.totalCount.toLocaleString()} logs ready for cleanup`:"No logs need cleanup"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s&&s.totalCount>0?"Click below to perform manual cleanup now":"All logs are within the retention period"})]})]}),r.jsxs("div",{className:"space-x-2",children:[r.jsx(U,{variant:"outline",onClick:o,disabled:a,children:"Refresh Stats"}),r.jsxs(U,{onClick:l,disabled:a||!s||s.totalCount===0,className:"bg-red-600 hover:bg-red-700",children:[r.jsx(an,{className:"w-4 h-4 mr-2"}),"Clean Up Now"]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Test Notifications"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(U,{size:"sm",variant:"outline",onClick:()=>t.success("This is a success notification!"),children:"Test Success"}),r.jsx(U,{size:"sm",variant:"outline",onClick:()=>t.warning("This is a warning notification!"),children:"Test Warning"}),r.jsx(U,{size:"sm",variant:"outline",onClick:()=>t.error("This is an error notification!"),children:"Test Error"}),r.jsx(U,{size:"sm",variant:"outline",onClick:()=>t.info("This is an info notification!"),children:"Test Info"})]})]})]})]})})]})})};function SL(){const[e,t]=h.useState(null),[s,n]=h.useState(!0),[a,i]=h.useState(!1),[o,l]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState({marketing:"",utility:"",authentication:""}),[f,p]=h.useState({});h.useEffect(()=>{w()},[]);const w=async()=>{try{n(!0),l("");const x=await fetch("/api/admin/pricing/defaults",{credentials:"include"});if(x.ok){const b=await x.json();t(b.defaults),m({marketing:b.defaults.marketing,utility:b.defaults.utility,authentication:b.defaults.authentication})}else{const b=await x.json();l(b.error||"Failed to fetch pricing defaults")}}catch(x){l("Failed to connect to server"),console.error("Fetch defaults error:",x)}finally{n(!1)}},y=x=>x.trim()?/^\d+(\.\d{1,4})?$/.test(x)?parseFloat(x)<0?"Price cannot be negative":null:"Price must be a valid decimal with up to 4 decimal places":"Price is required",j=(x,b)=>{m(S=>({...S,[x]:b})),f[x]&&p(S=>{const k={...S};return delete k[x],k})},v=async()=>{try{i(!0),l(""),d(""),p({});const x={};if(Object.entries(u).forEach(([S,k])=>{const T=y(k);T&&(x[S]=T)}),Object.keys(x).length>0){p(x),i(!1);return}const b=await fetch("/api/admin/pricing/defaults",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)});if(b.ok){const S=await b.json();t(S.defaults),m({marketing:S.defaults.marketing,utility:S.defaults.utility,authentication:S.defaults.authentication}),d(S.message||"Global pricing defaults updated successfully")}else{const S=await b.json();if(S.details&&Array.isArray(S.details)){const k={};S.details.forEach(T=>{k[T.field]=T.message}),p(k)}else l(S.error||"Failed to update pricing defaults")}}catch(x){l("Failed to connect to server"),console.error("Save defaults error:",x)}finally{i(!1)}},g=e&&(u.marketing!==e.marketing||u.utility!==e.utility||u.authentication!==e.authentication);return s?r.jsxs(q,{className:"shadow-lg",children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"h-5 w-5"}),r.jsx("span",{children:"Global Pricing Defaults"})]})}),r.jsx(Y,{children:r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading pricing defaults..."})]})})]}):r.jsxs(q,{className:"shadow-lg",children:[r.jsxs(ae,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Global Pricing Defaults"})]}),r.jsx(je,{children:"Set default per-message pricing for all users (in INR). Individual users can override these with custom pricing."})]}),r.jsxs(Y,{className:"space-y-6 pt-6",children:[o&&r.jsxs(Bt,{className:"border-red-200 bg-red-50",children:[r.jsx(Ms,{className:"h-4 w-4 text-red-600"}),r.jsx(zt,{className:"text-red-700",children:o})]}),c&&r.jsxs(Bt,{className:"border-green-200 bg-green-50",children:[r.jsx(Je,{className:"h-4 w-4 text-green-600"}),r.jsx(zt,{className:"text-green-700",children:c})]}),e&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Global Defaults"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",e.marketing]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Marketing"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",e.utility]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Utility"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",e.authentication]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Authentication"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Update Default Pricing"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{htmlFor:"marketing-default",children:["Marketing Price ()",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(up to 4 decimals)"})]}),r.jsx(le,{id:"marketing-default",type:"text",value:u.marketing,onChange:x=>j("marketing",x.target.value),className:f.marketing?"border-red-500":"",disabled:a}),f.marketing&&r.jsx("p",{className:"text-xs text-red-600",children:f.marketing})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{htmlFor:"utility-default",children:["Utility Price ()",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(up to 4 decimals)"})]}),r.jsx(le,{id:"utility-default",type:"text",value:u.utility,onChange:x=>j("utility",x.target.value),className:f.utility?"border-red-500":"",disabled:a}),f.utility&&r.jsx("p",{className:"text-xs text-red-600",children:f.utility})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{htmlFor:"authentication-default",children:["Authentication Price ()",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(up to 4 decimals)"})]}),r.jsx(le,{id:"authentication-default",type:"text",value:u.authentication,onChange:x=>j("authentication",x.target.value),className:f.authentication?"border-red-500":"",disabled:a}),f.authentication&&r.jsx("p",{className:"text-xs text-red-600",children:f.authentication})]})]}),r.jsxs(Bt,{children:[r.jsx(Rt,{className:"h-4 w-4"}),r.jsxs(zt,{children:[r.jsx("strong",{children:"Message Categories:"}),r.jsx("br",{})," ",r.jsx("strong",{children:"Marketing:"})," Promotional and marketing messages (typically most expensive)",r.jsx("br",{})," ",r.jsx("strong",{children:"Utility:"})," Transactional messages like order updates, shipping notifications",r.jsx("br",{})," ",r.jsx("strong",{children:"Authentication:"})," OTP and verification messages (typically least expensive)"]})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs(U,{onClick:v,disabled:a||!g,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Fa,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Global Defaults"]})})]})]})}function CL(){const[e,t]=h.useState(null),[s,n]=h.useState(!0);return h.useEffect(()=>{setTimeout(()=>{t({totalUsers:0,usersWithCustomPricing:0,usersWithDefaultPricing:0,averageMarketingPrice:"0.80",averageUtilityPrice:"0.15",averageAuthenticationPrice:"0.15"}),n(!1)},1e3)},[]),r.jsx(at,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pricing Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Configure global default pricing and manage per-user custom pricing"})]}),r.jsxs(ke,{variant:"secondary",className:"text-sm",children:[r.jsx(ta,{className:"h-4 w-4 mr-1"}),"INR Currency"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Total Users"}),r.jsx(vu,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Y,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s?"...":(e==null?void 0:e.totalUsers)||"0"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users in system"})]})]}),r.jsxs(q,{children:[r.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Custom Pricing"}),r.jsx(Is,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Y,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s?"...":(e==null?void 0:e.usersWithCustomPricing)||"0"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Users with custom rates"})]})]}),r.jsxs(q,{children:[r.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Default Pricing"}),r.jsx(FN,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Y,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s?"...":(e==null?void 0:e.usersWithDefaultPricing)||"0"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Users using defaults"})]})]}),r.jsxs(q,{children:[r.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Avg. Marketing"}),r.jsx(ta,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Y,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:["",s?"...":(e==null?void 0:e.averageMarketingPrice)||"0.80"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Per message rate"})]})]})]}),r.jsx(q,{className:"border-blue-200 bg-blue-50",children:r.jsx(Y,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Rt,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"How Pricing Works"}),r.jsxs("div",{className:"text-sm text-blue-800 mt-2 space-y-1",children:[r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Global Defaults:"})," Set default per-message prices that apply to all users"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Custom User Pricing:"})," Override defaults for specific users in User Settings  Pricing tab"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Effective Pricing:"})," Users inherit global defaults unless they have custom pricing configured"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Message Categories:"})," Marketing (promotional), Utility (transactional), Authentication (OTP/verification)"]})]})]})]})})}),r.jsx(SL,{}),r.jsx(q,{className:"border-dashed border-2 border-gray-300",children:r.jsxs(ae,{children:[r.jsx(ie,{className:"text-gray-500",children:"Coming Soon"}),r.jsx(je,{children:"Additional features like bulk pricing updates, pricing analytics, and usage reports will be available in future updates."})]})})]})})}const kL=()=>{const e=Xi(),{notifications:t,clearAllNotifications:s}=cx(),[n,a]=h.useState(0),i=[{type:"success",message:"Campaign sent successfully to 150 recipients!"},{type:"error",message:"Failed to load WhatsApp templates. Please try again."},{type:"warning",message:"Your credit balance is running low (25 credits remaining)."},{type:"info",message:'New template approval received for "Welcome Message".'},{type:"success",message:"File uploaded successfully. Processing 200 contacts."},{type:"error",message:"API rate limit exceeded. Please wait 60 seconds."},{type:"warning",message:"Some phone numbers in your list are invalid."},{type:"info",message:"Your WhatsApp Business account verification is pending."}],o=()=>{const d=i[n%i.length];e[d.type](d.message),a(n+1)},l=()=>{setTimeout(()=>e.success("Message 1: Campaign created successfully"),100),setTimeout(()=>e.info("Message 2: Processing recipients..."),600),setTimeout(()=>e.warning("Message 3: Some numbers are invalid"),1100),setTimeout(()=>e.error("Message 4: Sending failed for 5 numbers"),1600),setTimeout(()=>e.success("Message 5: Campaign completed!"),2100)},c=()=>{e.info("Starting campaign setup..."),setTimeout(()=>e.success("Template loaded successfully"),1e3),setTimeout(()=>e.info("Validating 150 phone numbers..."),2e3),setTimeout(()=>e.warning("3 invalid numbers found and removed"),3e3),setTimeout(()=>e.info("Sending messages to 147 recipients..."),4e3),setTimeout(()=>e.success("Campaign sent! 145 delivered, 2 failed"),6e3)};return r.jsx(at,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Notification System Test"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Test and verify the real-time notification system across all pages"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(Y_,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{children:"Single Notifications"})]}),r.jsx(je,{children:"Test individual notification types one by one"})]}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs(U,{onClick:()=>e.success("Success notification test!"),className:"bg-green-600 hover:bg-green-700",children:[r.jsx(Je,{className:"w-4 h-4 mr-2"}),"Success"]}),r.jsxs(U,{onClick:()=>e.error("Error notification test!"),className:"bg-red-600 hover:bg-red-700",children:[r.jsx(mr,{className:"w-4 h-4 mr-2"}),"Error"]}),r.jsxs(U,{onClick:()=>e.warning("Warning notification test!"),className:"bg-yellow-600 hover:bg-yellow-700",children:[r.jsx(Ms,{className:"w-4 h-4 mr-2"}),"Warning"]}),r.jsxs(U,{onClick:()=>e.info("Info notification test!"),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Info"]})]}),r.jsxs(U,{onClick:o,variant:"outline",className:"w-full",children:[r.jsx(Pm,{className:"w-4 h-4 mr-2"}),"Cycle Through Real Messages (",n,"/8)"]})]})]})}),r.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center space-x-2",children:[r.jsx(T_,{className:"w-5 h-5 text-purple-600"}),r.jsx("span",{children:"Bulk Testing"})]}),r.jsx(je,{children:"Test multiple notifications and real-world scenarios"})]}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs(U,{onClick:l,className:"w-full bg-purple-600 hover:bg-purple-700",children:[r.jsx(Pm,{className:"w-4 h-4 mr-2"}),"Send 5 Sequential Notifications"]}),r.jsxs(U,{onClick:c,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:[r.jsx(Pm,{className:"w-4 h-4 mr-2"}),"Simulate Campaign Flow"]}),r.jsx(U,{onClick:s,variant:"outline",className:"w-full",children:"Clear All Notifications"})]})]})})]}),r.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsx(ie,{children:"Notification Status"}),r.jsx(je,{children:"Current state of the notification system"})]}),r.jsxs(Y,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.length}),r.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Total"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.filter(d=>d.type==="success").length}),r.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Success"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:t.filter(d=>d.type==="error").length}),r.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Errors"})]}),r.jsxs("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:t.filter(d=>!d.read).length}),r.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:"Unread"})]})]}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Instructions:"}),r.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[r.jsx("li",{children:" Check the notification bell () in the top header"}),r.jsx("li",{children:" Click the bell to see the dropdown with all notifications"}),r.jsx("li",{children:" Notifications should show unread count badge"}),r.jsx("li",{children:" Success/Info messages auto-dismiss after 6 seconds"}),r.jsx("li",{children:" Error/Warning messages persist until manually dismissed"}),r.jsx("li",{children:" Try navigating to other pages - notifications should persist"})]})]})]})]})})]})})};function TL(){const e=xt(),{user:t}=Bs(),[s,n]=h.useState(new Date);h.useEffect(()=>{const c=setInterval(()=>{n(new Date)},6e4);return()=>clearInterval(c)},[]);const a=c=>c.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),i=c=>c.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o={credits:(t==null?void 0:t.creditBalance)||0},l=[{id:"send-bulk",title:"Send Bulk Messages",description:"Broadcast messages to multiple contacts",icon:xr,path:"/user/whatsapp-bulk",color:"bg-blue-600 hover:bg-blue-700",iconBg:"bg-blue-500"},{id:"create-template",title:"Create Template",description:"Design reusable message templates",icon:St,path:"/user/templates",color:"bg-emerald-600 hover:bg-emerald-700",iconBg:"bg-emerald-500"},{id:"view-reports",title:"View Reports",description:"Analyze your campaign performance",icon:Ui,path:"/user/manage-reports",color:"bg-purple-600 hover:bg-purple-700",iconBg:"bg-purple-500"},{id:"customize",title:"Customize Messages",description:"Personalize your messaging campaigns",icon:Is,path:"/user/customize-message",color:"bg-orange-600 hover:bg-orange-700",iconBg:"bg-orange-500"}];return r.jsxs(at,{title:"Dashboard",subtitle:`Welcome back, ${t==null?void 0:t.name}! Here's your WhatsApp Business overview.`,children:[r.jsx(ws,{children:r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 lg:p-8 mb-6 lg:mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6 lg:gap-8",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Nt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Good ",new Date().getHours()<12?"morning":new Date().getHours()<17?"afternoon":"evening",", ",t==null?void 0:t.name,"!"]}),r.jsxs("p",{className:"text-gray-600",children:[i(s),"  ",a(s)]})]})]}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Ready to connect with your customers through WhatsApp Business messaging."})]}),r.jsx("div",{className:"flex gap-6",children:r.jsxs("div",{className:"text-center px-6 py-4 bg-gray-50 rounded-xl",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.credits.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600",children:"Available Credits"}),r.jsxs(U,{size:"sm",onClick:()=>e("/user/wallet"),className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(ea,{className:"h-3 w-3 mr-1"}),"Top Up"]})]})})]})})}),r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{children:[r.jsx(ws,{delay:.05,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4 sm:py-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Quick Actions"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Get started with common tasks"})]}),r.jsxs(U,{variant:"outline",size:"sm",onClick:()=>e("/user/whatsapp-bulk"),className:"hidden sm:flex",children:[r.jsx(qr,{className:"h-4 w-4 mr-2"}),"New Campaign"]})]})}),r.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:r.jsx(rS,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:l.map((c,d)=>{const u=c.icon;return r.jsxs(xf,{onClick:()=>e(c.path),className:"group p-6 rounded-xl border border-gray-200 hover:border-gray-300 transition-all duration-200 text-left bg-white hover:bg-gray-50 cursor-pointer",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`w-12 h-12 ${c.iconBg} rounded-xl flex items-center justify-center shadow-sm group-hover:shadow-md transition-shadow`,children:r.jsx(u,{className:"h-6 w-6 text-white"})}),r.jsx(Xp,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-600 transition-colors"})]}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-gray-800 transition-colors",children:c.title}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:c.description})]},c.id)})})})]})}),r.jsx(ws,{delay:.1,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 mt-8",children:[r.jsx("div",{className:"px-8 py-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Account Overview"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Your account status and key metrics"})]}),r.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e("/user/manage-reports"),className:"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50",children:["View Details",r.jsx(C_,{className:"h-4 w-4 ml-2"})]})]})}),r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:r.jsxs(xf,{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-sm",children:r.jsx(ea,{className:"h-6 w-6 text-white"})}),r.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-2",children:o.credits.toLocaleString()}),r.jsx("div",{className:"text-blue-700 font-medium mb-1",children:"Available Credits"}),r.jsx("div",{className:"text-blue-600 text-xs mb-3",children:"Ready to use"}),r.jsxs(U,{size:"sm",onClick:()=>e("/user/wallet"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(bd,{className:"h-3 w-3 mr-1"}),"Top Up Wallet"]})]})})})]})})]})})]})}const es=h.forwardRef(({className:e,children:t,value:s,onValueChange:n,onChange:a,...i},o)=>r.jsxs("div",{className:"relative",children:[r.jsx("select",{className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none pr-8",e),ref:o,value:s,onChange:l=>{a==null||a(l),n==null||n(l.target.value)},...i,children:t}),r.jsx(DN,{className:"absolute right-3 top-3 h-4 w-4 opacity-50 pointer-events-none"})]}));es.displayName="Select";const vs=({children:e})=>r.jsx(r.Fragment,{children:e}),Ge=({value:e,children:t})=>r.jsx("option",{value:e,children:t}),bs=({children:e,...t})=>r.jsx("div",{...t,children:e}),is=({placeholder:e})=>r.jsx("option",{value:"",disabled:!0,children:e});class PL extends h.Component{constructor(s){super(s);Lx(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0}),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Template rendering error:",s,n),s.message.includes("icon")&&console.error(" [TEMPLATE_ERROR] Icon property access error detected",{templateName:this.props.templateName,error:s.message,stack:s.stack})}render(){var s,n,a,i,o,l;if(this.state.hasError){const c=((n=(s=this.state.error)==null?void 0:s.message)==null?void 0:n.includes("icon"))||((i=(a=this.state.error)==null?void 0:a.message)==null?void 0:i.includes("Cannot read properties of undefined"));return r.jsxs("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ls,{className:"h-5 w-5 text-red-600"}),r.jsxs("h3",{className:"font-medium text-red-800",children:["Template Rendering Error",this.props.templateName&&` - ${this.props.templateName}`]})]}),r.jsx("div",{className:"text-sm text-red-700 mb-4",children:c?r.jsxs("div",{children:[r.jsx("p",{className:"font-medium mb-2",children:" Template Data Corruption Detected"}),r.jsx("p",{className:"mb-2",children:"This template has corrupted component data (missing icon property)."}),r.jsxs("p",{className:"text-xs bg-red-100 p-2 rounded font-mono",children:["Error: ",(o=this.state.error)==null?void 0:o.message]})]}):r.jsxs("div",{children:[r.jsx("p",{children:"An error occurred while rendering this template."}),r.jsx("p",{className:"text-xs bg-red-100 p-2 rounded font-mono mt-2",children:(l=this.state.error)==null?void 0:l.message})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(U,{variant:"outline",size:"sm",onClick:this.handleRetry,className:"flex items-center gap-1",children:[r.jsx(sa,{className:"h-3 w-3"}),"Try Again"]}),this.props.onDelete&&r.jsxs(U,{variant:"outline",size:"sm",onClick:this.props.onDelete,className:"flex items-center gap-1 text-red-600 border-red-300 hover:bg-red-50",children:[r.jsx(an,{className:"h-3 w-3"}),"Delete Corrupted Template"]}),r.jsx(U,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"flex items-center gap-1",children:" Reload Page"})]}),c&&r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2",children:" Quick Fix:"}),r.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[r.jsx("li",{children:"1. Open browser console (F12)"}),r.jsxs("li",{children:["2. Run: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"fixTemplatePageImmediately()"})]}),r.jsx("li",{children:"3. This will automatically fix the corrupted template data"})]})]})]})}return this.props.children}}const EL=PL;function AL({currentUser:e}){var P,E;const t=xt(),[s,n]=h.useState([]),[a,i]=h.useState(null),[o,l]=h.useState(!0),[c,d]=h.useState(""),[u,m]=h.useState(""),[f,p]=h.useState("ALL"),[w,y]=h.useState("ALL"),[j,v]=h.useState({open:!1,template:null}),[g,x]=h.useState({open:!1,template:null});h.useEffect(()=>{b()},[f,w]);const b=async(N=1)=>{try{l(!0),d("");const I=new URLSearchParams({page:N.toString(),limit:"20"});f!=="ALL"&&I.append("status",f),w!=="ALL"&&I.append("category",w);const A=await fetch(`/api/templates?${I}`,{credentials:"include"});if(A.ok){const z=await A.json();n(z.data||[]),i(z.pagination)}else{const z=await A.json();d(z.error||"Failed to fetch templates")}}catch(I){d("Network error occurred"),n([]),console.error("Fetch templates error:",I)}finally{l(!1)}},S=async()=>{if(g.template)try{const N=await fetch(`/api/templates/${g.template.id}`,{method:"DELETE",credentials:"include"});if(N.ok)x({open:!1,template:null}),b((a==null?void 0:a.currentPage)||1);else{const I=await N.json();d(I.error||"Failed to delete template")}}catch(N){d("Network error occurred"),console.error("Delete template error:",N)}},k=async N=>{try{const I=await fetch(`/api/templates/${N}/submit`,{method:"POST",credentials:"include"});if(I.ok)b((a==null?void 0:a.currentPage)||1);else{const A=await I.json();d(A.error||"Failed to submit template")}}catch(I){d("Network error occurred"),console.error("Submit template error:",I)}},T=N=>{const A={DRAFT:{variant:"secondary",icon:py,label:"Draft",className:"bg-gray-100 text-gray-800 hover:bg-gray-200"},IN_REVIEW:{variant:"default",icon:pr,label:"In Review",className:"bg-blue-100 text-blue-800 hover:bg-blue-200"},PENDING:{variant:"default",icon:pr,label:"Pending",className:"bg-blue-100 text-blue-800 hover:bg-blue-200"},APPROVED:{variant:"default",icon:Je,label:"Approved",className:"bg-green-100 text-green-800 hover:bg-green-200"},ACTIVE:{variant:"default",icon:Je,label:"Active",className:"bg-green-100 text-green-800 hover:bg-green-200"},REJECTED:{variant:"destructive",icon:mr,label:"Rejected",className:"bg-red-100 text-red-800 hover:bg-red-200"},PAUSED:{variant:"secondary",icon:z_,label:"Paused",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"},DISABLED:{variant:"destructive",icon:k_,label:"Disabled",className:"bg-red-100 text-red-800 hover:bg-red-200"},APPEAL_REQUESTED:{variant:"default",icon:ls,label:"Appeal Requested",className:"bg-orange-100 text-orange-800 hover:bg-orange-200"}}[N]??{variant:"default",icon:ls,label:"Unknown",className:"bg-gray-100 text-gray-800"},z=A.icon;return r.jsxs(ke,{variant:A.variant,className:`flex items-center gap-1 ${A.className}`,children:[r.jsx(z,{className:"h-3 w-3"}),A.label]})},C=N=>{const A={UTILITY:{variant:"default",color:"bg-blue-100 text-blue-800"},MARKETING:{variant:"secondary",color:"bg-green-100 text-green-800"},AUTHENTICATION:{variant:"outline",color:"bg-purple-100 text-purple-800"}}[N]??{variant:"outline",color:"bg-gray-100 text-gray-800"};return r.jsx(ke,{variant:A.variant,className:A.color,children:N||"Unknown"})},D=N=>!N||!Array.isArray(N)?r.jsx("div",{className:"text-sm text-gray-400",children:"No components"}):N.map((I,A)=>!I||typeof I!="object"?null:I.type==="BODY"?r.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:I.text||"No content"},A):null).filter(Boolean),_=(s||[]).filter(N=>u===""||N.name.toLowerCase().includes(u.toLowerCase())||N.category.toLowerCase().includes(u.toLowerCase())),R=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?r.jsx("div",{className:"p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading templates..."})]})}):r.jsxs("div",{className:"p-6",children:[c&&r.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[c,r.jsx("button",{onClick:()=>d(""),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs(U,{onClick:()=>t("/user/templates/create"),children:[r.jsx(qr,{className:"h-4 w-4 mr-2"}),"Create Template"]})}),r.jsx(q,{className:"mb-6",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(G_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(le,{placeholder:"Search templates...",value:u,onChange:N=>m(N.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(es,{value:f,onValueChange:N=>p(N),children:[r.jsx(bs,{className:"w-[140px]",children:r.jsx(is,{placeholder:"All Status"})}),r.jsxs(vs,{children:[r.jsx(Ge,{value:"ALL",children:"All Status"}),r.jsx(Ge,{value:"DRAFT",children:"Draft"}),r.jsx(Ge,{value:"PENDING",children:"Pending"}),r.jsx(Ge,{value:"APPROVED",children:"Approved"}),r.jsx(Ge,{value:"ACTIVE",children:"Active"}),r.jsx(Ge,{value:"REJECTED",children:"Rejected"}),r.jsx(Ge,{value:"PAUSED",children:"Paused"})]})]}),r.jsxs(es,{value:w,onValueChange:N=>y(N),children:[r.jsx(bs,{className:"w-[140px]",children:r.jsx(is,{placeholder:"All Categories"})}),r.jsxs(vs,{children:[r.jsx(Ge,{value:"ALL",children:"All Categories"}),r.jsx(Ge,{value:"UTILITY",children:"Utility"}),r.jsx(Ge,{value:"MARKETING",children:"Marketing"}),r.jsx(Ge,{value:"AUTHENTICATION",children:"Authentication"})]})]}),r.jsx(U,{variant:"outline",onClick:()=>b((a==null?void 0:a.currentPage)||1),children:r.jsx(sa,{className:"h-4 w-4"})})]})]})})}),r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsxs(ie,{children:["Templates (",(a==null?void 0:a.totalTemplates)||0,")"]}),r.jsx(je,{children:"Manage your WhatsApp message templates and their approval status"})]}),r.jsxs(Y,{children:[r.jsxs(Du,{children:[r.jsx(Ou,{children:r.jsxs(qn,{children:[r.jsx(bt,{children:"Name"}),r.jsx(bt,{children:"Category"}),r.jsx(bt,{children:"Status"}),r.jsx(bt,{children:"Language"}),r.jsx(bt,{children:"Content Preview"}),r.jsx(bt,{children:"Quality"}),r.jsx(bt,{children:"Created"}),r.jsx(bt,{children:"Actions"})]})}),r.jsx(Lu,{children:_.length===0?r.jsx(qn,{children:r.jsx(ut,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No templates found. Create your first template to get started."})}):_.map(N=>r.jsxs(qn,{children:[r.jsx(ut,{className:"font-medium",children:N.name}),r.jsx(ut,{children:C(N.category)}),r.jsx(ut,{children:T(N.status)}),r.jsx(ut,{children:N.language}),r.jsx(ut,{children:D(N.components||[])}),r.jsx(ut,{children:N.qualityRating?r.jsx(ke,{variant:N.qualityRating==="HIGH"?"default":"secondary",children:N.qualityRating}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx(ut,{children:R(N.createdAt)}),r.jsx(ut,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>v({open:!0,template:N}),title:"View Details",children:r.jsx(cs,{className:"h-4 w-4"})}),["DRAFT","REJECTED"].includes(N.status)&&r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>t(`/user/templates/${N.id}/edit`),title:"Edit Template",children:r.jsx(py,{className:"h-4 w-4"})}),["DRAFT","REJECTED"].includes(N.status)&&r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>k(N.id),title:"Submit to WhatsApp",children:r.jsx(xr,{className:"h-4 w-4"})}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>x({open:!0,template:N}),title:"Delete Template",children:r.jsx(an,{className:"h-4 w-4"})})]})})]},N.id))})]}),a&&a.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(a.currentPage-1)*20+1," to ",Math.min(a.currentPage*20,a.totalTemplates)," of ",a.totalTemplates," templates"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(U,{variant:"outline",size:"sm",onClick:()=>b(a.currentPage-1),disabled:!a.hasPrev,children:[r.jsx(E_,{className:"h-4 w-4"}),"Previous"]}),r.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",a.currentPage," of ",a.totalPages]}),r.jsxs(U,{variant:"outline",size:"sm",onClick:()=>b(a.currentPage+1),disabled:!a.hasNext,children:["Next",r.jsx(Xp,{className:"h-4 w-4"})]})]})]})]})]}),r.jsx(aa,{open:j.open,onOpenChange:N=>v({open:N,template:null}),children:r.jsxs(un,{className:"max-w-2xl",children:[r.jsxs(ia,{children:[r.jsx(mn,{children:"Template Details"}),r.jsx(hn,{children:(P=j.template)==null?void 0:P.name})]}),j.template&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),r.jsx("p",{className:"text-sm text-gray-900",children:j.template.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),r.jsx("p",{className:"text-sm text-gray-900",children:j.template.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),r.jsx("p",{className:"text-sm text-gray-900",children:T(j.template.status)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Language"}),r.jsx("p",{className:"text-sm text-gray-900",children:j.template.language})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Components"}),r.jsx(EL,{templateName:j.template.name,onRetry:()=>b((a==null?void 0:a.currentPage)||1),children:r.jsx("div",{className:"mt-2 space-y-2",children:(j.template.components||[]).map((N,I)=>!N||typeof N!="object"?r.jsxs("div",{className:"p-3 bg-red-50 rounded-md",children:[r.jsx("div",{className:"font-medium text-xs text-red-500 uppercase",children:"Invalid Component"}),r.jsx("div",{className:"text-sm text-red-600",children:"Component data is corrupted"})]},I):r.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[r.jsx("div",{className:"font-medium text-xs text-gray-500 uppercase",children:N.type||"Unknown"}),N.text&&r.jsx("div",{className:"mt-1 text-sm",children:N.text}),N.format==="IMAGE"&&r.jsxs("div",{className:"mt-1 text-xs text-blue-600",children:[" Image Header ",N.icon?"(with icon)":"(no icon)"]}),N.buttons&&Array.isArray(N.buttons)&&r.jsx("div",{className:"mt-2",children:N.buttons.map((A,z)=>!A||typeof A!="object"?r.jsx(ke,{variant:"outline",className:"mr-2 bg-red-100 text-red-600",children:"Invalid Button"},z):r.jsxs(ke,{variant:"outline",className:"mr-2",children:[A.type||"Unknown",": ",A.text||"No text"]},z))})]},I))})})]}),j.template.rejectionReason&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-red-700",children:"Rejection Reason"}),r.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:j.template.rejectionReason})]})]}),r.jsx(oa,{children:r.jsx(U,{variant:"outline",onClick:()=>v({open:!1,template:null}),children:"Close"})})]})}),r.jsx(aa,{open:g.open,onOpenChange:N=>x({open:N,template:null}),children:r.jsxs(un,{children:[r.jsxs(ia,{children:[r.jsx(mn,{children:"Delete Template"}),r.jsxs(hn,{children:['Are you sure you want to delete "',(E=g.template)==null?void 0:E.name,'"? This action cannot be undone.']})]}),r.jsxs(oa,{children:[r.jsx(U,{variant:"outline",onClick:()=>x({open:!1,template:null}),children:"Cancel"}),r.jsx(U,{variant:"destructive",onClick:S,children:"Delete Template"})]})]})})]})}function _L(){const e=xt(),[t,s]=h.useState(null),[n,a]=h.useState(!0);return h.useEffect(()=>{const i=localStorage.getItem("user");if(!i){e("/login");return}const o=JSON.parse(i);if(o.role!=="user"){e("/admin/dashboard");return}s(o),a(!1)},[e]),n||!t?r.jsx(at,{title:"Templates",subtitle:"Create, edit, and manage your message templates.",children:r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading templates..."})]})})}):r.jsx(at,{title:"Templates",subtitle:"Create, edit, and manage your message templates.",children:r.jsx(AL,{currentUser:t})})}var RL=e=>{switch(e){case"success":return DL;case"info":return LL;case"warning":return OL;case"error":return FL;default:return null}},ML=Array(12).fill(0),IL=({visible:e,className:t})=>K.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},K.createElement("div",{className:"sonner-spinner"},ML.map((s,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),DL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UL=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},Sf=1,BL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sf++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:s}),{...l,...e,id:a,dismissible:o,title:s}):l):this.addToast({title:s,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=s!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],K.isValidElement(c))a=!1,this.create({id:s,type:"default",message:c});else if($L(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:s,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:s,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:s,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(s),s=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Sf++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gs=new BL,zL=(e,t)=>{let s=(t==null?void 0:t.id)||Sf++;return gs.addToast({title:e,...t,id:s}),s},$L=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",WL=zL,HL=()=>gs.toasts,GL=()=>gs.getActiveToasts(),Cn=Object.assign(WL,{success:gs.success,info:gs.info,warning:gs.warning,error:gs.error,custom:gs.custom,message:gs.message,promise:gs.promise,dismiss:gs.dismiss,loading:gs.loading},{getHistory:HL,getToasts:GL});function KL(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}KL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function mc(e){return e.label!==void 0}var qL=3,YL="32px",ZL="16px",Tv=4e3,QL=356,XL=14,JL=20,eF=200;function ar(...e){return e.filter(Boolean).join(" ")}function tF(e){let[t,s]=e.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}var sF=e=>{var t,s,n,a,i,o,l,c,d,u,m;let{invert:f,toast:p,unstyled:w,interacting:y,setHeights:j,visibleToasts:v,heights:g,index:x,toasts:b,expanded:S,removeToast:k,defaultRichColors:T,closeButton:C,style:D,cancelButtonStyle:_,actionButtonStyle:R,className:P="",descriptionClassName:E="",duration:N,position:I,gap:A,loadingIcon:z,expandByDefault:O,classNames:L,icons:B,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:G}=e,[de,ve]=K.useState(null),[Pe,Me]=K.useState(null),[ge,Dt]=K.useState(!1),[De,Fe]=K.useState(!1),[tt,gt]=K.useState(!1),[Tt,fs]=K.useState(!1),[jr,zs]=K.useState(!1),[wr,Xe]=K.useState(0),[Ts,M]=K.useState(0),V=K.useRef(p.duration||N||Tv),W=K.useRef(null),te=K.useRef(null),se=x===0,Q=x+1<=v,X=p.type,Ee=p.dismissible!==!1,Be=p.className||"",$=p.descriptionClassName||"",re=K.useMemo(()=>g.findIndex(xe=>xe.toastId===p.id)||0,[g,p.id]),ye=K.useMemo(()=>{var xe;return(xe=p.closeButton)!=null?xe:C},[p.closeButton,C]),Ie=K.useMemo(()=>p.duration||N||Tv,[p.duration,N]),Ae=K.useRef(0),Ce=K.useRef(0),dt=K.useRef(0),st=K.useRef(null),[tr,$s]=I.split("-"),to=K.useMemo(()=>g.reduce((xe,Ue,Ze)=>Ze>=re?xe:xe+Ue.height,0),[g,re]),F=UL(),J=p.invert||f,Oe=X==="loading";Ce.current=K.useMemo(()=>re*A+to,[re,to]),K.useEffect(()=>{V.current=Ie},[Ie]),K.useEffect(()=>{Dt(!0)},[]),K.useEffect(()=>{let xe=te.current;if(xe){let Ue=xe.getBoundingClientRect().height;return M(Ue),j(Ze=>[{toastId:p.id,height:Ue,position:p.position},...Ze]),()=>j(Ze=>Ze.filter(ps=>ps.toastId!==p.id))}},[j,p.id]),K.useLayoutEffect(()=>{if(!ge)return;let xe=te.current,Ue=xe.style.height;xe.style.height="auto";let Ze=xe.getBoundingClientRect().height;xe.style.height=Ue,M(Ze),j(ps=>ps.find(sr=>sr.toastId===p.id)?ps.map(sr=>sr.toastId===p.id?{...sr,height:Ze}:sr):[{toastId:p.id,height:Ze,position:p.position},...ps])},[ge,p.title,p.description,j,p.id]);let He=K.useCallback(()=>{Fe(!0),Xe(Ce.current),j(xe=>xe.filter(Ue=>Ue.toastId!==p.id)),setTimeout(()=>{k(p)},eF)},[p,k,j,Ce]);K.useEffect(()=>{if(p.promise&&X==="loading"||p.duration===1/0||p.type==="loading")return;let xe;return S||y||G&&F?(()=>{if(dt.current<Ae.current){let Ue=new Date().getTime()-Ae.current;V.current=V.current-Ue}dt.current=new Date().getTime()})():V.current!==1/0&&(Ae.current=new Date().getTime(),xe=setTimeout(()=>{var Ue;(Ue=p.onAutoClose)==null||Ue.call(p,p),He()},V.current)),()=>clearTimeout(xe)},[S,y,p,X,G,F,He]),K.useEffect(()=>{p.delete&&He()},[He,p.delete]);function Ws(){var xe,Ue,Ze;return B!=null&&B.loading?K.createElement("div",{className:ar(L==null?void 0:L.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":X==="loading"},B.loading):z?K.createElement("div",{className:ar(L==null?void 0:L.loader,(Ue=p==null?void 0:p.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":X==="loading"},z):K.createElement(IL,{className:ar(L==null?void 0:L.loader,(Ze=p==null?void 0:p.classNames)==null?void 0:Ze.loader),visible:X==="loading"})}return K.createElement("li",{tabIndex:0,ref:te,className:ar(P,Be,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[X],(s=p==null?void 0:p.classNames)==null?void 0:s[X]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:T,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":ge,"data-promise":!!p.promise,"data-swiped":jr,"data-removed":De,"data-visible":Q,"data-y-position":tr,"data-x-position":$s,"data-index":x,"data-front":se,"data-swiping":tt,"data-dismissible":Ee,"data-type":X,"data-invert":J,"data-swipe-out":Tt,"data-swipe-direction":Pe,"data-expanded":!!(S||O&&ge),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${De?wr:Ce.current}px`,"--initial-height":O?"auto":`${Ts}px`,...D,...p.style},onDragEnd:()=>{gt(!1),ve(null),st.current=null},onPointerDown:xe=>{Oe||!Ee||(W.current=new Date,Xe(Ce.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(gt(!0),st.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Ue,Ze,ps;if(Tt||!Ee)return;st.current=null;let sr=Number(((xe=te.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yn=Number(((Ue=te.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pa=new Date().getTime()-((Ze=W.current)==null?void 0:Ze.getTime()),rr=de==="x"?sr:yn,vn=Math.abs(rr)/pa;if(Math.abs(rr)>=JL||vn>.11){Xe(Ce.current),(ps=p.onDismiss)==null||ps.call(p,p),Me(de==="x"?sr>0?"right":"left":yn>0?"down":"up"),He(),fs(!0),zs(!1);return}gt(!1),ve(null)},onPointerMove:xe=>{var Ue,Ze,ps,sr;if(!st.current||!Ee||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;let yn=xe.clientY-st.current.y,pa=xe.clientX-st.current.x,rr=(Ze=e.swipeDirections)!=null?Ze:tF(I);!de&&(Math.abs(pa)>1||Math.abs(yn)>1)&&ve(Math.abs(pa)>Math.abs(yn)?"x":"y");let vn={x:0,y:0};de==="y"?(rr.includes("top")||rr.includes("bottom"))&&(rr.includes("top")&&yn<0||rr.includes("bottom")&&yn>0)&&(vn.y=yn):de==="x"&&(rr.includes("left")||rr.includes("right"))&&(rr.includes("left")&&pa<0||rr.includes("right")&&pa>0)&&(vn.x=pa),(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&zs(!0),(ps=te.current)==null||ps.style.setProperty("--swipe-amount-x",`${vn.x}px`),(sr=te.current)==null||sr.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},ye&&!p.jsx?K.createElement("button",{"aria-label":H,"data-disabled":Oe,"data-close-button":!0,onClick:Oe||!Ee?()=>{}:()=>{var xe;He(),(xe=p.onDismiss)==null||xe.call(p,p)},className:ar(L==null?void 0:L.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=B==null?void 0:B.close)!=null?i:VL):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:K.createElement(K.Fragment,null,X||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:ar(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ws():null,p.type!=="loading"?p.icon||(B==null?void 0:B[X])||RL(X):null):null,K.createElement("div",{"data-content":"",className:ar(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},K.createElement("div",{"data-title":"",className:ar(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?K.createElement("div",{"data-description":"",className:ar(E,$,L==null?void 0:L.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&mc(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||_,onClick:xe=>{var Ue,Ze;mc(p.cancel)&&Ee&&((Ze=(Ue=p.cancel).onClick)==null||Ze.call(Ue,xe),He())},className:ar(L==null?void 0:L.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&mc(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:xe=>{var Ue,Ze;mc(p.action)&&((Ze=(Ue=p.action).onClick)==null||Ze.call(Ue,xe),!xe.defaultPrevented&&He())},className:ar(L==null?void 0:L.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function Pv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rF(e,t){let s={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?ZL:YL;function c(d){["top","right","bottom","left"].forEach(u=>{s[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?s[`${o}-${d}`]=l:s[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),s}h.forwardRef(function(e,t){let{invert:s,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:m,duration:f,style:p,visibleToasts:w=qL,toastOptions:y,dir:j=Pv(),gap:v=XL,loadingIcon:g,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:S}=e,[k,T]=K.useState([]),C=K.useMemo(()=>Array.from(new Set([n].concat(k.filter(G=>G.position).map(G=>G.position)))),[k,n]),[D,_]=K.useState([]),[R,P]=K.useState(!1),[E,N]=K.useState(!1),[I,A]=K.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=K.useRef(null),O=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=K.useRef(null),B=K.useRef(!1),H=K.useCallback(G=>{T(de=>{var ve;return(ve=de.find(Pe=>Pe.id===G.id))!=null&&ve.delete||gs.dismiss(G.id),de.filter(({id:Pe})=>Pe!==G.id)})},[]);return K.useEffect(()=>gs.subscribe(G=>{if(G.dismiss){T(de=>de.map(ve=>ve.id===G.id?{...ve,delete:!0}:ve));return}setTimeout(()=>{Hj.flushSync(()=>{T(de=>{let ve=de.findIndex(Pe=>Pe.id===G.id);return ve!==-1?[...de.slice(0,ve),{...de[ve],...G},...de.slice(ve+1)]:[G,...de]})})})}),[]),K.useEffect(()=>{if(u!=="system"){A(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:de})=>{A(de?"dark":"light")})}catch{G.addListener(({matches:ve})=>{try{A(ve?"dark":"light")}catch(Pe){console.error(Pe)}})}},[u]),K.useEffect(()=>{k.length<=1&&P(!1)},[k]),K.useEffect(()=>{let G=de=>{var ve,Pe;a.every(Me=>de[Me]||de.code===Me)&&(P(!0),(ve=z.current)==null||ve.focus()),de.code==="Escape"&&(document.activeElement===z.current||(Pe=z.current)!=null&&Pe.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),K.useEffect(()=>{if(z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[z.current]),K.createElement("section",{ref:t,"aria-label":`${b} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((G,de)=>{var ve;let[Pe,Me]=G.split("-");return k.length?K.createElement("ol",{key:G,dir:j==="auto"?Pv():j,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":Pe,"data-lifted":R&&k.length>1&&!i,"data-x-position":Me,style:{"--front-toast-height":`${((ve=D[0])==null?void 0:ve.height)||0}px`,"--width":`${QL}px`,"--gap":`${v}px`,...p,...rF(c,d)},onBlur:ge=>{B.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=ge.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{E||P(!1)},onDragEnd:()=>P(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},k.filter(ge=>!ge.position&&de===0||ge.position===G).map((ge,Dt)=>{var De,Fe;return K.createElement(sF,{key:ge.id,icons:x,index:Dt,toast:ge,defaultRichColors:m,duration:(De=y==null?void 0:y.duration)!=null?De:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:s,visibleToasts:w,closeButton:(Fe=y==null?void 0:y.closeButton)!=null?Fe:o,interacting:E,position:G,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:H,toasts:k.filter(tt=>tt.position==ge.position),heights:D.filter(tt=>tt.position==ge.position),setHeights:_,expandByDefault:i,gap:v,loadingIcon:g,expanded:R,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const Mx=h.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Mx.displayName="Textarea";const nF=[{value:"UTILITY",label:"Utility",description:"Transactional messages like order confirmations, shipping updates, appointment reminders"},{value:"MARKETING",label:"Marketing",description:"Promotional messages, offers, product announcements, and sales content"},{value:"AUTHENTICATION",label:"Authentication",description:"One-time passwords (OTP) and verification codes for user authentication"}],aF=[{value:"QUICK_REPLY",label:"Quick Reply",description:"Send predefined text back to business"},{value:"URL",label:"Website",description:"Open a website URL"},{value:"PHONE_NUMBER",label:"Phone Call",description:"Make a phone call"},{value:"OTP",label:"Copy Code",description:"Copy OTP code (Authentication only)"}],Ev=[{name:"1",example:"John Doe"},{name:"2",example:"12345"},{name:"3",example:"$99.99"},{name:"4",example:"Dec 25, 2024"},{name:"5",example:"Order Confirmed"},{name:"6",example:"Tracking Number"},{name:"7",example:"Delivery Address"},{name:"8",example:"Payment Method"},{name:"9",example:"Customer ID"},{name:"10",example:"Reference Number"}];function iF({}){const e=xt(),[t,s]=h.useState(!1),[n,a]=h.useState({}),[i,o]=h.useState({}),[l,c]=h.useState({name:"",category:"UTILITY",language:"en_US",headerType:"none",headerText:"",headerMedia:null,bodyText:"",footerText:"",buttons:[],otpType:"COPY_CODE",otpButtonText:"Copy Code",codeExpirationMinutes:10,addSecurityRecommendation:!0}),[d,u]=h.useState(!1),[m,f]=h.useState(!1),[p,w]=h.useState(!1),[y,j]=h.useState(null),[v,g]=h.useState(null),x=h.useRef(null);h.useEffect(()=>()=>{y&&URL.revokeObjectURL(y)},[]),h.useEffect(()=>{l.category==="AUTHENTICATION"?(l.headerType!=="none"||l.footerText||l.buttons.length>0||l.bodyText!=="")&&(b({headerType:"none",headerText:"",headerMedia:null,footerText:"",buttons:[],bodyText:""}),j(null),g(null)):l.category},[l.category]),h.useEffect(()=>{const N={};if(l.bodyText){const I=l.bodyText.match(/\{\{(\d+)\}\}/g),A=l.bodyText.match(/\{\{([a-zA-Z_][a-zA-Z0-9_]*)\}\}/g);I&&I.forEach(z=>{const O=z.slice(2,-2),L=Ev[parseInt(O)-1];N[O]=i[O]||(L==null?void 0:L.example)||`Example ${O}`}),A&&A.forEach(z=>{const O=z.slice(2,-2);if(!O.match(/^\d+$/)){const L=Ev.find(B=>B.name===O);N[O]=i[O]||(L==null?void 0:L.example)||`[${O}]`}})}a(N)},[l.bodyText,i]);const b=N=>{c(I=>({...I,...N}))},S=()=>{const N={type:"QUICK_REPLY",text:""};b({buttons:[...l.buttons,N]})},k=N=>{b({buttons:l.buttons.filter((I,A)=>A!==N)})},T=(N,I)=>{const A=l.buttons.map((z,O)=>O===N?{...z,...I}:z);b({buttons:A})},C=()=>{const N=l.bodyText,A=(N.match(/\{\{\d+\}\}/g)||[]).length+1,z=`${N}{{${A}}}`;b({bodyText:z}),o(O=>({...O,[A.toString()]:`Sample${A}`})),u(!1)},D=N=>(N.match(/\{\{\d+\}\}/g)||[]).map(A=>A.replace(/[{}]/g,"")),_=()=>{const N=[];return l.name.trim()?/^[a-z0-9_]{1,60}$/.test(l.name)||N.push("Template name must be 1-60 characters long and contain only lowercase letters, numbers, and underscores"):N.push("Template name is required"),l.category==="AUTHENTICATION"?((l.codeExpirationMinutes<1||l.codeExpirationMinutes>90)&&N.push("Code expiration must be between 1 and 90 minutes"),["COPY_CODE","ONE_TAP"].includes(l.otpType)||N.push("OTP type must be either COPY_CODE or ONE_TAP"),l.headerType!=="none"&&N.push("AUTHENTICATION templates cannot have headers"),l.footerText.trim()&&N.push("AUTHENTICATION templates cannot have footers"),l.buttons.length>0&&N.push("AUTHENTICATION templates cannot have custom buttons"),l.bodyText.trim()&&N.push("AUTHENTICATION templates have fixed body text and cannot be customized")):(l.bodyText.trim()||N.push("Body text is required"),l.headerType==="text"&&l.headerText.length>60&&N.push("Header text cannot exceed 60 characters"),l.footerText.length>60&&N.push("Footer text cannot exceed 60 characters"),l.buttons.length>10&&N.push("Cannot have more than 10 buttons"),l.buttons.forEach((I,A)=>{I.text.trim()||N.push(`Button ${A+1} must have text`),I.text.length>25&&N.push("Button text cannot exceed 25 characters"),I.type==="URL"&&I.url&&!/^https?:\/\/.+/.test(I.url)&&N.push(`Invalid URL format in button ${A+1}`),I.type==="PHONE_NUMBER"&&I.phone_number&&!/^\+?[\d\s-()]+$/.test(I.phone_number)&&N.push(`Invalid phone number format in button ${A+1}`)})),N},R=async N=>{const I=N.type.startsWith("video/")?16777216:5242880;if(N.size>I){const O=I/1048576;Cn.error(`File size must be less than ${O}MB`);return}let A;if(N.type.startsWith("image/"))A="image";else if(N.type.startsWith("video/"))A="video";else if(N.type==="application/pdf"||N.type.startsWith("application/"))A="document";else{Cn.error("Please upload a valid image, video, or document file");return}w(!0);const z=URL.createObjectURL(N);j(z),g(A),b({headerMedia:N}),w(!1),Cn.success("Media ready for upload")},P=async(N=!1)=>{const I=_();if(I.length>0){Cn.error(I.join(", "));return}s(!0);try{let A;if(l.category==="AUTHENTICATION"){const z={name:l.name,language:l.language,otp_type:l.otpType,otp_button_text:l.otpButtonText,code_expiration_minutes:l.codeExpirationMinutes,add_security_recommendation:l.addSecurityRecommendation,allow_category_change:!1};A=await fetch("https://primesms.app/api/templates/authentication",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z),credentials:"include"})}else{const z=new FormData;z.append("name",l.name),z.append("category",l.category),z.append("language",l.language),z.append("bodyText",l.bodyText),l.headerType==="text"&&l.headerText?z.append("headerText",l.headerText):["image","video","document"].includes(l.headerType)&&l.headerMedia&&z.append("headerMedia",l.headerMedia),l.footerText&&z.append("footerText",l.footerText),l.buttons.length>0&&z.append("buttons",JSON.stringify(l.buttons)),Object.keys(i).length>0&&z.append("variableExamples",JSON.stringify(i)),N&&z.append("submit_to_whatsapp","true"),A=await fetch("https://primesms.app/api/templates",{method:"POST",body:z,credentials:"include"})}if(A.ok)Cn.success(l.category==="AUTHENTICATION"?"Authentication template created and submitted to WhatsApp!":N?"Template created and submitted to WhatsApp for review!":"Template created successfully!"),e("/user/templates");else{const z=await A.json();Cn.error(z.message||z.error||"Failed to create template")}}catch(A){console.error("Create template error:",A),Cn.error("Network error occurred")}finally{s(!1)}},E=()=>{const N=I=>{if(!I)return"";let A=I;return Object.entries(n).forEach(([z,O])=>{A=A.replace(new RegExp(`\\{\\{${z}\\}\\}`,"g"),O)}),A};return r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl",children:r.jsxs("div",{className:"max-w-sm mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden border-4 border-gray-800",children:[r.jsxs("div",{className:"bg-black text-white text-xs p-2 flex justify-between items-center",children:[r.jsx("span",{children:"9:41"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),r.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),r.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]}),r.jsx("span",{children:"100%"})]}),r.jsxs("div",{className:"bg-green-600 text-white p-4 flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mr-3",children:r.jsx(Nt,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Prime SMS"}),r.jsx("div",{className:"text-xs opacity-90",children:"Business Account"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 min-h-[300px] relative",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23e5e7eb' fill-opacity='0.1'%3E%3Cpath d='M0 0h40v40H0z'/%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"40px 40px"},children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border max-w-[85%] ml-auto",children:[l.headerType==="image"&&y&&r.jsx("div",{className:"rounded-t-lg overflow-hidden",children:r.jsx("img",{src:y,alt:"Header preview",className:"w-full h-auto max-h-40 object-cover"})}),l.headerType==="video"&&y&&r.jsx("div",{className:"rounded-t-lg overflow-hidden bg-gray-100",children:r.jsx("video",{src:y,className:"w-full h-auto max-h-40 object-cover",controls:!0})}),l.headerType==="document"&&l.headerMedia&&r.jsx("div",{className:"rounded-t-lg overflow-hidden bg-gray-50 p-4 border-b",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-red-100 p-2 rounded",children:r.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M4 18h12V6h-4V2H4v16zm4-12V2l4 4h-4z"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:l.headerMedia.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[(l.headerMedia.size/1024/1024).toFixed(2)," MB"]})]})]})}),l.headerType==="text"&&l.headerText&&r.jsx("div",{className:"p-3 pb-0",children:r.jsx("div",{className:"font-bold text-gray-900 text-sm",children:N(l.headerText)})}),r.jsxs("div",{className:"p-3",children:[r.jsx("div",{className:"text-gray-800 text-sm leading-relaxed whitespace-pre-wrap",children:l.category==="AUTHENTICATION"?r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 italic",children:"Your verification code is: "}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"123456"}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"(This is a preview - actual code will be sent by WhatsApp)"})]}):l.bodyText?N(l.bodyText):r.jsx("span",{className:"text-gray-400 italic",children:"Start typing your message..."})}),l.footerText&&r.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:r.jsx("div",{className:"text-xs text-gray-500",children:N(l.footerText)})}),r.jsx("div",{className:"flex justify-end mt-2",children:r.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[r.jsx("span",{children:"Now"}),r.jsx(Je,{className:"ml-1 h-3 w-3 text-blue-500"})]})})]}),l.category==="AUTHENTICATION"?r.jsx("div",{className:"border-t border-gray-100 p-1",children:r.jsx("div",{className:"mx-2 my-1 py-2 px-3 text-center text-sm font-medium text-blue-600 hover:bg-blue-50 rounded transition-colors cursor-pointer",children:l.otpButtonText||"Copy Code"})}):l.buttons.length>0&&r.jsx("div",{className:"border-t border-gray-100 p-1",children:l.buttons.map((I,A)=>r.jsx("div",{className:"mx-2 my-1 py-2 px-3 text-center text-sm font-medium text-blue-600 hover:bg-blue-50 rounded transition-colors cursor-pointer",children:I.text||`Button ${A+1}`},A))})]}),Object.keys(n).length>0&&r.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(yu,{className:"h-3 w-3 mr-1"}),r.jsx("span",{children:"Variables Preview:"})]}),Object.entries(n).map(([I,A])=>r.jsxs("div",{className:"ml-4",children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:`{{${I}}}`}),"  ",A]},I))]})]})]})})};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-indigo-50 p-4 md:p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(U,{variant:"ghost",onClick:()=>e("/user/templates"),className:"mr-4 hover:bg-white/60",children:r.jsx(yr,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Create Template"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Design your WhatsApp message template with real-time preview"})]})]}),r.jsx("div",{className:"flex gap-3",children:r.jsxs(aa,{open:m,onOpenChange:f,children:[r.jsxs(U,{variant:"outline",onClick:()=>f(!0),className:"bg-white/80 hover:bg-white border-gray-200",children:[r.jsx(cs,{className:"h-4 w-4 mr-2"}),"Full Preview"]}),r.jsxs(un,{className:"max-w-2xl",children:[r.jsxs(ia,{children:[r.jsx(mn,{children:"Template Preview"}),r.jsx(hn,{children:"See how your template will look on WhatsApp"})]}),E(),r.jsx(oa,{children:r.jsx(U,{variant:"outline",onClick:()=>f(!1),children:"Close"})})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[r.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg",children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center",children:[r.jsx(Rt,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Template Information"]}),r.jsx(je,{children:"Basic details about your WhatsApp template"})]}),r.jsxs(Y,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Template Name *"}),r.jsx(le,{id:"name",value:l.name,onChange:N=>b({name:N.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"_")}),placeholder:"my_template_name",className:"mt-1 font-mono bg-white/80"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only lowercase letters, numbers, and underscores"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"category",className:"text-sm font-medium text-gray-700",children:"Category *"}),r.jsxs(es,{value:l.category,onValueChange:N=>b({category:N}),children:[r.jsx(bs,{className:"mt-1 bg-white/80",children:r.jsx(is,{})}),r.jsx(vs,{children:nF.map(N=>r.jsx(Ge,{value:N.value,children:N.label},N.value))})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"language",className:"text-sm font-medium text-gray-700",children:"Language"}),r.jsxs(es,{value:l.language,onValueChange:N=>b({language:N}),children:[r.jsx(bs,{className:"mt-1 bg-white/80",children:r.jsx(is,{})}),r.jsxs(vs,{children:[r.jsx(Ge,{value:"en_US",children:"English (US)"}),r.jsx(Ge,{value:"en_GB",children:"English (UK)"}),r.jsx(Ge,{value:"es_ES",children:"Spanish"}),r.jsx(Ge,{value:"fr_FR",children:"French"}),r.jsx(Ge,{value:"de_DE",children:"German"}),r.jsx(Ge,{value:"pt_BR",children:"Portuguese (Brazil)"}),r.jsx(Ge,{value:"hi_IN",children:"Hindi"})]})]})]})]})]}),r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg",children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center",children:[r.jsx(tf,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Header ",l.category==="AUTHENTICATION"?"(Not Allowed)":"(Optional)"]}),r.jsx(je,{children:l.category==="AUTHENTICATION"?"AUTHENTICATION templates cannot have headers":l.category==="MARKETING"?"MARKETING templates can have IMAGE or TEXT headers (all components allowed)":"Add a text or image header to your template"})]}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium text-gray-700",children:"Header Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[r.jsx(U,{type:"button",variant:l.headerType==="none"?"default":"outline",size:"sm",onClick:()=>{b({headerType:"none",headerText:"",headerMedia:null}),j(null),g(null)},className:"col-span-1",children:"None"}),r.jsx(U,{type:"button",variant:l.headerType==="text"?"default":"outline",size:"sm",onClick:()=>{b({headerType:"text",headerMedia:null}),j(null),g(null)},disabled:l.category==="AUTHENTICATION",className:"col-span-1",children:"Text"}),r.jsx(U,{type:"button",variant:l.headerType==="image"?"default":"outline",size:"sm",onClick:()=>{b({headerType:"image",headerText:""}),y&&v!=="image"&&(j(null),b({headerMedia:null})),g("image")},disabled:l.category==="AUTHENTICATION",className:"col-span-1",children:" Image"}),r.jsx(U,{type:"button",variant:l.headerType==="video"?"default":"outline",size:"sm",onClick:()=>{b({headerType:"video",headerText:""}),y&&v!=="video"&&(j(null),b({headerMedia:null})),g("video")},disabled:l.category==="AUTHENTICATION",className:"col-span-1",children:" Video"}),r.jsx(U,{type:"button",variant:l.headerType==="document"?"default":"outline",size:"sm",onClick:()=>{b({headerType:"document",headerText:""}),y&&v!=="document"&&(j(null),b({headerMedia:null})),g("document")},disabled:l.category==="AUTHENTICATION",className:"col-span-2",children:" Document"})]})]}),l.headerType==="text"&&r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"headerText",className:"text-sm font-medium text-gray-700",children:"Header Text"}),r.jsx(le,{id:"headerText",value:l.headerText,onChange:N=>b({headerText:N.target.value}),placeholder:"Header text (60 chars max)",maxLength:60,className:"mt-1 bg-white/80"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.headerText.length,"/60 characters"]})]}),["image","video","document"].includes(l.headerType)&&r.jsxs("div",{children:[r.jsxs(pe,{className:"text-sm font-medium text-gray-700",children:["Header ",l.headerType==="image"?"Image":l.headerType==="video"?"Video":"Document"]}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center bg-gray-50/50",children:[y?r.jsxs("div",{className:"space-y-3",children:[l.headerType==="image"&&r.jsx("img",{src:y,alt:"Header preview",className:"max-w-full max-h-32 rounded-lg mx-auto border shadow-sm"}),l.headerType==="video"&&r.jsx("video",{src:y,className:"max-w-full max-h-32 rounded-lg mx-auto border shadow-sm",controls:!0}),l.headerType==="document"&&l.headerMedia&&r.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm max-w-sm mx-auto",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-red-100 p-2 rounded",children:r.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M4 18h12V6h-4V2H4v16zm4-12V2l4 4h-4z"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:l.headerMedia.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(l.headerMedia.size/1024/1024).toFixed(2)," MB"]})]})]})}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{var N;return(N=x.current)==null?void 0:N.click()},disabled:p,children:[r.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Change ",l.headerType==="image"?"Image":l.headerType==="video"?"Video":"Document"]}),r.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{y&&URL.revokeObjectURL(y),j(null),g(null),b({headerMedia:null})},children:[r.jsx(vt,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]}):r.jsxs("div",{className:"space-y-2",children:[l.headerType==="image"&&r.jsx(tf,{className:"h-12 w-12 mx-auto text-gray-400"}),l.headerType==="video"&&r.jsx("svg",{className:"h-12 w-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),l.headerType==="document"&&r.jsx("svg",{className:"h-12 w-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsxs("p",{className:"text-gray-500 text-sm",children:["Click to upload ",l.headerType==="image"?"an image":l.headerType==="video"?"a video":"a document"," for the header"]}),r.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{var N;return(N=x.current)==null?void 0:N.click()},disabled:p,children:[r.jsx(Ta,{className:"h-4 w-4 mr-1"}),p?"Processing...":`Choose ${l.headerType==="image"?"Image":l.headerType==="video"?"Video":"Document"}`]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[l.headerType==="image"&&"Max file size: 5MB  JPG, PNG supported",l.headerType==="video"&&"Max file size: 16MB  MP4, MOV supported",l.headerType==="document"&&"Max file size: 5MB  PDF supported"]})]}),r.jsx("input",{ref:x,type:"file",accept:l.headerType==="image"?"image/*":l.headerType==="video"?"video/*":".pdf,application/pdf",className:"hidden",onChange:N=>{var A;const I=(A=N.target.files)==null?void 0:A[0];I&&R(I)}})]})]})]})]}),l.category!=="AUTHENTICATION"?r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg",children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Nt,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Message Body *"]}),r.jsxs(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u(!0),children:[r.jsx(xy,{className:"h-4 w-4 mr-1"}),"Add Variable"]})]}),r.jsx(je,{children:"The main content of your message"})]}),r.jsxs(Y,{children:[r.jsx(Mx,{value:l.bodyText,onChange:N=>b({bodyText:N.target.value}),placeholder:"Type your message here... Use variables for dynamic content",rows:6,className:"bg-white/80 resize-none"}),D(l.bodyText).length>0&&r.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[r.jsx(Rt,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-yellow-800",children:[r.jsx("p",{className:"font-medium",children:"Provide Example Values for Variables"}),r.jsx("p",{className:"text-xs mt-1",children:"These examples help WhatsApp approve your template and show users what to expect."})]})]}),r.jsx("div",{className:"space-y-3",children:D(l.bodyText).map(N=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(pe,{className:"text-sm font-medium text-gray-700 min-w-[4rem]",children:"{{"+N+"}}:"}),r.jsx(le,{value:i[N]||"",onChange:I=>o(A=>({...A,[N]:I.target.value})),placeholder:`Example for variable ${N}`,className:"flex-1 bg-white/80"})]},N))})]}),r.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Rt,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-xs text-blue-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Variable Format Notice:"}),r.jsxs("p",{children:[" Variables use numbered format: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{{1}}"}),", ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{{2}}"}),", etc."]}),r.jsx("p",{children:" WhatsApp requires this format for template approval"}),r.jsx("p",{children:" Example values above will be included in the submission"})]})]})})]})]}):r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg",children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center",children:[r.jsx(Nt,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Authentication Template Settings (2025 Format)"]}),r.jsx(je,{children:"WhatsApp will automatically generate the OTP message body. Configure the OTP button and security settings below using the new 2025 API format."})]}),r.jsxs(Y,{className:"space-y-6",children:[r.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Rt,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"New 2025 Authentication Template Format:"}),r.jsx("p",{children:" Uses BODY, FOOTER, and BUTTONS components structure"}),r.jsx("p",{children:" Security recommendation is added to BODY component"}),r.jsx("p",{children:" Code expiration is configured in FOOTER component"}),r.jsx("p",{children:" OTP button uses new OTP type with COPY_CODE or ONE_TAP"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"otpType",className:"text-sm font-medium text-gray-700",children:"OTP Type *"}),r.jsxs(es,{value:l.otpType,onValueChange:N=>b({otpType:N}),children:[r.jsx(bs,{className:"mt-1 bg-white/80",children:r.jsx(is,{})}),r.jsxs(vs,{children:[r.jsx(Ge,{value:"COPY_CODE",children:"Copy Code"}),r.jsx(Ge,{value:"ONE_TAP",children:"One Tap"})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Copy Code: Manual copy. One Tap: Auto-fill (requires app configuration)."})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"otpButtonText",className:"text-sm font-medium text-gray-700",children:"OTP Button Text"}),r.jsx(le,{id:"otpButtonText",value:l.otpButtonText,onChange:N=>b({otpButtonText:N.target.value}),placeholder:"Copy Code",maxLength:25,className:"mt-1 bg-white/80"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Display text for the OTP button (optional, max 25 characters)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"codeExpirationMinutes",className:"text-sm font-medium text-gray-700",children:"Code Expiration (minutes)"}),r.jsx(le,{id:"codeExpirationMinutes",type:"number",min:"1",max:"90",value:l.codeExpirationMinutes,onChange:N=>b({codeExpirationMinutes:parseInt(N.target.value)||10}),className:"mt-1 bg-white/80"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Code validity period (1-90 minutes) - Goes into FOOTER component"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{id:"addSecurityRecommendation",type:"checkbox",checked:l.addSecurityRecommendation,onChange:N=>b({addSecurityRecommendation:N.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"addSecurityRecommendation",className:"text-sm font-medium text-gray-700",children:"Add Security Recommendation"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Adds security warning to BODY component"})]})]})]})]})]}),(l.category==="UTILITY"||l.category==="MARKETING")&&r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg",children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center",children:[r.jsx(Rt,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Footer (Optional)"]}),r.jsx(je,{children:"Add a small footer text to your template"})]}),r.jsxs(Y,{children:[r.jsx(le,{value:l.footerText,onChange:N=>b({footerText:N.target.value}),placeholder:"Footer text (60 chars max)",maxLength:60,className:"bg-white/80"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.footerText.length,"/60 characters"]})]})]}),(l.category==="UTILITY"||l.category==="MARKETING")&&r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg",children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(qr,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Action Buttons (Optional)"]}),r.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:S,disabled:l.buttons.length>=10,children:[r.jsx(qr,{className:"h-4 w-4 mr-1"}),"Add Button"]})]}),r.jsx(je,{children:"Add interactive buttons for user actions"})]}),r.jsx(Y,{children:l.buttons.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(qr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No buttons added yet"}),r.jsx("p",{className:"text-xs",children:'Click "Add Button" to get started'})]}):r.jsx("div",{className:"space-y-4",children:l.buttons.map((N,I)=>r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs(pe,{className:"text-sm font-medium",children:["Button ",I+1]}),r.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(I),children:r.jsx(an,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"text-xs text-gray-600",children:"Type"}),r.jsxs(es,{value:N.type,onValueChange:A=>T(I,{type:A}),children:[r.jsx(bs,{className:"h-9 bg-white",children:r.jsx(is,{})}),r.jsx(vs,{children:aF.filter(A=>l.category==="AUTHENTICATION"?A.value==="OTP":A.value!=="OTP").map(A=>r.jsx(Ge,{value:A.value,children:A.label},A.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-xs text-gray-600",children:"Text"}),r.jsx(le,{value:N.text,onChange:A=>T(I,{text:A.target.value}),placeholder:"Button text",className:"h-9 bg-white",maxLength:25})]})]}),N.type==="URL"&&r.jsxs("div",{className:"mt-3",children:[r.jsx(pe,{className:"text-xs text-gray-600",children:"URL"}),r.jsx(le,{value:N.url||"",onChange:A=>T(I,{url:A.target.value}),placeholder:"https://example.com",className:"h-9 bg-white"})]}),N.type==="PHONE_NUMBER"&&r.jsxs("div",{className:"mt-3",children:[r.jsx(pe,{className:"text-xs text-gray-600",children:"Phone Number"}),r.jsx(le,{value:N.phone_number||"",onChange:A=>T(I,{phone_number:A.target.value}),placeholder:"+1234567890",className:"h-9 bg-white"})]})]},I))})})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"sticky top-6",children:[r.jsxs(q,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-xl",children:[r.jsxs(ae,{className:"pb-4",children:[r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(sf,{className:"h-5 w-5 mr-2 text-green-600"}),"Live Preview"]}),r.jsx(je,{children:"Real-time preview updates as you type"})]}),r.jsx(Y,{className:"pt-0",children:E()})]}),Object.keys(n).length>0&&r.jsxs(q,{className:"mt-6 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-lg",children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center text-base",children:[r.jsx(xy,{className:"h-4 w-4 mr-2 text-amber-600"}),"Variable Examples",r.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:"Important for WhatsApp"})]}),r.jsx(je,{children:"Set example values for each variable. These help with preview and WhatsApp template approval."})]}),r.jsxs(Y,{children:[r.jsx("div",{className:"space-y-3",children:Object.entries(n).map(([N,I])=>r.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[r.jsxs(pe,{className:"text-xs font-medium text-gray-700 mb-2 block",children:[r.jsx("code",{className:"bg-amber-100 px-2 py-1 rounded mr-2 text-amber-800",children:`{{${N}}}`}),!/^\d+$/.test(N)&&r.jsxs("span",{className:"text-xs text-amber-600 ml-1",children:["( will become ","{{numbered}}",")"]})]}),r.jsx(le,{value:i[N]||"",onChange:A=>o(z=>({...z,[N]:A.target.value})),placeholder:I,className:"h-8 text-sm bg-white border-amber-200 focus:border-amber-400"})]},N))}),r.jsx("div",{className:"mt-4 p-3 bg-amber-100 rounded-lg border border-amber-200",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Rt,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-xs text-amber-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Why examples matter:"}),r.jsx("p",{children:" WhatsApp requires example values for all variables"}),r.jsx("p",{children:" Good examples improve template approval chances"}),r.jsx("p",{children:" Examples are automatically generated but you can customize them"})]})]})})]})]})]})})]})]}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8 pt-6",children:r.jsxs("div",{className:"flex gap-4 justify-center",children:[l.category!=="AUTHENTICATION"&&r.jsx(U,{variant:"outline",onClick:()=>P(!1),disabled:t,className:"px-6 py-2",children:t?"Saving...":"Save Draft"}),r.jsx(U,{onClick:()=>P(!0),disabled:t,className:"px-6 py-2",children:t?"Creating...":"Create & Submit"})]})}),r.jsx(aa,{open:d,onOpenChange:u,children:r.jsxs(un,{className:"max-w-2xl",children:[r.jsxs(ia,{children:[r.jsx(mn,{children:"Insert Variable"}),r.jsx(hn,{children:"Choose a variable to insert into your template"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Click below to add a numbered variable to your template"}),r.jsxs(U,{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(qr,{className:"h-4 w-4 mr-2"}),"Add Variable"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Variables will be automatically numbered. You'll provide example values below."})]}),r.jsx(oa,{children:r.jsx(U,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})})]})})]})}function Av(){const e=xt(),[t,s]=h.useState(null),[n,a]=h.useState(!0);return h.useEffect(()=>{const i=localStorage.getItem("user");if(!i){e("/login");return}const o=JSON.parse(i);if(o.role!=="user"){e("/admin/dashboard");return}s(o),a(!1)},[e]),n||!t?r.jsx(at,{title:"Create Template",subtitle:"Design a new WhatsApp message template for your campaigns.",children:r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading template creator..."})]})})}):r.jsx(at,{title:"Create Template",subtitle:"Design a new WhatsApp message template for your campaigns.",children:r.jsx(iF,{currentUser:t})})}var Ix="Progress",Dx=100,[oF,VF]=gn(Ix),[lF,cF]=oF(Ix),qS=h.forwardRef((e,t)=>{const{__scopeProgress:s,value:n=null,max:a,getValueLabel:i=dF,...o}=e;(a||a===0)&&!_v(a)&&console.error(uF(`${a}`,"Progress"));const l=_v(a)?a:Dx;n!==null&&!Rv(n,l)&&console.error(mF(`${n}`,"Progress"));const c=Rv(n,l)?n:null,d=Bd(c)?i(c,l):void 0;return r.jsx(lF,{scope:s,value:c,max:l,children:r.jsx(Ke.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Bd(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":QS(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});qS.displayName=Ix;var YS="ProgressIndicator",ZS=h.forwardRef((e,t)=>{const{__scopeProgress:s,...n}=e,a=cF(YS,s);return r.jsx(Ke.div,{"data-state":QS(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});ZS.displayName=YS;function dF(e,t){return`${Math.round(e/t*100)}%`}function QS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Bd(e){return typeof e=="number"}function _v(e){return Bd(e)&&!isNaN(e)&&e>0}function Rv(e,t){return Bd(e)&&!isNaN(e)&&e<=t&&e>=0}function uF(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Dx}\`.`}function mF(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Dx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var XS=qS,hF=ZS;const Ox=h.forwardRef(({className:e,value:t,...s},n)=>r.jsx(XS,{ref:n,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(hF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ox.displayName=XS.displayName;const Ft={MARKETING:.8,UTILITY:.15,AUTHENTICATION:.15};function fF(){var $s,to;const e=Xi(),[t,s]=h.useState(""),[n,a]=h.useState(""),[i,o]=h.useState("en_US"),[l,c]=h.useState(""),[d,u]=h.useState([]),[m,f]=h.useState(""),[p,w]=h.useState({}),[y,j]=h.useState(""),[v,g]=h.useState(null),[x,b]=h.useState(!1),[S,k]=h.useState(0),[T,C]=h.useState(null),[D,_]=h.useState(!1),[R,P]=h.useState(null),[E,N]=h.useState(""),[I,A]=h.useState([]),[z,O]=h.useState([]),[L,B]=h.useState([]),[H,G]=h.useState([]),[de,ve]=h.useState({variables:[],buttons:[],hasVariables:!1,hasButtons:!1}),[Pe,Me]=h.useState({numbers:!1,templates:!1,languages:!1,preview:!1,sending:!1}),[ge,Dt]=h.useState(!1),[De,Fe]=h.useState(null),[tt,gt]=h.useState({show:!1,title:"",message:"",successCount:0,failedCount:0}),[Tt,fs]=h.useState({show:!1,title:"",message:"",parsedCount:0,invalidCount:0}),jr=xt(),zs=4;h.useEffect(()=>{Ts(),M(),te()},[]),h.useEffect(()=>{A([])},[d]),h.useEffect(()=>{i&&V()},[i]),h.useEffect(()=>{n&&i&&W()},[n,i]);const wr=()=>{let F=0;return t&&F++,n&&F++,d&&d.length>0&&F++,(!de.hasVariables||Object.keys(p).length===de.variables.length)&&F++,F/zs*100},Xe=F=>F===1?t?"completed":"current":F===2?n?"completed":t?"current":"pending":F===3?d&&d.length>0?"completed":n?"current":"pending":F===4?de.hasVariables?Object.keys(p).length===de.variables.length:"completed":"pending",Ts=async()=>{Me(F=>({...F,numbers:!0}));try{const F=await It("/api/whatsapp/numbers");if(F.ok){const J=await F.json();O(J.data||[])}else console.error("Failed to load WhatsApp numbers:",F.status),e.error("Error loading WhatsApp numbers. Please try again.")}catch(F){console.error("Error fetching WhatsApp numbers:",F),e.error("Connection error. Please check your connection and try again.")}finally{Me(F=>({...F,numbers:!1}))}},M=async()=>{Me(F=>({...F,languages:!0}));try{const F=await fetch("/api/whatsapp/languages",{credentials:"include"});if(F.ok){const J=await F.json();G(J.data||[])}}catch(F){console.error("Error fetching languages:",F)}finally{Me(F=>({...F,languages:!1}))}},V=async()=>{Me(F=>({...F,templates:!0}));try{const F=await fetch(`/api/whatsapp/templates?language=${i}`,{credentials:"include"});if(F.ok){const J=await F.json();B(J.data||[])}}catch(F){console.error("Error fetching templates:",F)}finally{Me(F=>({...F,templates:!1}))}},W=async()=>{if(n)try{console.log("Fetching template details for:",n);const F=await fetch("/api/whatsapp/template-details",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({template_name:n,language:i||"en_US"})});if(console.log("Template details response status:",F.status),F.ok){const J=await F.json();console.log("Template details data:",J),ve(J.data),j(J.data.preview||"")}else{console.error("Failed to fetch template details:",F.status);const J=await F.text();console.error("Error response:",J)}}catch(F){console.error("Error fetching template details:",F)}},te=async()=>{if(d.length===0||!n){try{_(!0);const F=await It("/api/admin/pricing/defaults",{method:"GET"});if(F.ok){const J=await F.json();C({marketing:parseFloat(J.marketing),utility:parseFloat(J.utility),authentication:parseFloat(J.authentication),currency:J.currency||"INR"})}else console.warn("Failed to fetch default pricing, using fallbacks"),C({marketing:Ft.MARKETING,utility:Ft.UTILITY,authentication:Ft.AUTHENTICATION,currency:"INR"})}catch(F){console.error("Error fetching pricing:",F),C({marketing:Ft.MARKETING,utility:Ft.UTILITY,authentication:Ft.AUTHENTICATION,currency:"INR"})}finally{_(!1)}return}try{_(!0);const F=await It("/send/cost-preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templatename:n,recipients:d.slice(0,Math.min(d.length,100))})});if(F.ok){const J=await F.json();J.success&&J.pricing&&C({marketing:J.pricing.marketing,utility:J.pricing.utility,authentication:J.pricing.authentication,currency:J.pricing.currency||"INR"})}else console.warn("Cost preview failed, using fallback pricing"),C({marketing:Ft.MARKETING,utility:Ft.UTILITY,authentication:Ft.AUTHENTICATION,currency:"INR"})}catch(F){console.error("Error fetching cost preview:",F),C({marketing:Ft.MARKETING,utility:Ft.UTILITY,authentication:Ft.AUTHENTICATION,currency:"INR"})}finally{_(!1)}},se=F=>{var xe;const J=(xe=F.target.files)==null?void 0:xe[0];if(!J)return;if(!["image/jpeg","image/jpg","image/png"].includes(J.type)){Fe({show:!0,type:"error",title:"Invalid file type",message:"Please upload a JPG or PNG image file."});return}const He=5*1024*1024;if(J.size>He){Fe({show:!0,type:"error",title:"File too large",message:"Please upload an image smaller than 5MB."});return}P(J);const Ws=new FileReader;Ws.onload=Ue=>{var ps;const Ze=(ps=Ue.target)==null?void 0:ps.result;N(Ze),console.log(" Image uploaded:",J.name,"Preview URL type:",(Ze==null?void 0:Ze.substring(0,30))+"...")},Ws.readAsDataURL(J)},Q=async F=>{var xe;const J=(xe=F.target.files)==null?void 0:xe[0];if(!J)return;const Oe=[".csv",".xlsx",".xls"],He=J.name.toLowerCase().substring(J.name.lastIndexOf("."));if(!Oe.includes(He)){Fe({show:!0,type:"error",title:"Invalid file type",message:`Only CSV and Excel files are supported. Please upload: ${Oe.join(", ")}`});return}const Ws=10*1024*1024;if(J.size>Ws){Fe({show:!0,type:"error",title:"File too large",message:"File size must be less than 10MB"});return}Fe({show:!0,type:"info",title:"Processing file...",message:"Please wait while we import your phone numbers."});try{He===".xlsx"||He===".xls"?(console.log("Importing Excel file:",J.name),await X(J)):He===".csv"&&(console.log("Importing CSV file:",J.name),await X(J))}catch(Ue){console.error("Error importing file:",Ue),Fe({show:!0,type:"error",title:"Import failed",message:Ue instanceof Error?Ue.message:"Please check your file format and try again"})}F.target.value=""},X=async F=>{try{console.log("Importing recipients from file:",F.name);const J=new FormData;J.append("file",F);const Oe=await fetch("/api/whatsapp/import-recipients",{method:"POST",credentials:"include",body:J});if(console.log("Import response status:",Oe.status),Oe.ok){const He=await Oe.json();console.log("Import response data:",He);const Ws=He.data||He;if(Fe(null),Ws.valid_numbers&&Ws.valid_numbers.length>0){const xe=Ws.valid_numbers.join(`
`);console.log("Setting manual recipients:",xe),f(xe),Ee(xe),setTimeout(()=>{fs({show:!0,title:" File Imported Successfully!",message:"Your phone numbers have been imported and are ready to use",parsedCount:Ws.valid_count,invalidCount:Ws.invalid_count||0})},500)}else Fe({show:!0,type:"warning",title:"No valid numbers found",message:"Please check your file format. Make sure phone numbers are in the first column with country codes (e.g., 919876543210)."})}else{const He=await Oe.json().catch(()=>({}));throw new Error(He.error||`Import failed with status ${Oe.status}`)}}catch(J){console.error("Error importing recipients:",J),Fe({show:!0,type:"error",title:"Import failed",message:J instanceof Error?J.message:"Please check your file format and try again. Make sure the file contains phone numbers in the first column."})}},Ee=F=>{if(F.trim()){const J=F.split(/[,\n]/).map(He=>He.trim()).filter(He=>He.length>0),Oe=[...new Set([...J])];u(Oe)}else u([])},Be=F=>{f(F),Ee(F)},$=(F,J)=>{w(Oe=>({...Oe,[F]:J}))};h.useEffect(()=>{if(n&&d.length>0){const F=d.slice(0,3).map((J,Oe)=>({phone:J,recipient:J,variables:p,preview:tr(),message:tr()}));g(F),te()}else g(null)},[n,d,p,y]);const re=async()=>{var J;if(!t||!n||d.length===0){Fe({show:!0,type:"error",title:"Missing information",message:"Please fill in all required fields"});return}if((J=de.templateTypeInfo)!=null&&J.hasStaticImage&&!R){Fe({show:!0,type:"error",title:"Image required",message:"This template requires an image header. Please upload an image."});return}const F=dt();k(F),b(!0)},ye=async()=>{if(b(!1),Dt(!0),d.length>50)return Ie();const F={selectedNumber:t,selectedTemplate:n,selectedLanguage:i,recipients:[...d],templateVariables:{...p},campaignName:l,headerImage:R};setTimeout(()=>{Dt(!1),gt({show:!0,title:"Campaign Started Successfully!",message:"Your campaign has been started and is being processed in batches. You can check detailed reports for delivery status.",successCount:d.length,failedCount:0}),Ae()},1e3);try{if(F.headerImage){const J=new FormData;J.append("phone_number_id",F.selectedNumber),J.append("template_name",F.selectedTemplate),J.append("language",F.selectedLanguage),J.append("recipients_text",F.recipients.join(`
`)),J.append("variables",JSON.stringify(F.templateVariables)),J.append("campaign_name",F.campaignName||`Quick Send - ${F.selectedTemplate} - ${new Date().toISOString()}`),J.append("headerImage",F.headerImage),fetch("/api/whatsapp/quick-send",{method:"POST",credentials:"include",body:J}).catch(Oe=>{console.error("Background send error:",Oe)})}else{const J={phone_number_id:F.selectedNumber,template_name:F.selectedTemplate,language:F.selectedLanguage,recipients_text:F.recipients.join(`
`),variables:F.templateVariables,campaign_name:F.campaignName||`Quick Send - ${F.selectedTemplate} - ${new Date().toISOString()}`};fetch("/api/whatsapp/quick-send",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(J)}).catch(Oe=>{console.error("Background send error:",Oe)})}}catch(J){console.error("Error initiating campaign:",J)}},Ie=async()=>{const F={selectedNumber:t,selectedTemplate:n,selectedLanguage:i,recipients:[...d],templateVariables:{...p},campaignName:l,headerImage:R};setTimeout(()=>{Dt(!1),gt({show:!0,title:"Campaign Started Successfully!",message:"Your bulk campaign has been started and is being processed in batches. You can check detailed reports for delivery status.",successCount:d.length,failedCount:0}),Ae()},1e3);try{if(F.headerImage!==null){const Oe=new FormData;Oe.append("phone_number_id",F.selectedNumber),Oe.append("template_name",F.selectedTemplate),Oe.append("language",F.selectedLanguage),Oe.append("recipients_text",F.recipients.join(`
`)),Oe.append("variables",JSON.stringify(F.templateVariables)),Oe.append("campaign_name",F.campaignName||`Quick Send - ${F.selectedTemplate} - ${new Date().toISOString()}`),F.headerImage&&Oe.append("headerImage",F.headerImage),fetch("/api/whatsapp/quick-send",{method:"POST",credentials:"include",body:Oe}).catch(He=>{console.error("Background bulk send error:",He)})}else{const Oe={phone_number_id:F.selectedNumber,template_name:F.selectedTemplate,language:F.selectedLanguage,recipients_text:F.recipients.join(`
`),variables:F.templateVariables,campaign_name:F.campaignName||`Quick Send - ${F.selectedTemplate} - ${new Date().toISOString()}`};fetch("/api/whatsapp/quick-send",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Oe)}).catch(He=>{console.error("Background bulk send error:",He)})}}catch(J){console.error("Error initiating bulk campaign:",J)}},Ae=()=>{s(""),a(""),c(""),u([]),f(""),w({}),P(null),N(""),g(null),A([]),ve({variables:[],buttons:[],hasVariables:!1,hasButtons:!1})},Ce=async()=>{const F=d.join(`
`);try{await navigator.clipboard.writeText(F),Fe({show:!0,type:"success",title:"Recipients copied!",message:`Copied ${d.length} phone numbers to clipboard.`})}catch{f(F),Fe({show:!0,type:"success",title:"Recipients added to manual entry",message:`Added ${d.length} phone numbers to manual entry field.`})}},dt=()=>{const F=L.find(He=>He.name===n);if(!F||d.length===0)return 0;const J=F.category.toUpperCase(),Oe=T?T[J.toLowerCase()]||T.utility:Ft[J]||Ft.UTILITY;return d.length*Oe},st=()=>{const F=L.find(J=>J.name===n);return(F==null?void 0:F.category)||"UTILITY"},tr=()=>{if(!y||Object.keys(p).length===0||Object.values(p).every(J=>!J))return y;let F=y;return Object.keys(p).forEach(J=>{const Oe=p[J];Oe&&(F=F.replace(new RegExp(`\\{\\{${J}\\}\\}`,"g"),Oe))}),F};return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
        @keyframes fadeInScale {
          0% {
            opacity: 0;
            transform: scale(0.3);
          }
          50% {
            opacity: 0.8;
            transform: scale(1.1);
          }
          100% {
            opacity: 1;
            transform: scale(1);
          }
        }
        
        @keyframes fadeInUp {
          0% {
            opacity: 0;
            transform: translateY(20px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fade-in-up {
          animation: fadeInUp 0.6s ease-out forwards;
        }
        
        .animate-tick-success {
          animation: fadeInScale 0.8s ease-out, bounce 1.2s ease-in-out 2 alternate 0.3s;
        }
        
        .animate-modal-slide-in {
          animation: fadeInUp 0.4s ease-out;
        }
      `}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(q,{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200",children:r.jsxs(Y,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Campaign Setup Progress"}),r.jsxs(ke,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:[Math.round(wr()),"% Complete"]})]}),r.jsx(Ox,{value:wr(),className:"h-2"}),r.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[r.jsx("span",{children:"WhatsApp Number"}),r.jsx("span",{children:"Template"}),r.jsx("span",{children:"Recipients"}),r.jsx("span",{children:"Variables"})]})]})}),(De==null?void 0:De.show)&&r.jsxs(Bt,{variant:De.type==="success"||De.type==="warning"?"default":"destructive",className:"border-l-4 shadow-lg",children:[De.type==="success"&&r.jsx(Ye,{className:"h-4 w-4"}),De.type==="error"&&r.jsx(ls,{className:"h-4 w-4"}),De.type==="warning"&&r.jsx(ls,{className:"h-4 w-4"}),r.jsx(KS,{className:"text-base font-semibold mb-2",children:De.title}),r.jsx(zt,{className:"whitespace-pre-line text-sm leading-relaxed",children:De.message}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>Fe(null),className:"absolute top-2 right-2 h-8 w-8 p-0 hover:bg-gray-100",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:[r.jsxs(q,{className:`border-2 ${Xe(1)==="completed"?"border-green-200 bg-green-50":Xe(1)==="current"?"border-emerald-200 bg-emerald-50":"border-gray-200"}`,children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Xe(1)==="completed"?"bg-green-500":Xe(1)==="current"?"bg-emerald-500":"bg-gray-300"}`,children:Xe(1)==="completed"?r.jsx(Ye,{className:"h-5 w-5 text-white"}):r.jsx("span",{className:"text-white font-semibold",children:"1"})}),r.jsxs("div",{children:[r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(Jr,{className:"h-5 w-5 mr-2 text-emerald-600"}),"WhatsApp Configuration"]}),r.jsx(je,{children:"Select your WhatsApp Business number and template"})]})]}),Xe(1)==="completed"&&r.jsxs(ke,{variant:"secondary",className:"bg-green-100 text-green-800",children:[r.jsx(Ye,{className:"h-3 w-3 mr-1"}),"Complete"]})]})}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"whatsapp-number",className:"text-sm font-medium",children:"WhatsApp Business Number *"}),r.jsxs(es,{value:t,onValueChange:s,disabled:Pe.numbers,children:[r.jsx(bs,{className:"mt-1",children:r.jsx(is,{placeholder:Pe.numbers?"Loading numbers...":"Select WhatsApp number"})}),r.jsx(vs,{children:z.map(F=>r.jsx(Ge,{value:F.phone_number_id,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jr,{className:"h-4 w-4 mr-2 text-emerald-600"}),F.label]})},F.id))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"language",className:"text-sm font-medium",children:"Language *"}),r.jsxs(es,{value:i,onValueChange:F=>{o(F),a("")},disabled:Pe.languages,children:[r.jsx(bs,{className:"mt-1",children:r.jsx(is,{placeholder:Pe.languages?"Loading languages...":"Select language"})}),r.jsx(vs,{children:H.map(F=>r.jsx(Ge,{value:F.code,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(I_,{className:"h-4 w-4 mr-2 text-emerald-600"}),F.name]})},F.code))})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs(pe,{htmlFor:"template",className:"text-sm font-medium flex items-center",children:["Template *",Pe.templates&&r.jsx(Es,{className:"h-4 w-4 ml-2 animate-spin text-emerald-600"})]}),r.jsxs(U,{variant:"ghost",size:"sm",onClick:V,disabled:Pe.templates||!i,className:"h-6 px-2 text-xs",children:[r.jsx(sa,{className:"h-3 w-3 mr-1"}),"Refresh"]})]}),r.jsxs(es,{value:n||"",onValueChange:F=>{a(F)},disabled:Pe.templates,children:[r.jsx(bs,{className:"mt-1",children:r.jsx(is,{placeholder:Pe.templates?"Loading templates...":"Select template"})}),r.jsx(vs,{children:L.map(F=>r.jsx(Ge,{value:F.name,children:F.name.replace(/_(UTILITY|MARKETING|AUTHENTICATION)$/,"").replace(/_/g," ")},F.id))})]})]})]})]}),r.jsxs(q,{className:`border-2 ${Xe(2)==="completed"?"border-green-200 bg-green-50":Xe(2)==="current"?"border-emerald-200 bg-emerald-50":"border-gray-200"}`,children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Xe(2)==="completed"?"bg-green-500":Xe(2)==="current"?"bg-emerald-500":"bg-gray-300"}`,children:Xe(2)==="completed"?r.jsx(Ye,{className:"h-5 w-5 text-white"}):r.jsx("span",{className:"text-white font-semibold",children:"2"})}),r.jsxs("div",{children:[r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(LN,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Campaign Details"]}),r.jsx(je,{children:"Set campaign name and import your phone numbers"})]})]}),Xe(2)==="completed"&&r.jsxs(ke,{variant:"secondary",className:"bg-green-100 text-green-800",children:[r.jsx(Ye,{className:"h-3 w-3 mr-1"}),"Complete"]})]})}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"campaign-name",className:"text-sm font-medium",children:"Campaign Name"}),r.jsx(le,{id:"campaign-name",value:l,onChange:F=>c(F.target.value),placeholder:"Enter campaign name (optional)",className:"mt-1"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pe,{className:"text-sm font-medium text-gray-900",children:"Phone Numbers"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:Q,className:"hidden",id:"file-upload-input"}),r.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"text-xs font-medium border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 cursor-pointer",onClick:()=>{var F;return(F=document.getElementById("file-upload-input"))==null?void 0:F.click()},children:[r.jsx(Ta,{className:"h-3.5 w-3.5 mr-1.5"}),"Import"]}),d.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[d.length," numbers"]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mx,{id:"manual-recipients",value:m,onChange:F=>Be(F.target.value),placeholder:"",className:"min-h-[140px] resize-none border-gray-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-200 text-sm leading-relaxed"}),m===""&&r.jsx("div",{className:"absolute inset-0 flex items-start justify-start p-3 pointer-events-none",children:r.jsxs("div",{className:"text-gray-400 text-sm leading-relaxed",children:[r.jsx("div",{className:"mb-2",children:"Enter phone numbers (one per line):"}),r.jsxs("div",{className:"text-gray-300 font-mono text-xs space-y-0.5",children:[r.jsx("div",{children:"919876543210"}),r.jsx("div",{children:"918765432109"}),r.jsx("div",{children:"917654321098"})]}),r.jsx("div",{className:"text-xs text-gray-400 mt-3",children:"Or click Import to upload CSV/Excel files"})]})}),m&&r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})})]}),d.length>0&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg px-3 py-2",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Ye,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-green-800 font-medium",children:[d.length," valid numbers"]}),r.jsx("span",{className:"text-green-600",children:"ready to send"})]})})]}),d.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(pe,{className:"text-sm font-medium",children:["Recipients (",d.length,")"]}),r.jsxs(ke,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[d.length," numbers ready"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(U,{variant:"outline",size:"sm",onClick:Ce,className:"text-emerald-600 hover:text-emerald-700",children:[r.jsx(An,{className:"h-4 w-4 mr-1"}),"Copy All"]}),r.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{u([]),f("")},className:"text-red-600 hover:text-red-700",children:[r.jsx(an,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]}),r.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"text-sm text-green-800",children:[" ",r.jsxs("strong",{children:[d.length," phone numbers"]})," are ready to receive your message.",d.length>50&&r.jsx("span",{className:"block mt-1 text-green-700",children:" Large batch detected - will use optimized bulk delivery."})]})})]})]})]}),(($s=de.templateTypeInfo)==null?void 0:$s.hasStaticImage)&&r.jsxs(q,{className:`border-2 ${R?"border-green-200 bg-green-50":"border-orange-200 bg-orange-50"}`,children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R?"bg-green-500":"bg-orange-500"}`,children:R?r.jsx(Ye,{className:"h-5 w-5 text-white"}):r.jsx(Ta,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(Ta,{className:"h-5 w-5 mr-2 text-purple-600"}),"Template Image Header"]}),r.jsx(je,{children:"Upload an image for your template header"})]})]}),R&&r.jsxs(ke,{variant:"secondary",className:"bg-green-100 text-green-800",children:[r.jsx(Ye,{className:"h-3 w-3 mr-1"}),"Image Ready"]})]})}),r.jsx(Y,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{className:"text-sm font-medium",children:["Upload Header Image ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:se,className:"hidden",id:"header-image-upload"}),r.jsxs("label",{htmlFor:"header-image-upload",className:"flex items-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Choose Image"]}),R&&r.jsxs("span",{className:"text-sm text-gray-600",children:[R.name," (",(R.size/1024/1024).toFixed(2)," MB)"]})]}),E&&r.jsxs("div",{className:"mt-4",children:[r.jsx(pe,{className:"text-sm font-medium",children:"Preview:"}),r.jsx("div",{className:"mt-2 border rounded-lg p-2 bg-gray-50",children:r.jsx("img",{src:E,alt:"Header preview",className:"max-w-full h-32 object-contain rounded"})})]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Supported formats: JPG, PNG  Max size: 5MB"})]})})]}),de.hasVariables&&de.variables.length>0&&r.jsxs(q,{className:`border-2 ${Xe(4)==="completed"?"border-green-200 bg-green-50":Xe(4)==="current"?"border-emerald-200 bg-emerald-50":"border-gray-200"}`,children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Xe(4)==="completed"?"bg-green-500":Xe(4)==="current"?"bg-emerald-500":"bg-gray-300"}`,children:Xe(4)==="completed"?r.jsx(Ye,{className:"h-5 w-5 text-white"}):r.jsx("span",{className:"text-white font-semibold",children:"3"})}),r.jsxs("div",{children:[r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(Is,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Template Variables"]}),r.jsx(je,{children:"Fill in the template variables for your message"})]})]}),Xe(4)==="completed"&&r.jsxs(ke,{variant:"secondary",className:"bg-green-100 text-green-800",children:[r.jsx(Ye,{className:"h-3 w-3 mr-1"}),"Complete"]})]})}),r.jsx(Y,{className:"space-y-4",children:de.variables.map(F=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{className:"text-sm font-medium",children:[F.placeholder," ",F.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(le,{value:p[F.index.toString()]||"",onChange:J=>$(F.index.toString(),J.target.value),placeholder:`Enter ${F.placeholder.toLowerCase()}`,required:F.required})]},F.index))})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(U,{onClick:re,disabled:!t||!n||d.length===0||ge,className:"w-full h-14 bg-gradient-to-r from-emerald-700 to-emerald-800 hover:from-emerald-800 hover:to-emerald-900 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:ge?r.jsxs(r.Fragment,{children:[r.jsx(Es,{className:"h-5 w-5 mr-2 animate-spin"}),"Sending Campaign..."]}):r.jsxs(r.Fragment,{children:[r.jsx(xr,{className:"h-5 w-5 mr-2"}),d.length>50?"Bulk Send":"Quick Send"," (",d.length,")"]})})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(q,{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-emerald-200",children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(yu,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Campaign Summary"]})}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-emerald-200",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:d.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Recipients"})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-emerald-200",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.variables.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Variables"})]})]}),n&&r.jsxs("div",{className:"p-3 bg-white rounded-lg border border-emerald-200",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Selected Template"}),r.jsx("div",{className:"text-sm text-gray-600",children:n}),r.jsx(ke,{variant:"outline",className:"mt-1",children:((to=L.find(F=>F.name===n))==null?void 0:to.category)||"Unknown"})]})]})]}),y&&r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(Nt,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Template Preview"]}),r.jsx(je,{children:"Live preview of your message"})]}),r.jsx(Y,{children:r.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border text-sm whitespace-pre-wrap",children:tr()})})]}),v&&r.jsxs(q,{children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(cs,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Campaign Preview"]}),r.jsx(je,{children:"Preview of your campaign messages"})]}),r.jsx(Y,{className:"space-y-3",children:v.map((F,J)=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-1",children:["To: ",F.phone||F.recipient]}),F.variables&&Object.keys(F.variables).length>0&&r.jsxs("div",{className:"text-xs text-blue-600 mb-2",children:["Variables: ",JSON.stringify(F.variables)]}),r.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:F.preview||F.message})]},J))})]}),r.jsxs(q,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200",children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(Rt,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Tips & Help"]})}),r.jsxs(Y,{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("div",{className:"font-medium mb-2",children:" Phone Numbers:"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:" Include country code (1, 91, etc.)"}),r.jsx("li",{children:" One number per line in files"}),r.jsx("li",{children:" Separate with commas manually"})]})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("div",{className:"font-medium mb-2",children:" Quick Send vs Campaign:"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:" Quick Send: Immediate delivery"}),r.jsx("li",{children:" Campaign: Scheduled & tracked"}),r.jsx("li",{children:" Both support variables"})]})]})]})]})]})]}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:r.jsx(xr,{className:"h-5 w-5 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Campaign Cost Preview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Review campaign details and cost"})]})]}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 h-8 w-8 p-0 rounded-lg",children:r.jsx(vt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.length}),r.jsx("div",{className:"text-sm text-blue-800",children:"Recipients"})]}),r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("div",{className:"text-sm font-bold text-purple-600 truncate",children:st()}),r.jsx("div",{className:"text-xs text-purple-800",children:"Template Type"})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",S.toFixed(2)]}),r.jsx("div",{className:"text-sm text-green-800",children:"Total Cost"})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border mb-6",children:[r.jsxs("div",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[r.jsx(ta,{className:"h-5 w-5 text-gray-600 mr-2"}),"Pricing Breakdown",D&&r.jsx(Es,{className:"h-4 w-4 ml-2 animate-spin"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Cost per message:"}),r.jsxs("span",{className:"font-medium",children:["",T?(T[st().toLowerCase()]||T.utility).toFixed(2):(Ft[st().toUpperCase()]||Ft.UTILITY).toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Number of recipients:"}),r.jsx("span",{className:"font-medium",children:d.length})]}),r.jsx("div",{className:"border-t pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[r.jsx("span",{className:"text-gray-900",children:"Total Cost:"}),r.jsxs("span",{className:"text-green-600",children:["",S.toFixed(2)]})]})})]})]}),d.length>0&&y&&r.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200 mb-6",children:[r.jsx("div",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"First Recipient Preview"}),r.jsxs("div",{className:"text-sm text-yellow-700",children:[r.jsxs("div",{className:"font-medium",children:["To: ",d[0]]}),r.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:tr()})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(U,{variant:"outline",onClick:()=>b(!1),className:"flex-1",children:"Cancel"}),r.jsxs(U,{onClick:ye,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white",children:[r.jsx(xr,{className:"h-4 w-4 mr-2"}),"Confirm & Send (",S.toFixed(2),")"]})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsxs("p",{className:"text-xs text-gray-500",children:["By confirming, you agree to send ",d.length," messages at ",T?(T[st().toLowerCase()]||T.utility).toFixed(2):(Ft[st().toUpperCase()]||Ft.UTILITY).toFixed(2)," each"]})})]})})}),Tt.show&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto animate-modal-slide-in",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-emerald-200 rounded-full animate-ping opacity-75"}),r.jsx(Ye,{className:"h-5 w-5 text-emerald-600 relative z-10 animate-tick-success"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 animate-fade-in-up",children:Tt.title}),r.jsx("p",{className:"text-sm text-gray-600 animate-fade-in-up",style:{animationDelay:"0.2s"},children:Tt.message})]})]}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>fs(F=>({...F,show:!1})),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 h-8 w-8 p-0 rounded-lg",children:r.jsx(vt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Tt.parsedCount}),r.jsx("div",{className:"text-sm text-emerald-800",children:"Numbers Parsed"})]}),Tt.invalidCount>0&&r.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Tt.invalidCount}),r.jsx("div",{className:"text-sm text-orange-800",children:"Invalid Skipped"})]})]}),r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 mb-6",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ye,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("div",{className:"font-medium",children:"Ready to Send!"}),r.jsx("div",{children:"Phone numbers have been populated in the input field below."})]})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(U,{onClick:()=>fs(F=>({...F,show:!1})),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[r.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Continue"]})})]})})}),tt.show&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto animate-modal-slide-in",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-green-200 rounded-full animate-ping opacity-75"}),r.jsx(Ye,{className:"h-5 w-5 text-green-600 relative z-10 animate-tick-success"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 animate-fade-in-up",children:tt.title}),r.jsx("p",{className:"text-sm text-gray-600 animate-fade-in-up",style:{animationDelay:"0.2s"},children:tt.message})]})]}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>gt(F=>({...F,show:!1})),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 h-8 w-8 p-0 rounded-lg",children:r.jsx(vt,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"text-center text-sm text-gray-500 mb-6",children:"Check Manage Reports for detailed delivery status and analytics"}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx(U,{variant:"outline",onClick:()=>gt(F=>({...F,show:!1})),className:"bg-white hover:bg-gray-50 border-gray-200",children:"OK"}),r.jsx(U,{onClick:()=>{jr("/user/manage-reports"),gt(F=>({...F,show:!1}))},className:"bg-green-600 hover:bg-green-700 text-white",children:"Show Reports"})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Campaign started successfully"})})]})})})]})]})}function pF(){return r.jsx(at,{title:"WhatsApp Quick Send",subtitle:"Send messages instantly to multiple recipients using approved templates. Choose Quick Send for immediate delivery or Bulk for large campaigns.",children:r.jsx(fF,{})})}const go={MARKETING:.8,UTILITY:.15,AUTHENTICATION:.15};function xF(){var Be;const e=xt(),t=Xi(),{toast:s}=wu(),{user:n}=Bs(),[a,i]=h.useState(""),[o,l]=h.useState(null),[c,d]=h.useState("en_US"),[u,m]=h.useState(null),[f,p]=h.useState(""),[w,y]=h.useState([]),[j,v]=h.useState({}),[g,x]=h.useState(!1),[b,S]=h.useState(null),[k,T]=h.useState([]),[C,D]=h.useState([]),[_,R]=h.useState([]),[P,E]=h.useState([]),[N,I]=h.useState([]),[A,z]=h.useState(!1),[O,L]=h.useState(!1),[B,H]=h.useState(!1),[G,de]=h.useState(null),[ve,Pe]=h.useState(!1),[Me,ge]=h.useState(!1),[Dt,De]=h.useState(1),Fe=4,[tt,gt]=h.useState({show:!1,title:"",message:"",successCount:0,failedCount:0});h.useEffect(()=>{wr(),Ts()},[]),h.useEffect(()=>{c&&Xe()},[c]),h.useEffect(()=>{if(o!=null&&o.components){const $=[];console.log("Template components:",o.components),o.components.forEach(re=>{if(console.log("Processing component:",re),re.type==="BODY"&&re.text){const ye=re.text.match(/{{\s*(\d+|[a-zA-Z_][a-zA-Z0-9_]*)\s*}}/g)||[];console.log("BODY variables found:",ye),ye.forEach(Ie=>{$.includes(Ie)||$.push(Ie)})}if(re.type==="HEADER"&&re.text){const ye=re.text.match(/{{\s*(\d+|[a-zA-Z_][a-zA-Z0-9_]*)\s*}}/g)||[];console.log("HEADER variables found:",ye),ye.forEach(Ie=>{$.includes(Ie)||$.push(Ie)})}re.type==="BUTTONS"&&re.buttons&&re.buttons.forEach(ye=>{if(ye.url){const Ie=ye.url.match(/{{\s*(\d+|[a-zA-Z_][a-zA-Z0-9_]*)\s*}}/g)||[];console.log("BUTTON URL variables found:",Ie),Ie.forEach(Ae=>{$.includes(Ae)||$.push(Ae)})}if(ye.text){const Ie=ye.text.match(/{{\s*(\d+|[a-zA-Z_][a-zA-Z0-9_]*)\s*}}/g)||[];console.log("BUTTON TEXT variables found:",Ie),Ie.forEach(Ae=>{$.includes(Ae)||$.push(Ae)})}})}),$.sort((re,ye)=>{const Ie=parseInt(re.replace(/{|}/g,"")),Ae=parseInt(ye.replace(/{|}/g,""));return!isNaN(Ie)&&!isNaN(Ae)?Ie-Ae:re.localeCompare(ye)}),console.log("Total variables found:",$),y($),x($.length>0)}else y([]),x(!1)},[o]),h.useEffect(()=>{o&&P.length>0&&jr()},[o,P]);const Tt=()=>{let $=0;return a&&$++,o&&$++,u&&f&&$++,(!g||Object.keys(j).length===w.length)&&$++,$/Fe*100},fs=()=>{var $;return o&&(($=o.category)==null?void 0:$.toUpperCase())||"UTILITY"},jr=async()=>{if(!(!o||P.length===0))try{Pe(!0);const $=await It("/send/cost-preview",{method:"POST",body:JSON.stringify({username:(n==null?void 0:n.username)||"current_user",templatename:o.name,recipients:P.slice(0,Math.min(P.length,100))})});if($.success){const re=$.preview;de({marketing:re.category==="MARKETING"?re.unitPrice:(G==null?void 0:G.marketing)||go.MARKETING,utility:re.category==="UTILITY"?re.unitPrice:(G==null?void 0:G.utility)||go.UTILITY,authentication:re.category==="AUTHENTICATION"?re.unitPrice:(G==null?void 0:G.authentication)||go.AUTHENTICATION,pricingMode:re.pricingMode})}}catch($){console.error("Failed to fetch cost preview:",$)}finally{Pe(!1)}},zs=()=>{const $=fs();let re;if(G){const Ie=$.toLowerCase();re=G[Ie]||go[$]}else re=go[$];const ye=P.length;return{pricePerMessage:re,totalMessages:ye,totalCost:(re*ye).toFixed(2),pricingMode:(G==null?void 0:G.pricingMode)||"default"}},wr=async()=>{try{console.log("Loading WhatsApp numbers..."),console.log("Current user from localStorage:",localStorage.getItem("user"));const $=await It("/api/whatsapp/numbers",{headers:{"Content-Type":"application/json"}});if(console.log("WhatsApp numbers response status:",$.status),$.ok){const re=await $.json();console.log("WhatsApp numbers loaded:",re),T(re.data||[])}else{console.error("Failed to load WhatsApp numbers:",$.status);const re=await $.text();console.error("Error response:",re),t.error(`Error loading WhatsApp numbers. Status: ${$.status}. Please try again.`)}}catch($){console.error("Error loading WhatsApp numbers:",$),t.error("Connection error: Please check your connection and try again")}},Xe=async()=>{if(c){z(!0);try{console.log("Loading templates for language:",c),console.log("Current user from localStorage:",localStorage.getItem("user"));const $=await It(`/api/whatsapp/templates?language=${c}&exclude_auth=true`,{headers:{"Content-Type":"application/json"}});if(console.log("Templates response status:",$.status),console.log("Templates response headers:",$.headers),$.ok){const re=await $.json();console.log("Templates loaded:",re),D(re.data||[])}else{console.error("Failed to load templates:",$.status);const re=await $.text();console.error("Error response:",re),s({title:"Error loading templates",description:`Status: ${$.status}. Please try again.`,variant:"destructive"})}}catch($){console.error("Error loading templates:",$),t.error("Error loading templates: Please check your connection")}finally{z(!1)}}},Ts=async()=>{try{const $=await It("/api/whatsapp/languages");if($.ok){const re=await $.json();console.log("Languages loaded:",re.data),R(re.data||[])}else console.error("Failed to load languages:",$.status),t.error("Error loading languages: Please try again")}catch($){console.error("Error loading languages:",$),t.error("Error loading languages: Please check your connection")}},M=async $=>{var Ie;const re=(Ie=$.target.files)==null?void 0:Ie[0];if(!re)return;if(!re.name.endsWith(".xlsx")&&!re.name.endsWith(".xls")&&!re.name.endsWith(".csv")){t.error("Invalid file type: Please upload an Excel file (.xlsx, .xls) or CSV file (.csv)");return}m(re);const ye=new FormData;ye.append("file",re);try{console.log("Uploading file:",re.name,"Size:",re.size,"Type:",re.type);const Ae=await fetch("/api/whatsapp/parse-excel",{method:"POST",credentials:"include",body:ye});if(console.log("Upload response status:",Ae.status),console.log("Upload response headers:",Object.fromEntries(Ae.headers.entries())),Ae.ok){const Ce=await Ae.json();if(console.log("Upload response data:",Ce),Ce.success&&Ce.data){const dt=Ce.data.rows||[],st=Ce.data.columns||[];console.log("Parsed rows:",dt.length),console.log("Parsed columns:",st),E(dt),I(st),s({title:"File uploaded successfully",description:`Processed ${dt.length} rows with ${st.length} columns`,variant:"default"})}else throw console.error("Invalid response format:",Ce),new Error(Ce.error||"Invalid response format")}else{const Ce=await Ae.text();console.error("Upload error response:",Ce);let dt;try{dt=JSON.parse(Ce)}catch{dt={error:Ce}}throw new Error(dt.error||`Upload failed with status ${Ae.status}`)}}catch(Ae){console.error("Error uploading file:",Ae),s({title:"Upload failed",description:Ae instanceof Error?Ae.message:"Please try again with a valid file",variant:"destructive"});const Ce=document.getElementById("file-upload");Ce&&(Ce.value=""),m(null)}},V=($,re)=>{v(ye=>({...ye,[$]:re}))},W=async()=>{if(!(!o||!P.length)){L(!0);try{console.log("Generating preview for template:",o.name),console.log("Sample data:",P.slice(0,3));const re=P.slice(0,3).map((ye,Ie)=>{let Ae="";return o.components&&o.components.forEach(Ce=>{if(Ce.type==="BODY"&&Ce.text){let dt=Ce.text;console.log(" Template text before replacement:",dt),console.log(" Available variable mappings:",j),console.log(" Row data:",ye),Object.keys(j).forEach(st=>{const tr=j[st],$s=ye[tr];console.log(` Replacing ${st} with "${$s}" from column "${tr}"`),$s!=null&&(dt=dt.replace(new RegExp(st.replace(/[{}]/g,"\\$&"),"g"),$s.toString()))}),console.log(" Template text after replacement:",dt),Ae+=dt+`
`}}),{recipient:ye[f]||"Unknown",message:Ae.trim(),index:Ie}});S(re),s({title:"Preview generated",description:`Showing preview for ${re.length} recipients`,variant:"default"})}catch($){console.error("Error generating preview:",$),t.error("Preview failed: Please check your data and try again")}finally{L(!1)}}},te=async()=>{if(!a||!o||!u||!f){t.error("Missing information: Please fill in all required fields");return}if(P.length===0){t.error("No recipients found in Excel file");return}ge(!0)},se=async()=>{if(P.length>50)return Q();H(!0);try{console.log("Sending custom messages..."),console.log("Template:",o==null?void 0:o.name),console.log("Recipients:",P.length);const $={};Object.keys(j).forEach(Ie=>{const Ae=Ie.match(/\{\{(\d+)\}\}/);if(Ae){const Ce=Ae[1];$[Ce]=j[Ie]}});const re={templateName:o==null?void 0:o.name,language:c,phoneNumberId:a,recipientColumn:f,variableMappings:$,data:P};console.log("Converted variable mappings:",$),console.log("Sending payload:",re);const ye=await fetch("/api/whatsapp/send-custom-messages",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(re)});if(ye.ok){const Ie=await ye.json();console.log("Send result:",Ie),gt({show:!0,title:"Campaign Completed Successfully!",message:"Your personalized message campaign has been completed successfully. You can check detailed reports for more information.",successCount:Ie.sent_count||P.length,failedCount:0}),i(""),l(null),m(null),p(""),v({}),S(null),E([]),I([])}else{const Ie=await ye.json().catch(()=>({}));throw new Error(Ie.error||`Sending failed with status ${ye.status}`)}}catch($){console.error("Error sending messages:",$),s({title:"Sending failed",description:$ instanceof Error?$.message:"Please try again",variant:"destructive"})}finally{H(!1)}},Q=async()=>{var $,re;H(!0);try{console.log("Sending bulk custom messages..."),console.log("Template:",o==null?void 0:o.name),console.log("Recipients:",P.length);const ye={};Object.keys(j).forEach(Ce=>{const dt=Ce.match(/\{\{(\d+)\}\}/);if(dt){const st=dt[1];ye[st]=j[Ce]}});const Ie={templateName:o==null?void 0:o.name,language:c,phoneNumberId:a,recipientColumn:f,variableMappings:ye,data:P};console.log("Bulk custom payload:",Ie);const Ae=await fetch("/api/whatsapp/bulk-customize-send",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ie)});if(Ae.ok){const Ce=await Ae.json();console.log("Bulk send result:",Ce),gt({show:!0,title:"Bulk Campaign Completed Successfully!",message:"Your bulk personalized message campaign has been completed successfully. You can check detailed reports for more information.",successCount:(($=Ce.data)==null?void 0:$.successful_sends)||0,failedCount:((re=Ce.data)==null?void 0:re.failed_sends)||0}),i(""),l(null),m(null),p(""),v({}),S(null),E([]),I([])}else{const Ce=await Ae.json().catch(()=>({}));throw new Error(Ce.message||Ce.error||`Bulk sending failed with status ${Ae.status}`)}}catch(ye){console.error("Error sending bulk custom messages:",ye),s({title:"Bulk sending failed",description:ye instanceof Error?ye.message:"Please try again",variant:"destructive"})}finally{H(!1)}},X=$=>$===1?a?"completed":"current":$===2?o?"completed":a?"current":"pending":$===3?u&&f?"completed":o?"current":"pending":$===4?g?Object.keys(j).length===w.length:"completed":"pending",Ee=async()=>{ge(!1),await se()};return r.jsxs(r.Fragment,{children:[Me&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:r.jsx(xr,{className:"h-5 w-5 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Campaign Cost Preview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Review campaign details and cost"})]})]}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>ge(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 h-8 w-8 p-0 rounded-lg",children:r.jsx(vt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.length}),r.jsx("div",{className:"text-sm text-blue-800",children:"Recipients"})]}),r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("div",{className:"text-sm font-bold text-purple-600 truncate",children:fs()}),r.jsx("div",{className:"text-xs text-purple-800",children:"Template Type"})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",zs().totalCost]}),r.jsx("div",{className:"text-sm text-green-800",children:"Total Cost"})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border mb-6",children:[r.jsxs("div",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[r.jsx(ta,{className:"h-5 w-5 text-gray-600 mr-2"}),"Pricing Breakdown"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Cost per message:"}),r.jsxs("span",{className:"font-medium",children:["",zs().pricePerMessage]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Number of recipients:"}),r.jsx("span",{className:"font-medium",children:P.length})]}),r.jsxs("div",{className:"border-t pt-2 mt-2",children:[r.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[r.jsx("span",{className:"text-gray-900",children:"Total Cost:"}),r.jsxs("span",{className:"text-green-600",children:["",zs().totalCost]})]}),ve&&r.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 mt-2",children:[r.jsx(Es,{className:"h-3 w-3 mr-1 animate-spin"}),"Updating pricing..."]}),G&&r.jsx("div",{className:"flex justify-center mt-2",children:r.jsx(ke,{variant:G.pricingMode==="custom"?"default":"secondary",className:"text-xs",children:G.pricingMode==="custom"?"Custom Pricing":"Default Pricing"})})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(U,{onClick:Ee,disabled:B,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-medium",children:B?r.jsxs(r.Fragment,{children:[r.jsx(Es,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(xr,{className:"h-4 w-4 mr-2"}),"Send Campaign"]})}),r.jsx(U,{variant:"outline",onClick:()=>ge(!1),className:"w-full",disabled:B,children:"Review Details"})]})]})})}),r.jsxs(at,{title:"Customize Message",subtitle:"Send personalized WhatsApp messages using Excel data with dynamic variables",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(U,{variant:"ghost",onClick:()=>e("/user/dashboard"),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),!localStorage.getItem("user")&&r.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:r.jsx(ls,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:"Authentication Required"}),r.jsx("p",{className:"text-yellow-100",children:"Please log in to access WhatsApp functionality"})]})]}),r.jsx(U,{onClick:()=>e("/login"),className:"bg-white text-orange-600 hover:bg-yellow-50 font-semibold",children:"Go to Login"})]})}),r.jsx(q,{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200 shadow-lg",children:r.jsxs(Y,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Setup Progress"}),r.jsxs(ke,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:[Math.round(Tt()),"% Complete"]})]}),r.jsx(Ox,{value:Tt(),className:"h-3 bg-emerald-100"}),r.jsxs("div",{className:"flex justify-between mt-3 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(LN,{className:"h-4 w-4 mr-1"}),"WhatsApp Number"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(St,{className:"h-4 w-4 mr-1"}),"Template"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(nc,{className:"h-4 w-4 mr-1"}),"Excel Data"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Is,{className:"h-4 w-4 mr-1"}),"Variables"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(q,{className:`border-2 shadow-lg transition-all duration-300 ${X(1)==="completed"?"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50":X(1)==="current"?"border-emerald-200 bg-gradient-to-br from-emerald-50 to-green-50":"border-gray-200 bg-white"}`,children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 ${X(1)==="completed"?"bg-gradient-to-r from-green-500 to-emerald-500":X(1)==="current"?"bg-gradient-to-r from-blue-500 to-indigo-500":"bg-gray-300"}`,children:X(1)==="completed"?r.jsx(Ye,{className:"h-6 w-6 text-white"}):r.jsx("span",{className:"text-white font-bold text-lg",children:"1"})}),r.jsxs("div",{children:[r.jsxs(ie,{className:"flex items-center text-xl",children:[r.jsx(Jr,{className:"h-6 w-6 mr-3 text-emerald-600"}),"WhatsApp Configuration"]}),r.jsx(je,{className:"text-base",children:"Select your WhatsApp Business number and template"})]})]}),X(1)==="completed"&&r.jsxs(ke,{variant:"secondary",className:"bg-green-100 text-green-800 px-3 py-1",children:[r.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Complete"]})]})}),r.jsxs(Y,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"whatsapp-number",className:"text-sm font-semibold text-gray-700",children:"WhatsApp Business Number *"}),r.jsxs(es,{value:a,onValueChange:i,children:[r.jsx(bs,{className:"h-12 border-2 border-gray-200 hover:border-emerald-300 focus:border-emerald-500 transition-colors",children:r.jsx(is,{placeholder:"Select WhatsApp number"})}),r.jsx(vs,{children:k.length===0?r.jsxs("div",{className:"p-4 text-center text-gray-500",children:[r.jsx(Jr,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsx("div",{className:"text-sm font-medium mb-1",children:"No WhatsApp numbers configured"}),r.jsx("div",{className:"text-xs text-gray-400",children:"Configure your WhatsApp Business API first"})]}):k.map($=>r.jsx(Ge,{value:$.phone_number_id,children:r.jsxs("div",{className:"flex items-center py-1",children:[r.jsx(Jr,{className:"h-5 w-5 mr-3 text-green-600"}),r.jsx("div",{className:"font-medium",children:$.label})]})},$.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"language",className:"text-sm font-semibold text-gray-700",children:"Language *"}),r.jsxs(es,{value:c,onValueChange:$=>{d($),l(null)},children:[r.jsx(bs,{className:"h-12 border-2 border-gray-200 hover:border-emerald-300 focus:border-emerald-500 transition-colors",children:r.jsx(is,{placeholder:_.length===0?"Loading languages...":"Select language"})}),r.jsx(vs,{children:_.map($=>r.jsx(Ge,{value:$.code,children:$.name},$.code))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(pe,{htmlFor:"template",className:"text-sm font-semibold text-gray-700 flex items-center",children:["Template *",A&&r.jsx(Es,{className:"h-4 w-4 ml-2 animate-spin text-emerald-600"})]}),r.jsxs(U,{variant:"ghost",size:"sm",onClick:Xe,disabled:A||!c,className:"h-6 px-2 text-xs",children:[r.jsx(sa,{className:"h-3 w-3 mr-1"}),"Refresh"]})]}),r.jsxs(es,{value:o?o.name:"",onValueChange:$=>{const re=C.find(ye=>ye.name===$);l(re||null)},disabled:A,children:[r.jsx(bs,{className:"h-12 border-2 border-gray-200 hover:border-emerald-300 focus:border-emerald-500 transition-colors",children:r.jsx(is,{placeholder:A?"Loading templates...":C.length===0?"No templates available":"Select template"})}),r.jsx(vs,{children:C.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:A?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Es,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading templates..."]}):r.jsxs("div",{children:[r.jsx(St,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsx("div",{className:"text-sm font-medium mb-1",children:"No templates available"}),r.jsx("div",{className:"text-xs text-gray-400",children:"Create a template first in the Templates section"})]})}):C.map($=>r.jsx(Ge,{value:$.name,children:$.name.replace(/_(UTILITY|MARKETING|AUTHENTICATION)$/,"").replace(/_/g," ")},$.id))})]})]})]})]}),r.jsxs(q,{className:`border-2 shadow-lg transition-all duration-300 ${X(3)==="completed"?"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50":X(3)==="current"?"border-emerald-200 bg-gradient-to-br from-emerald-50 to-green-50":"border-gray-200 bg-white"}`,children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 ${X(3)==="completed"?"bg-gradient-to-r from-green-500 to-emerald-500":X(3)==="current"?"bg-gradient-to-r from-blue-500 to-indigo-500":"bg-gray-300"}`,children:X(3)==="completed"?r.jsx(Ye,{className:"h-6 w-6 text-white"}):r.jsx("span",{className:"text-white font-bold text-lg",children:"2"})}),r.jsxs("div",{children:[r.jsxs(ie,{className:"flex items-center text-xl",children:[r.jsx(nc,{className:"h-6 w-6 mr-3 text-green-600"}),"Excel Data Upload"]}),r.jsx(je,{className:"text-base",children:"Upload your Excel file with recipient data"})]})]}),X(3)==="completed"&&r.jsxs(ke,{variant:"secondary",className:"bg-green-100 text-green-800 px-3 py-1",children:[r.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Complete"]})]})}),r.jsxs(Y,{className:"space-y-6",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-green-400 transition-all duration-300 bg-gradient-to-br from-gray-50 to-white",children:[r.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:M,className:"hidden",id:"file-upload"}),r.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[r.jsx(Ta,{className:"h-16 w-16 text-gray-400 mx-auto mb-4 hover:text-green-500 transition-colors"}),r.jsx("div",{className:"text-xl font-semibold text-gray-900 mb-2",children:u?u.name:"Upload Excel File"}),r.jsx("div",{className:"text-sm text-gray-500 mb-6",children:u?`${P.length} rows processed`:"Drag and drop or click to browse"})]})]}),u&&N.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"recipient-column",className:"text-sm font-semibold text-gray-700",children:"Recipient Phone Number Column *"}),r.jsxs(es,{value:f,onValueChange:p,children:[r.jsx(bs,{className:"h-12 border-2 border-gray-200 hover:border-emerald-300 focus:border-emerald-500 transition-colors",children:r.jsx(is,{placeholder:"Select column containing phone numbers"})}),r.jsx(vs,{children:N.map($=>r.jsx(Ge,{value:$,children:r.jsxs("div",{className:"flex items-center py-1",children:[r.jsx(vu,{className:"h-5 w-5 mr-3 text-blue-600"}),$]})},$))})]})]})]})]}),g&&w.length>0&&r.jsxs(q,{className:`border-2 shadow-lg transition-all duration-300 ${X(4)==="completed"?"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50":X(4)==="current"?"border-emerald-200 bg-gradient-to-br from-emerald-50 to-green-50":"border-gray-200 bg-white"}`,children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 ${X(4)==="completed"?"bg-gradient-to-r from-green-500 to-emerald-500":X(4)==="current"?"bg-gradient-to-r from-blue-500 to-indigo-500":"bg-gray-300"}`,children:X(4)==="completed"?r.jsx(Ye,{className:"h-6 w-6 text-white"}):r.jsx("span",{className:"text-white font-bold text-lg",children:"3"})}),r.jsxs("div",{children:[r.jsxs(ie,{className:"flex items-center text-xl",children:[r.jsx(Is,{className:"h-6 w-6 mr-3 text-orange-600"}),"Variable Mapping"]}),r.jsx(je,{className:"text-base",children:"Map template variables to Excel columns"})]})]}),X(4)==="completed"&&r.jsxs(ke,{variant:"secondary",className:"bg-green-100 text-green-800 px-3 py-1",children:[r.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Complete"]})]})}),r.jsx(Y,{className:"space-y-6",children:w.map($=>r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{className:"text-sm font-semibold text-gray-700",children:"Template Variable"}),r.jsx("div",{className:"p-3 bg-gray-100 rounded-lg border-2 border-gray-200 text-sm font-mono",children:$})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{className:"text-sm font-semibold text-gray-700",children:"Excel Column"}),r.jsxs(es,{value:j[$]||"",onValueChange:re=>V($,re),children:[r.jsx(bs,{className:"h-12 border-2 border-gray-200 hover:border-emerald-300 focus:border-emerald-500 transition-colors",children:r.jsx(is,{placeholder:"Select column"})}),r.jsx(vs,{children:N.map(re=>r.jsx(Ge,{value:re,children:r.jsxs("div",{className:"flex items-center py-1",children:[r.jsx(nc,{className:"h-5 w-5 mr-3 text-green-600"}),re]})},re))})]})]})]},$))})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs(U,{onClick:W,disabled:!o||!u||!f||O,className:"flex-1 h-14 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[O?r.jsx(Es,{className:"h-5 w-5 mr-2 animate-spin"}):r.jsx(cs,{className:"h-5 w-5 mr-2"}),"Generate Preview"]}),r.jsxs(U,{onClick:te,disabled:!a||!o||!u||!f||B,className:"flex-1 h-14 bg-gradient-to-r from-emerald-700 to-emerald-800 hover:from-emerald-800 hover:to-emerald-900 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[B?r.jsx(Es,{className:"h-5 w-5 mr-2 animate-spin"}):r.jsx(xr,{className:"h-5 w-5 mr-2"}),P.length>50?"Bulk Send":"Send Messages"," (",P.length,")"]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(q,{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-emerald-200 shadow-lg",children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(yu,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Campaign Summary"]})}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-white rounded-lg border border-emerald-200 shadow-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:P.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Recipients"})]}),r.jsxs("div",{className:"text-center p-4 bg-white rounded-lg border border-emerald-200 shadow-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:w.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Variables"})]})]}),o&&r.jsxs("div",{className:"p-4 bg-white rounded-lg border border-emerald-200 shadow-sm",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Selected Template"}),r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:o.name.replace(/_(UTILITY|MARKETING|AUTHENTICATION)$/,"").replace(/_/g," ")}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ke,{variant:"outline",className:"text-xs",children:o.category}),r.jsx(ke,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:((Be=_.find($=>$.code===o.language))==null?void 0:Be.name)||o.language})]})]})]})]}),b&&r.jsxs(q,{className:"shadow-lg",children:[r.jsxs(ae,{children:[r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(cs,{className:"h-5 w-5 mr-2 text-blue-600"}),"Message Preview"]}),r.jsx(je,{children:"Preview of your personalized messages"})]}),r.jsx(Y,{className:"space-y-3",children:b.map(($,re)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:["To: ",$.recipient]}),r.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:$.message})]},re))})]}),r.jsxs(q,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200 shadow-lg",children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center text-lg",children:[r.jsx(Rt,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Tips & Help"]})}),r.jsxs(Y,{className:"space-y-4",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsxs("div",{className:"font-semibold mb-2 flex items-center",children:[r.jsx(nc,{className:"h-4 w-4 mr-2 text-green-600"}),"Excel Format:"]}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:" First row should contain column headers"}),r.jsx("li",{children:" Phone numbers should include country code (e.g., 1, 91)"}),r.jsx("li",{children:" Variables will be replaced automatically"})]})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsxs("div",{className:"font-semibold mb-2 flex items-center",children:[r.jsx(bd,{className:"h-4 w-4 mr-2 text-yellow-600"}),"Quick Tips:"]}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:" Test with a small file first"}),r.jsx("li",{children:" Ensure phone numbers are valid"}),r.jsx("li",{children:" Check template approval status"})]})]})]})]})]})]})]}),tt.show&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Ye,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:tt.title}),r.jsx("p",{className:"text-sm text-gray-600",children:tt.message})]})]}),r.jsx(U,{variant:"ghost",size:"sm",onClick:()=>gt($=>({...$,show:!1})),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 h-8 w-8 p-0 rounded-lg",children:r.jsx(vt,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"text-center text-sm text-gray-500 mb-6",children:"Check Manage Reports for detailed delivery status and analytics"}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx(U,{variant:"outline",onClick:()=>gt($=>({...$,show:!1})),className:"bg-white hover:bg-gray-50 border-gray-200",children:"OK"}),r.jsx(U,{onClick:()=>{e("/user/manage-reports"),gt($=>({...$,show:!1}))},className:"bg-green-600 hover:bg-green-700 text-white",children:"Show Reports"})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Campaign completed successfully"})})]})})})]})]})}function gF(){const e=xt(),{toast:t}=wu(),[s,n]=h.useState([]),[a,i]=h.useState(null),[o,l]=h.useState(!0),[c,d]=h.useState({dateFrom:"",dateTo:"",recipientNumber:"",template:"",status:"all"}),[u,m]=h.useState(1),[f,p]=h.useState(1),[w]=h.useState(50),[y,j]=h.useState([]),[v,g]=h.useState(!1);h.useEffect(()=>{x(),b(),S()},[u]),h.useEffect(()=>{m(1),x()},[c]),h.useEffect(()=>{const R=P=>{const E=P.target;v&&!E.closest(".relative")&&g(!1)};return v&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[v]);const x=async()=>{l(!0);try{const R=new URLSearchParams({page:u.toString(),limit:w.toString(),dateFrom:c.dateFrom,dateTo:c.dateTo,recipientNumber:c.recipientNumber,template:c.template,status:c.status});for(const[E,N]of R.entries())(!N||N==="all")&&R.delete(E);const P=await fetch(`/api/whatsapp/reports?${R}`,{credentials:"include"});if(P.ok){const E=await P.json();n(E.data.reports||[]),p(Math.ceil(E.data.total/w))}else{const E=await P.json().catch(()=>({error:"Unknown error"}));console.error("Reports API Error:",P.status,E),t({title:"Error",description:`Failed to load reports: ${E.error||P.status}`,variant:"destructive"})}}catch(R){console.error("Error loading reports:",R),t({title:"Error",description:"Failed to load reports - Network error",variant:"destructive"})}finally{l(!1)}},b=async()=>{try{const R=await fetch("/api/whatsapp/reports/summary",{credentials:"include"});if(R.ok){const P=await R.json();i(P.data)}}catch(R){console.error("Error loading summary:",R)}},S=async()=>{try{const R=await fetch("/api/whatsapp/reports/templates",{credentials:"include"});if(R.ok){const P=await R.json();j(P.data||[])}}catch(R){console.error("Error loading templates:",R)}},k=(R,P)=>{d(E=>({...E,[R]:P}))},T=()=>{d({dateFrom:"",dateTo:"",recipientNumber:"",template:"",status:"all"})},C=async R=>{try{console.log(` Starting ${R.toUpperCase()} export...`);const P=new URLSearchParams({dateFrom:c.dateFrom,dateTo:c.dateTo,recipientNumber:c.recipientNumber,template:c.template,status:c.status,export:R});for(const[N,I]of P.entries())(!I||I==="all")&&P.delete(N);console.log(` Export URL: /api/whatsapp/reports?${P}`);const E=await fetch(`/api/whatsapp/reports?${P}`,{credentials:"include"});if(console.log(` Response status: ${E.status}`),console.log(" Response headers:",E.headers),E.ok){const N=E.headers.get("content-type");console.log(` Content-Type: ${N}`);const I=await E.blob();if(console.log(` Blob size: ${I.size} bytes, type: ${I.type}`),I.size===0)throw new Error("Empty file received");const A=window.URL.createObjectURL(I),z=document.createElement("a");z.href=A;const O=Object.entries(c).filter(([H,G])=>G&&G!=="all").map(([H,G])=>`${H}-${G}`).join("_"),L=R==="csv"?"csv":"xlsx",B=O?`whatsapp_reports_filtered_${O}_${new Date().toISOString().split("T")[0]}.${L}`:`whatsapp_reports_all_${new Date().toISOString().split("T")[0]}.${L}`;console.log(` Download filename: ${B}`),z.download=B,document.body.appendChild(z),z.click(),document.body.removeChild(z),window.URL.revokeObjectURL(A),t({title:"Success",description:O?`Filtered reports exported as ${R.toUpperCase()} successfully`:`All reports exported as ${R.toUpperCase()} successfully`,variant:"default"})}else{const N=await E.text();console.error(` Export failed: ${E.status} - ${N}`);let I="Failed to export reports";try{const A=JSON.parse(N);I=A.details||A.message||I}catch{I=N||I}t({title:"Error",description:I,variant:"destructive"})}}catch(P){console.error("Error exporting reports:",P),t({title:"Error",description:P instanceof Error?P.message:"Failed to export reports",variant:"destructive"})}},D=R=>{switch(R==null?void 0:R.toLowerCase()){case"sent":return r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-xs font-bold shadow-md min-w-[85px] justify-center",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full flex items-center justify-center",children:r.jsx(Ye,{className:"h-2 w-2 text-blue-600"})}),r.jsx("span",{children:"SENT"})]});case"delivered":return r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-lg text-xs font-bold shadow-md min-w-[95px] justify-center",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full flex items-center justify-center",children:r.jsx(Ye,{className:"h-2 w-2 text-green-600"})}),r.jsx("span",{children:"DELIVERED"})]});case"failed":return r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg text-xs font-bold shadow-md min-w-[85px] justify-center",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full flex items-center justify-center",children:r.jsx(mr,{className:"h-2 w-2 text-red-600"})}),r.jsx("span",{children:"FAILED"})]});case"duplicate":return r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-lg text-xs font-bold shadow-md min-w-[95px] justify-center",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full flex items-center justify-center",children:r.jsx(mr,{className:"h-2 w-2 text-orange-600"})}),r.jsx("span",{children:"DUPLICATE"})]});case"read":return r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-purple-500 to-violet-600 text-white rounded-lg text-xs font-bold shadow-md min-w-[75px] justify-center",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full flex items-center justify-center",children:r.jsx(Ye,{className:"h-2 w-2 text-purple-600"})}),r.jsx("span",{children:"READ"})]});default:return r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-gray-400 to-gray-500 text-white rounded-lg text-xs font-bold shadow-md min-w-[85px] justify-center",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full flex items-center justify-center",children:r.jsx(pr,{className:"h-2 w-2 text-gray-500"})}),r.jsx("span",{children:"PENDING"})]})}},_=R=>R?R.startsWith("+")?R:`+${R}`:"-";return r.jsx(at,{title:"Manage Reports",subtitle:"View and analyze your WhatsApp campaign performance and message delivery reports",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs(U,{variant:"ghost",onClick:()=>e("/user/dashboard"),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),r.jsxs(q,{children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Message Reports"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(U,{variant:"outline",size:"sm",onClick:x,disabled:o,className:"text-green-600 border-green-600 hover:bg-green-50",children:[r.jsx(sa,{className:`h-4 w-4 mr-1 ${o?"animate-spin":""}`}),"Refresh"]}),r.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{console.log("CSV export clicked"),C("csv")},className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[r.jsx(yd,{className:"h-4 w-4 mr-1"}),"Export CSV"]}),r.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{console.log("Excel export clicked"),C("excel")},className:"text-green-600 border-green-600 hover:bg-green-50",children:[r.jsx(yd,{className:"h-4 w-4 mr-1"}),"Export Excel"]})]})]})}),r.jsxs(Y,{children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M_,{className:"h-5 w-5 text-gray-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Filter Reports"})]}),r.jsx(U,{variant:"outline",size:"sm",onClick:T,className:"text-gray-600 hover:text-gray-800",children:"Clear All"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",value:c.dateFrom,onChange:R=>k("dateFrom",R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",value:c.dateTo,onChange:R=>k("dateTo",R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient Number"}),r.jsx("input",{type:"text",placeholder:"e.g., +919398424270",value:c.recipientNumber,onChange:R=>k("recipientNumber",R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template"}),r.jsxs("select",{value:c.template,onChange:R=>k("template",R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"",children:"All Templates"}),y.map(R=>r.jsx("option",{value:R,children:R},R))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:c.status,onChange:R=>k("status",R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"sent",children:"Sent"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"failed",children:"Failed"}),r.jsx("option",{value:"duplicate",children:"Duplicate Blocked"}),r.jsx("option",{value:"read",children:"Read"})]})]})]}),Object.entries(c).some(([R,P])=>P&&P!=="all")&&r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),Object.entries(c).map(([R,P])=>!P||P==="all"?null:r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[R,": ",P,r.jsx("button",{onClick:()=>k(R,R==="status"?"all":""),className:"hover:text-green-900",children:""})]},R))]})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[1200px] border-collapse bg-white",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-white",children:[r.jsx("th",{className:"text-left px-3 py-3 font-bold text-[10px] uppercase tracking-wide min-w-[180px] border-r border-slate-700",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(St,{className:"h-3 w-3"}),"Template"]})}),r.jsx("th",{className:"text-left px-3 py-3 font-bold text-[10px] uppercase tracking-wide min-w-[140px] border-r border-slate-700",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"h-3 w-3"}),"Recipient"]})}),r.jsx("th",{className:"text-left px-3 py-3 font-bold text-[10px] uppercase tracking-wide min-w-[100px] border-r border-slate-700",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ye,{className:"h-3 w-3"}),"Status"]})}),r.jsx("th",{className:"text-left px-3 py-3 font-bold text-[10px] uppercase tracking-wide min-w-[130px] border-r border-slate-700",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ye,{className:"h-3 w-3 text-green-400"}),"Delivered At"]})}),r.jsx("th",{className:"text-left px-3 py-3 font-bold text-[10px] uppercase tracking-wide min-w-[120px] border-r border-slate-700",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ye,{className:"h-3 w-3 text-purple-400"}),"Read At"]})}),r.jsx("th",{className:"text-left px-3 py-3 font-bold text-[10px] uppercase tracking-wide min-w-[200px]",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(mr,{className:"h-3 w-3 text-red-400"}),"Error"]})})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:o?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center py-8 px-4",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(sa,{className:"h-5 w-5 animate-spin text-green-600 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Loading reports..."})]})})}):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center py-8 px-4 text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(St,{className:"h-10 w-10 text-gray-300 mb-2"}),r.jsx("span",{className:"text-sm",children:"No reports found"})]})})}):s.map((R,P)=>r.jsxs("tr",{className:`hover:bg-slate-50 transition-all duration-300 border-b border-gray-100 ${P%2===0?"bg-white":"bg-slate-50/50"}`,children:[r.jsx("td",{className:"px-3 py-3 min-w-[180px] border-r border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center flex-shrink-0",children:r.jsx(St,{className:"h-3 w-3 text-white"})}),r.jsx("span",{className:"text-xs text-gray-800 font-semibold",title:R.template_used,children:R.template_used})]})}),r.jsx("td",{className:"px-3 py-3 min-w-[140px] border-r border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Jr,{className:"h-3 w-3 text-green-600"})}),r.jsx("span",{className:"text-xs text-gray-800 font-mono font-medium",title:_(R.recipient_number),children:_(R.recipient_number)})]})}),r.jsx("td",{className:"px-3 py-3 min-w-[100px] border-r border-gray-100",children:r.jsx("div",{className:"scale-75 origin-left",children:D(R.status)})}),r.jsx("td",{className:"px-3 py-3 min-w-[130px] border-r border-gray-100",children:r.jsx("div",{className:"flex flex-col gap-1",children:R.delivered_at?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Ye,{className:"h-2 w-2 text-green-600"})}),r.jsx("span",{className:"text-[10px] font-semibold text-green-700",children:new Date(R.delivered_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),r.jsx("span",{className:"text-[10px] text-gray-600 font-medium ml-5",children:new Date(R.delivered_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}):r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(pr,{className:"h-2 w-2 text-gray-400"})}),r.jsx("span",{className:"text-[10px] text-green-600 font-medium",children:"Not delivered"})]})})}),r.jsx("td",{className:"px-3 py-3 min-w-[120px] border-r border-gray-100",children:r.jsx("div",{className:"flex flex-col gap-1",children:R.read_at?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Ye,{className:"h-2 w-2 text-purple-600"})}),r.jsx("span",{className:"text-[10px] font-semibold text-purple-700",children:new Date(R.read_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),r.jsx("span",{className:"text-[10px] text-gray-600 font-medium ml-5",children:new Date(R.read_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}):r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(pr,{className:"h-2 w-2 text-gray-400"})}),r.jsx("span",{className:"text-[10px] text-green-600 font-medium",children:"Not read"})]})})}),r.jsx("td",{className:"px-3 py-3 min-w-[200px]",children:R.error_message?r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border-l-2 border-red-400 rounded-r-md px-2 py-1 cursor-help",children:r.jsxs("div",{className:"flex items-start gap-1",children:[r.jsx(mr,{className:"h-3 w-3 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-[10px] font-semibold text-red-800 mb-0.5",children:"Error"}),r.jsx("p",{className:"text-[10px] text-red-700 font-medium leading-tight overflow-hidden",children:R.error_message})]})]})}),r.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-2xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none z-50 min-w-[300px] max-w-[400px]",children:[r.jsxs("div",{className:"break-words whitespace-normal leading-relaxed",children:[r.jsx("p",{className:"font-semibold mb-1 text-yellow-400",children:"Complete Error:"}),r.jsx("p",{className:"text-xs",children:R.error_message})]}),r.jsx("div",{className:"absolute top-full left-4 -mt-1",children:r.jsx("div",{className:"border-4 border-transparent border-t-gray-900"})})]})]}):r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Ye,{className:"h-2 w-2 text-green-600"})}),r.jsx("span",{className:"text-[10px] text-green-600 font-medium",children:"Success"})]})})]},R.id))})]})})}),f>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",u," of ",f]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(U,{variant:"outline",size:"sm",onClick:()=>m(Math.max(1,u-1)),disabled:u===1,children:"Previous"}),r.jsx(U,{variant:"outline",size:"sm",onClick:()=>m(Math.min(f,u+1)),disabled:u===f,children:"Next"})]})]})]})]})]})})}const zd=K.forwardRef(({orientation:e="horizontal",className:t,...s},n)=>r.jsx("div",{ref:n,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));zd.displayName="Separator";function yF(){const e=xt(),[t,s]=h.useState(null),[n,a]=h.useState([]),[i,o]=h.useState(""),[l,c]=h.useState(null),[d,u]=h.useState(!0),[m,f]=h.useState({recipient_number:"1234567890",variables:{},buttons:{}}),[p,w]=h.useState(null),[y,j]=h.useState(!1),[v,g]=h.useState(null),[x,b]=h.useState(null);h.useEffect(()=>{const E=localStorage.getItem("user");if(!E){e("/login");return}const N=JSON.parse(E);s(N),S()},[e]),h.useEffect(()=>{i&&l&&T()},[m,i,l]);const S=async()=>{try{u(!0);const E=await fetch("/api/whatsapp/templates",{credentials:"include"});if(E.ok){const N=await E.json();a(N.data.filter(I=>I.status==="APPROVED"||I.status==="ACTIVE"))}}catch(E){console.error("Error fetching templates:",E)}finally{u(!1)}},k=async E=>{if(!(!t||!E))try{const N=await fetch(`/api/send/template-info/${t.username}/${E}`,{credentials:"include"});if(N.ok){const I=await N.json();c(I.requirements);const A={},z={};I.requirements.optional_params.forEach(O=>{O.name.startsWith("var")&&(A[O.name]=O.example)}),I.requirements.has_buttons&&I.requirements.button_types.forEach(O=>{O.type==="URL"&&(z[`button_${O.index}_url`]="https://example.com")}),f(O=>({...O,variables:A,buttons:z,recipient_number:O.recipient_number.startsWith("+")?O.recipient_number.slice(1):O.recipient_number}))}}catch(N){console.error("Error analyzing template:",N)}},T=()=>{var I;if(!l||!i)return;const E=n.find(A=>A.name===i);if(!E)return;let N={recipient:m.recipient_number,body:"",buttons:[]};(I=E.components)==null||I.forEach(A=>{var z;if(A.type==="HEADER"){if(A.format==="TEXT"){let O=A.text||"";Object.keys(m.variables).forEach(L=>{const B=new RegExp(`{{${L.replace("var","")}}}`,"g");O=O.replace(B,m.variables[L]||`[${L}]`)}),N.header=O}}else if(A.type==="BODY"){let O=A.text||"";Object.keys(m.variables).forEach(L=>{const B=new RegExp(`{{${L.replace("var","")}}}`,"g");O=O.replace(B,m.variables[L]||`[${L}]`)}),N.body=O}else A.type==="BUTTONS"&&(N.buttons=((z=A.buttons)==null?void 0:z.map(O=>({type:O.type,text:O.text})))||[])}),g(N)},C=async(E,N)=>{try{await navigator.clipboard.writeText(E),b(N),setTimeout(()=>b(null),2e3)}catch(I){console.error("Failed to copy:",I)}},D=async()=>{if(!(!t||!i)){j(!0);try{const E={username:t.username,templatename:i,recipient_number:m.recipient_number,...m.variables,...m.buttons},N=await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)}),I=await N.json();w({status:N.status,data:I})}catch(E){w({status:500,data:{error:"Network Error",message:E instanceof Error?E.message:"Unknown error"}})}finally{j(!1)}}},_=()=>{if(!t||!i||!l)return"";const E={username:t.username,templatename:i,recipient_number:m.recipient_number,...m.variables,...m.buttons};return`curl -X POST "https://primesms.app/api/send" \\
  -H "Content-Type: application/json" \\
  -d '${JSON.stringify(E,null,2)}'`},R=()=>{if(!t||!i||!l)return"";const E={username:t.username,templatename:i,recipient_number:"RECIPIENT_PHONE_NUMBER",...Object.keys(m.variables).reduce((N,I)=>(N[I]=`YOUR_${I.toUpperCase()}_VALUE`,N),{}),...Object.keys(m.buttons).reduce((N,I)=>(N[I]="YOUR_URL_HERE",N),{})};return`// JavaScript/Node.js Example
const axios = require('axios');

async function sendWhatsAppMessage() {
  try {
    const response = await axios.post('https://primesms.app/api/send', ${JSON.stringify(E,null,4)});
    
    console.log('Message sent successfully:', response.data);
    return response.data;
  } catch (error) {
    console.error('Failed to send message:', error.response?.data || error.message);
    throw error;
  }
}

// Usage
sendWhatsAppMessage()
  .then(result => console.log('Success:', result.message_id))
  .catch(error => console.error('Error:', error));`},P=()=>{if(!t||!i||!l)return"";const E={username:t.username,templatename:i,recipient_number:"RECIPIENT_PHONE_NUMBER",...Object.keys(m.variables).reduce((N,I)=>(N[I]=`YOUR_${I.toUpperCase()}_VALUE`,N),{}),...Object.keys(m.buttons).reduce((N,I)=>(N[I]="YOUR_URL_HERE",N),{})};return`# Python Example
import requests
import json

def send_whatsapp_message():
    url = "https://primesms.app/api/send"
    
    payload = ${JSON.stringify(E,null,4).replace(/"/g,'"')}
    
    try:
        response = requests.post(url, json=payload, timeout=30)
        response.raise_for_status()
        
        result = response.json()
        print(f"Message sent successfully: {result['message_id']}")
        return result
        
    except requests.exceptions.RequestException as e:
        print(f"Failed to send message: {e}")
        raise

# Usage
try:
    result = send_whatsapp_message()
    print(f"Success: {result['message_id']}")
except Exception as e:
    print(f"Error: {e}")`};return d?r.jsx(at,{title:"API Management",subtitle:"Professional WhatsApp Business API Documentation",children:r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):r.jsx(at,{title:"API Management",subtitle:"Professional WhatsApp Business API - Send messages programmatically with enterprise-grade reliability",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(q,{className:"border border-gray-200",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"API Status"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Online"}),r.jsx("p",{className:"text-xs text-gray-500",children:"99.9% uptime"})]}),r.jsx(my,{className:"h-5 w-5 text-gray-600"})]})})}),r.jsx(q,{className:"border border-gray-200",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Templates"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.length}),r.jsx("p",{className:"text-xs text-gray-500",children:"Active & Approved"})]}),r.jsx(O_,{className:"h-5 w-5 text-gray-600"})]})})}),r.jsx(q,{className:"border border-gray-200",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rate Limit"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"100/15min"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Per IP address"})]}),r.jsx(yi,{className:"h-5 w-5 text-gray-600"})]})})}),r.jsx(q,{className:"border border-gray-200",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your Username"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900 font-mono",children:t==null?void 0:t.username}),r.jsx("p",{className:"text-xs text-gray-500",children:"API Credentials"})]}),r.jsx(vu,{className:"h-5 w-5 text-gray-600"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.jsxs(q,{className:"border border-gray-200",children:[r.jsxs(ae,{className:"border-b border-gray-200 bg-white",children:[r.jsxs(ie,{className:"flex items-center gap-2 text-lg text-gray-900",children:[r.jsx(q_,{className:"h-5 w-5 text-gray-600"}),"API Testing Console"]}),r.jsx(je,{className:"text-gray-600",children:"Test your API endpoints with real templates and see live responses"})]}),r.jsxs(Y,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(pe,{htmlFor:"template-select",className:"text-sm font-semibold text-gray-700",children:"Select Template *"}),r.jsxs(es,{className:"h-10 border border-gray-300",value:i,onValueChange:E=>{o(E),k(E)},children:[r.jsx(is,{placeholder:"Choose a template to test"}),n.map(E=>{const N=E.name.replace(/_(UTILITY|MARKETING|AUTHENTICATION)$/,"").replace(/_/g," ");return r.jsx(Ge,{value:E.name,children:`${N}  ${E.category}`},E.id)})]})]}),l&&r.jsxs(Bt,{className:"bg-gray-50 border border-gray-200",children:[r.jsx(Rt,{className:"h-4 w-4 text-gray-600"}),r.jsx(zt,{className:"text-gray-700",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:"Template Requirements:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.has_header&&r.jsxs(ke,{variant:"outline",className:"text-gray-700 border-gray-300",children:["Header: ",l.header_type]}),l.variable_count>0&&r.jsxs(ke,{variant:"outline",className:"text-gray-700 border-gray-300",children:["Variables: ",l.variable_count]}),l.has_buttons&&r.jsxs(ke,{variant:"outline",className:"text-gray-700 border-gray-300",children:["Buttons: ",l.button_types.length]})]})]})})]}),i&&l&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(zd,{}),r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Is,{className:"h-5 w-5"}),"Test Parameters"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"recipient",className:"text-sm font-semibold text-gray-700",children:"Recipient Phone Number *"}),r.jsxs("div",{className:"relative",children:[r.jsx(le,{id:"recipient",placeholder:"1234567890",value:m.recipient_number,onChange:E=>{const N=E.target.value.replace(/\+/g,"");f(I=>({...I,recipient_number:N}))},className:"h-10 border border-gray-300 pl-4"}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx(sf,{className:"h-4 w-4 text-gray-400"})})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Enter phone number without + symbol (e.g. 919398424270)"})]}),l.optional_params.filter(E=>E.name.startsWith("var")).map(E=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{htmlFor:E.name,className:"text-sm font-semibold text-gray-700",children:[E.name,E.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx(le,{id:E.name,placeholder:E.example,value:m.variables[E.name]||"",onChange:N=>f(I=>({...I,variables:{...I.variables,[E.name]:N.target.value}})),className:"h-10 border border-gray-300"}),r.jsx("p",{className:"text-xs text-gray-500",children:E.description})]},E.name)),l.has_buttons&&l.button_types.map(E=>E.type==="URL"&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[r.jsx(B_,{className:"h-4 w-4"}),'Button URL for "',E.text,'" *']}),r.jsx(le,{placeholder:"https://example.com",value:m.buttons[`button_${E.index}_url`]||"",onChange:N=>f(I=>({...I,buttons:{...I.buttons,[`button_${E.index}_url`]:N.target.value}})),className:"h-10 border border-gray-300"}),r.jsxs("p",{className:"text-xs text-gray-500",children:['Dynamic URL for the "',E.text,'" button']})]},`button_${E.index}`)),r.jsx(U,{onClick:D,disabled:y||!m.recipient_number,className:"w-full h-10 bg-gray-900 hover:bg-gray-800 text-white",children:y?r.jsxs(r.Fragment,{children:[r.jsx(sa,{className:"h-5 w-5 mr-2 animate-spin"}),"Testing API..."]}):r.jsxs(r.Fragment,{children:[r.jsx(W_,{className:"h-5 w-5 mr-2"}),"Test API Call"]})}),p&&r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("h4",{className:"text-md font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(my,{className:"h-4 w-4"}),"API Response"]}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs(ke,{variant:p.status===200?"default":"destructive",className:p.status===200?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800",children:["HTTP ",p.status]}),p.status===200&&r.jsx(Je,{className:"h-4 w-4 text-gray-600"})]}),r.jsx("pre",{className:"bg-gray-50 border border-gray-200 text-gray-800 p-4 rounded text-sm overflow-x-auto",children:JSON.stringify(p.data,null,2)})]})]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(q,{className:"border border-gray-200 sticky top-6",children:[r.jsxs(ae,{className:"border-b border-gray-200 bg-white",children:[r.jsxs(ie,{className:"flex items-center gap-2 text-lg text-gray-900",children:[r.jsx(cs,{className:"h-5 w-5 text-gray-600"}),"Message Preview"]}),r.jsx(je,{className:"text-gray-600",children:"See how your message will appear"})]}),r.jsx(Y,{className:"p-6",children:v?r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-600 rounded-full flex items-center justify-center",children:r.jsx(Nt,{className:"h-3 w-3 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm",children:"Prime SMS"}),r.jsxs("p",{className:"text-xs text-gray-600",children:["to ",v.recipient]})]})]}),v.header&&r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"bg-white rounded p-3 border border-gray-200",children:r.jsx("p",{className:"font-medium text-gray-800 text-sm",children:v.header})})}),r.jsx("div",{className:"bg-white rounded p-3 border border-gray-200 mb-3",children:r.jsx("p",{className:"text-gray-800 text-sm whitespace-pre-wrap",children:v.body})}),v.buttons&&v.buttons.length>0&&r.jsx("div",{className:"space-y-2",children:v.buttons.map((E,N)=>r.jsxs("div",{className:"bg-white border border-gray-300 rounded p-2 text-center",children:[r.jsx("span",{className:"text-gray-700 font-medium text-sm",children:E.text}),E.type==="URL"&&r.jsx(Tc,{className:"h-3 w-3 inline ml-1 text-gray-600"})]},N))})]})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(sf,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{className:"text-gray-500",children:"Select a template to see preview"})]})})]}),i&&l&&r.jsxs(q,{className:"border border-gray-200",children:[r.jsx(ae,{className:"border-b border-gray-200 bg-white",children:r.jsxs(ie,{className:"flex items-center gap-2 text-lg text-gray-900",children:[r.jsx(__,{className:"h-5 w-5 text-gray-600"}),"Code Examples"]})}),r.jsx(Y,{className:"p-4 space-y-4",children:r.jsxs(Vo,{defaultValue:"curl",className:"space-y-3",children:[r.jsxs(Pi,{className:"grid w-full grid-cols-3",children:[r.jsx(Gt,{value:"curl",children:"cURL"}),r.jsx(Gt,{value:"js",children:"JS"}),r.jsx(Gt,{value:"py",children:"Python"})]}),r.jsx(Kt,{value:"curl",children:r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-50 border border-gray-200 text-gray-800 p-3 rounded text-xs overflow-x-auto max-h-40",children:_()}),r.jsx(U,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>C(_(),"curl"),children:x==="curl"?r.jsx(Je,{className:"h-3 w-3"}):r.jsx(An,{className:"h-3 w-3"})})]})}),r.jsx(Kt,{value:"js",children:r.jsxs("div",{className:"relative",children:[r.jsxs("pre",{className:"bg-gray-50 border border-gray-200 text-gray-800 p-3 rounded text-xs overflow-x-auto max-h-40",children:[R().split(`
`).slice(0,10).join(`
`),"..."]}),r.jsx(U,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>C(R(),"js"),children:x==="js"?r.jsx(Je,{className:"h-3 w-3"}):r.jsx(An,{className:"h-3 w-3"})})]})}),r.jsx(Kt,{value:"py",children:r.jsxs("div",{className:"relative",children:[r.jsxs("pre",{className:"bg-gray-50 border border-gray-200 text-gray-800 p-3 rounded text-xs overflow-x-auto max-h-40",children:[P().split(`
`).slice(0,10).join(`
`),"..."]}),r.jsx(U,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>C(P(),"py"),children:x==="py"?r.jsx(Je,{className:"h-3 w-3"}):r.jsx(An,{className:"h-3 w-3"})})]})})]})})]})]})]}),r.jsxs(q,{className:"border border-gray-200",children:[r.jsxs(ae,{className:"border-b border-gray-200 bg-white",children:[r.jsxs(ie,{className:"flex items-center gap-2 text-xl text-gray-900",children:[r.jsx(IN,{className:"h-6 w-6 text-gray-600"}),"API Documentation"]}),r.jsx(je,{className:"text-gray-600",children:"Complete WhatsApp Business API reference and examples"})]}),r.jsx(Y,{className:"p-6",children:r.jsxs(Vo,{defaultValue:"overview",className:"space-y-6",children:[r.jsxs(Pi,{className:"grid w-full grid-cols-4",children:[r.jsx(Gt,{value:"overview",children:"Overview"}),r.jsx(Gt,{value:"endpoints",children:"Endpoints"}),r.jsx(Gt,{value:"examples",children:"Examples"}),r.jsx(Gt,{value:"errors",children:"Error Codes"})]}),r.jsx(Kt,{value:"overview",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Start Guide"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-xs font-bold text-blue-600",children:"1"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Get Your Credentials"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Username: ",r.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:t==null?void 0:t.username})]})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-xs font-bold text-blue-600",children:"2"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Choose Template"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Select from your approved WhatsApp templates"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-xs font-bold text-blue-600",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Send Request"}),r.jsx("p",{className:"text-sm text-gray-600",children:"POST to /api/send with your data"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Key Features"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Je,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Dynamic button URL support"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Je,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Template variable substitution"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Je,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Real-time delivery tracking"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Je,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm",children:"99.9% uptime guarantee"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Je,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Rate limiting protection"})]})]})]})]})}),r.jsx(Kt,{value:"endpoints",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(q,{className:"border border-gray-200",children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center gap-2 text-lg text-gray-900",children:[r.jsx(xr,{className:"h-5 w-5 text-gray-600"}),"Send Message"]})}),r.jsxs(Y,{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 border border-gray-200 p-3 rounded",children:r.jsx("code",{className:"text-gray-800 font-mono",children:"POST /api/send"})}),r.jsx("p",{className:"text-sm text-gray-600",children:"Send templated WhatsApp messages with dynamic content and button URLs."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Required Parameters:"}),r.jsxs("ul",{className:"text-sm space-y-1 text-gray-600 pl-4",children:[r.jsxs("li",{children:[" ",r.jsx("code",{children:"username"})," - Your Prime SMS username"]}),r.jsxs("li",{children:[" ",r.jsx("code",{children:"templatename"})," - Active template name"]}),r.jsxs("li",{children:[" ",r.jsx("code",{children:"recipient_number"})," - Phone without + (e.g. 919398424270)"]})]})]})]})]}),r.jsxs(q,{className:"border border-gray-200",children:[r.jsx(ae,{children:r.jsxs(ie,{className:"flex items-center gap-2 text-lg text-gray-900",children:[r.jsx(St,{className:"h-5 w-5 text-gray-600"}),"Template Info"]})}),r.jsxs(Y,{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 border border-gray-200 p-3 rounded",children:r.jsx("code",{className:"text-gray-800 font-mono",children:"GET /api/send/template-info/:username/:templatename"})}),r.jsx("p",{className:"text-sm text-gray-600",children:"Analyze template requirements including variables, buttons, and parameters."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Example:"}),r.jsxs("code",{className:"text-xs bg-gray-100 p-2 rounded block break-all",children:["GET https://primesms.app/api/send/template-info/",t==null?void 0:t.username,"/welcome_message"]})]})]})]})]})}),r.jsx(Kt,{value:"examples",className:"space-y-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Complete Code Examples"}),r.jsxs(Vo,{defaultValue:"curl-full",className:"space-y-4",children:[r.jsxs(Pi,{children:[r.jsx(Gt,{value:"curl-full",children:"cURL"}),r.jsx(Gt,{value:"javascript-full",children:"JavaScript"}),r.jsx(Gt,{value:"python-full",children:"Python"})]}),r.jsx(Kt,{value:"curl-full",children:i&&l?r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-50 border border-gray-200 text-gray-800 p-4 rounded overflow-x-auto text-sm",children:_()}),r.jsx(U,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>C(_(),"curl-full"),children:x==="curl-full"?r.jsx(Je,{className:"h-4 w-4"}):r.jsx(An,{className:"h-4 w-4"})})]}):r.jsxs(Bt,{children:[r.jsx(Rt,{className:"h-4 w-4"}),r.jsx(zt,{children:"Select a template above to generate customized code examples."})]})}),r.jsx(Kt,{value:"javascript-full",children:i&&l?r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-50 border border-gray-200 text-gray-800 p-4 rounded overflow-x-auto text-sm",children:R()}),r.jsx(U,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>C(R(),"js-full"),children:x==="js-full"?r.jsx(Je,{className:"h-4 w-4"}):r.jsx(An,{className:"h-4 w-4"})})]}):r.jsxs(Bt,{children:[r.jsx(Rt,{className:"h-4 w-4"}),r.jsx(zt,{children:"Select a template above to generate customized code examples."})]})}),r.jsx(Kt,{value:"python-full",children:i&&l?r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-50 border border-gray-200 text-gray-800 p-4 rounded overflow-x-auto text-sm",children:P()}),r.jsx(U,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>C(P(),"py-full"),children:x==="py-full"?r.jsx(Je,{className:"h-4 w-4"}):r.jsx(An,{className:"h-4 w-4"})})]}):r.jsxs(Bt,{children:[r.jsx(Rt,{className:"h-4 w-4"}),r.jsx(zt,{children:"Select a template above to generate customized code examples."})]})})]})]})}),r.jsxs(Kt,{value:"errors",className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"HTTP Response Codes"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(q,{className:"border border-gray-200",children:r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ke,{className:"bg-gray-100 text-gray-800",children:"200 Success"}),r.jsx(Je,{className:"h-4 w-4 text-gray-600"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Message sent successfully to WhatsApp"})]})}),r.jsx(q,{className:"border border-gray-200",children:r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ke,{className:"bg-red-100 text-red-800",children:"400 Bad Request"}),r.jsx(Ms,{className:"h-4 w-4 text-red-600"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Missing or invalid parameters"})]})}),r.jsx(q,{className:"border border-gray-200",children:r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ke,{className:"bg-gray-100 text-gray-800",children:"401 Unauthorized"}),r.jsx(yi,{className:"h-4 w-4 text-gray-600"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Invalid username credentials"})]})}),r.jsx(q,{className:"border border-gray-200",children:r.jsxs(Y,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ke,{className:"bg-gray-100 text-gray-800",children:"429 Rate Limited"}),r.jsx(pr,{className:"h-4 w-4 text-gray-600"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Too many requests (100/15min limit exceeded)"})]})})]})]})]})})]})]})})}function JS({children:e}){const{theme:t,setTheme:s}=lS(),n=()=>{s(t==="light"?"dark":"light")};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx(Te.header,{initial:{y:-100},animate:{y:0},className:"sticky top-0 z-50 w-full border-b bg-white",children:r.jsxs("div",{className:"container flex h-16 items-center px-4",children:[r.jsxs($e,{to:"/",className:"flex items-center space-x-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:r.jsx(Nt,{className:"h-4 w-4 text-white"})}),r.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Prime SMS"})]}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(U,{variant:"ghost",size:"sm",onClick:n,className:"text-gray-600",children:t==="light"?r.jsx(U_,{className:"h-4 w-4"}):r.jsx(K_,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(U,{variant:"ghost",asChild:!0,children:r.jsx($e,{to:"/login",children:"Sign In"})}),r.jsx(U,{asChild:!0,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700",children:r.jsx($e,{to:"/signup",children:"Get Started"})})]})]})]})}),r.jsx(Te.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e}),r.jsx(Te.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"border-t bg-white",children:r.jsx("div",{className:"container px-4 py-8",children:r.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"h-6 w-6 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:r.jsx(Nt,{className:"h-3 w-3 text-white"})}),r.jsx("span",{className:"text-sm text-gray-600",children:" 2025 Prime SMS. All rights reserved."})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[r.jsx($e,{to:"/privacy",className:"hover:text-indigo-600 dark:hover:text-indigo-400",children:"Privacy Policy"}),r.jsx($e,{to:"/refund-policy",className:"hover:text-indigo-600 dark:hover:text-indigo-400",children:"Refund Policy"}),r.jsx($e,{to:"/support",className:"hover:text-indigo-600 dark:hover:text-indigo-400",children:"Support"})]})]})})})]})}const vF=[{id:"scope",title:"1) What this Policy covers (Scope)"},{id:"data-we-collect",title:"2) Data we collect"},{id:"purposes",title:"3) Why we use data (Purposes & legal bases)"},{id:"whatsapp-processing",title:"4) How WhatsApp processing works"},{id:"sharing",title:"5) Sharing & subprocessors"},{id:"transfers",title:"6) International transfers"},{id:"security",title:"7) Security"},{id:"retention",title:"8) Retention"},{id:"rights",title:"9) Your choices & rights"},{id:"cookies",title:"10) Cookies & similar technologies"},{id:"children",title:"11) Children"},{id:"links",title:"12) Thirdparty links"},{id:"changes",title:"13) Changes to this Policy"},{id:"contact",title:"14) Contact us"},{id:"jurisdiction",title:"Jurisdictional Addendum (summary)"},{id:"product-notes",title:"Productspecific notes (Prime SMS)"}];function bF(){return r.jsx(JS,{children:r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Privacy Policy"}),r.jsx("p",{className:"mt-2 text-gray-600",children:'Prime SMS Technologies Pvt. Ltd. ("Prime SMS", "we", "us")'}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Last updated: 12 Aug 2025"}),r.jsx("div",{className:"mt-4",children:r.jsx($e,{to:"/",className:"inline-flex items-center text-emerald-700 hover:text-emerald-900",children:" Back to home"})})]}),r.jsx(q,{className:"md:w-[420px]",children:r.jsxs(Y,{className:"p-4",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Jump to a section"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:vF.map(e=>r.jsx("a",{href:`#${e.id}`,className:"text-emerald-700 hover:text-emerald-900",children:e.title.replace(/^[0-9)+ ]+/,"")},e.id))})]})})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:r.jsxs("div",{className:"prose prose-gray max-w-none",children:[r.jsx("p",{children:"This Privacy Policy explains what we collect, why we collect it, and how we use, share, secure and retain personal data when you use Prime SMS  a WhatsApp Business Platform SaaS for sending/receiving WhatsApp messages, managing templates, campaigns and webhooks. By using our Services, you agree to this Policy."}),r.jsxs("details",{id:"scope",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"1) What this Policy covers (Scope)"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("b",{children:"Web properties"}),": sites under primesms.app and subdomains."]}),r.jsxs("li",{children:[r.jsx("b",{children:"App & APIs"}),": Prime SMS dashboard, bulk send, template manager, reporting, webhooks, and integrations (e.g., n8n)."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Enduser messaging"}),": data we process on your behalf when your customers message your WhatsApp numbers connected to Prime SMS."]})]}),r.jsxs("p",{className:"mt-2",children:["We act as a ",r.jsx("b",{children:"processor/service provider"})," for message content you process through our Services and as a ",r.jsx("b",{children:"controller/business"})," for your account/admin data."]})]})]}),r.jsxs("details",{id:"data-we-collect",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"2) Data we collect"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsx("p",{className:"font-medium",children:"A. Account & billing data (Controller)"}),r.jsx("p",{children:"Contact name, email, phone, company, role, login events, plan, invoices, and support tickets."}),r.jsx("p",{className:"font-medium mt-3",children:"B. WhatsApp Business data (Processor)"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Message content & metadata via WhatsApp Cloud API (sender/recipient numbers, timestamps, IDs, delivery/read status, attachment links)."}),r.jsx("li",{children:"Template data: names, languages, categories, approval status & reasons."}),r.jsx("li",{children:"Webhook events: inbound messages, status updates, template status updates."})]}),r.jsx("p",{className:"font-medium mt-3",children:"C. Technical data"}),r.jsx("p",{children:"IPs, device/useragent, error logs, performance metrics, cookie identifiers and similar telemetry on our sites."}),r.jsx("p",{className:"mt-3",children:"Sources include you (account setup), your connected WABAs via Meta APIs, and your endusers when they message your WhatsApp numbers."})]})]}),r.jsxs("details",{id:"purposes",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"3) Why we use data (Purposes & legal bases)"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsxs("li",{children:[r.jsx("b",{children:"Provide the Services"}),": deliver/receive WhatsApp messages; manage templates; process webhooks; show delivery/read reports. (Contract)"]}),r.jsxs("li",{children:[r.jsx("b",{children:"Security & abuse prevention"}),": authenticate sessions; detect fraud; protect accounts. (Legitimate interests / Legal obligation)"]}),r.jsxs("li",{children:[r.jsx("b",{children:"Support & troubleshooting"}),": logs/telemetry; respond to tickets. (Legitimate interests / Contract)"]}),r.jsxs("li",{children:[r.jsx("b",{children:"Product improvement & analytics"}),": aggregated usage patterns without identifying message content. (Legitimate interests; optout available  contact us)"]}),r.jsxs("li",{children:[r.jsx("b",{children:"Legal compliance"}),": tax, accounting, regulatory requests. (Legal obligation)"]})]})})]}),r.jsxs("details",{id:"whatsapp-processing",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"4) How WhatsApp processing works"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"We connect to WhatsApp Cloud API as your processor to send/receive messages and receive webhook events. Messages are protected by WhatsApp protocols in transit. Prime SMS receives content only as permitted via the Cloud API/webhooks to deliver the business function (e.g., autoreplies, reporting)."})})]}),r.jsxs("details",{id:"sharing",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"5) Sharing & subprocessors"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsx("p",{children:"We share data only to provide the Services, under contracts that require security and confidentiality:"}),r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsx("li",{children:"Meta Platforms / WhatsApp Cloud API (message delivery, template management)"}),r.jsx("li",{children:"Infrastructure & monitoring (hosting, storage, CDN, logging, email)"}),r.jsx("li",{children:"Payments & invoicing (if applicable)"}),r.jsx("li",{children:"Support tooling (when you contact us)"})]}),r.jsxs("p",{className:"mt-2",children:["We do not sell personal data. Our current subprocessors are listed at ",r.jsx("a",{href:"#subprocessors",className:"text-emerald-700",children:"the Subprocessors section"}),"."]})]})]}),r.jsxs("details",{id:"transfers",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"6) International transfers"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"We may process data in countries different from where you reside. Where required, we use recognized transfer mechanisms (e.g., SCCs) and appropriate safeguards."})})]}),r.jsxs("details",{id:"security",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"7) Security"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"We implement administrative, technical, and physical safeguards: TLS in transit, encryption at rest (where applicable), access control, least privilege, audit logs, and incident response."})})]}),r.jsxs("details",{id:"retention",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"8) Retention"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsxs("li",{children:[r.jsx("b",{children:"Account data"}),": kept for the duration of the contract and a reasonable period thereafter for legal/accounting purposes."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Message content & event logs"}),": retained only as long as needed to deliver the Services and then deleted or anonymized."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Template metadata"}),": retained while the template is active and for audit/history."]})]})})]}),r.jsxs("details",{id:"rights",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"9) Your choices & rights"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsx("p",{children:"Depending on your location, you may have rights to access, correct, delete, restrict or port personal data, and to object to certain processing."}),r.jsxs("p",{className:"mt-2",children:["If you are an enduser of one of our customers, please contact that business (they are the controller). If you are a Prime SMS account user, contact us at ",r.jsx("a",{href:"mailto:privacy@primesms.app",className:"text-emerald-700",children:"privacy@primesms.app"}),"."]})]})]}),r.jsxs("details",{id:"cookies",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"10) Cookies & similar technologies"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"We use necessary cookies (auth/session) and, if enabled, analytics/performance cookies on our sites. You can manage preferences via your browser and (where applicable) our cookie banner."})})]}),r.jsxs("details",{id:"children",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"11) Children"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"Our Services are not directed to children under 16 (or lower age as defined by local law). We do not knowingly collect such data."})})]}),r.jsxs("details",{id:"links",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"12) Thirdparty links"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"Our sites may link to thirdparty pages. Their privacy practices are governed by their own policies."})})]}),r.jsxs("details",{id:"changes",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"13) Changes to this Policy"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"We may update this Policy. Well post the new version with a new Last updated date and, where required, notify you."})})]}),r.jsxs("details",{id:"contact",className:"group border rounded-lg p-4 mb-8",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"14) Contact us"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("b",{children:"Data controller (for account data)"}),r.jsx("br",{}),"Prime SMS Technologies Pvt. Ltd."]}),r.jsxs("p",{className:"mt-1",children:["Email: ",r.jsx("a",{href:"mailto:privacy@primesms.app",className:"text-emerald-700",children:"privacy@primesms.app"})]}),r.jsxs("p",{className:"mt-1",children:["DPO (if applicable): ",r.jsx("a",{href:"mailto:dpo@primesms.app",className:"text-emerald-700",children:"dpo@primesms.app"})]}),r.jsxs("p",{className:"mt-1",children:["Grievance Officer (India): ",r.jsx("a",{href:"mailto:grievance@primesms.app",className:"text-emerald-700",children:"grievance@primesms.app"})]})]})]}),r.jsxs("details",{id:"jurisdiction",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"Jurisdictional Addendum (summary)"}),r.jsxs("div",{className:"mt-3 text-gray-700 space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"EU/UK GDPR"}),r.jsxs("p",{children:["Controller for account/billing/website data; processor for message content/metadata you process through Prime SMS. Data subject rights include access, rectification, erasure, restriction, portability, and objection. We provide a DPA with SCCs on request via ",r.jsx("a",{href:"mailto:privacy@primesms.app",className:"text-emerald-700",children:"privacy@primesms.app"}),"."]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"California (CCPA/CPRA)"}),r.jsxs("p",{children:["We are a service provider for message content processed on your behalf, and a business for your account data. We do not sell or share personal information as defined by CPRA. Rights requests: ",r.jsx("a",{href:"mailto:privacy@primesms.app",className:"text-emerald-700",children:"privacy@primesms.app"}),"."]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"India (DPDP Act 2023)"}),r.jsxs("p",{children:["We process personal data for lawful purposes with notice and consent where required. Rights to access/correction/grievance redressal via ",r.jsx("a",{href:"mailto:grievance@primesms.app",className:"text-emerald-700",children:"grievance@primesms.app"}),"."]})]})]})]}),r.jsxs("details",{id:"product-notes",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"Productspecific notes (Prime SMS)"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsxs("li",{children:[r.jsx("b",{children:"Template sync"}),": We store template name, language, category, status, reasons to show in your dashboard and keep them in sync with Meta."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Campaign & reporting"}),": We store delivery/read statuses and message IDs to power reporting and retries."]}),r.jsxs("li",{id:"subprocessors",children:[r.jsx("b",{children:"Webhooks"}),": If you configure a thirdparty webhook (e.g., n8n), we forward only the fields you enable."]})]})})]})]})})]})})}const jF=[{id:"summary",title:"1) Summary (TL;DR)"},{id:"what-you-can-cancel",title:"2) What you can cancel"},{id:"credits",title:"3) Credits (Top-ups / Wallet)"},{id:"when-refunds",title:"4) When we do consider refunds"},{id:"never-refundable",title:"5) Whats never refundable"},{id:"how-to-request",title:"6) How to request a refund or dispute a bill"},{id:"chargebacks",title:"7) Chargebacks"},{id:"trials",title:"8) Trial accounts & closures"},{id:"country-rights",title:"9) Country-specific rights"},{id:"changes",title:"10) Changes to this policy"},{id:"admin-checklist",title:"Admin checklist (for your team)"}];function wF(){return r.jsx(JS,{children:r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Refund & Cancellation Policy"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Prime SMS Technologies Pvt. Ltd."}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Last updated: 12 Aug 2025"}),r.jsx("div",{className:"mt-4",children:r.jsx($e,{to:"/",className:"inline-flex items-center text-emerald-700 hover:text-emerald-900",children:" Back to home"})})]}),r.jsx(q,{className:"md:w-[420px]",children:r.jsxs(Y,{className:"p-4",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Jump to a section"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:jF.map(e=>r.jsx("a",{href:`#${e.id}`,className:"text-emerald-700 hover:text-emerald-900",children:e.title.replace(/^[0-9)+ ]+/,"")},e.id))})]})})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:r.jsxs("div",{className:"prose prose-gray max-w-none",children:[r.jsx("p",{children:"This policy applies to the Prime SMS dashboard, APIs, add-ons, WhatsApp messaging usage, and prepaid credits (Credits)."}),r.jsxs("details",{id:"summary",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"1) Summary (TL;DR)"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsx("li",{children:"Subscriptions: noncancellable and nonrefundable for the current term unless required by law; cancelling stops future renewals."}),r.jsx("li",{children:"Credits/Topups: nonrefundable and nontransferable; used for permessage/conversation charges and fees."}),r.jsx("li",{children:"Goodwill window: We may refund only if the topup is completely unused and you request it in writing within 7 days of purchase. Otherwise, service credits may be issued at our discretion."}),r.jsx("li",{children:"Processor fees are not returned on refunds. Billing disputes must be raised within 30 days of invoice date."})]})})]}),r.jsxs("details",{id:"what-you-can-cancel",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"2) What you can cancel"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsx("li",{children:"Autorenewing subscriptions: cancel anytime before the renewal date; access continues through the paidup period. No refunds for partial months/unused time."}),r.jsx("li",{children:"Addons: cancel at next renewal; amounts already paid are nonrefundable unless mandated by law."})]})})]}),r.jsxs("details",{id:"credits",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"3) Credits (Topups / Wallet)"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsxs("li",{children:[r.jsx("b",{children:"Nonrefundable"}),": All purchased Credits are nonrefundable, nontransferable, and only usable for Prime SMS services (e.g., WhatsApp messages, Meta conversation charges, addons)."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Expiry (optional)"}),": Unused Credits may expire 12 months after purchase (if enabled)."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Account actions"}),": If we suspend/disable service for AUP/policy breaches, remaining Credits are forfeited."]})]}),r.jsx("p",{className:"mt-2",children:"Note: If the amount is credit, it cant be refunded."})]})]}),r.jsxs("details",{id:"when-refunds",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"4) When we do consider refunds"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsx("li",{children:"Duplicate charge or clear platform misbilling; or"}),r.jsx("li",{children:"Topup entirely unused and requested in writing within 7 days of payment (admin fee may apply; taxes and processor fees are not returned)."})]}),r.jsx("p",{className:"mt-2",children:"No refunds if any account activity occurred in the current billing month on subscription plans."})]})]}),r.jsxs("details",{id:"never-refundable",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"5) Whats never refundable"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsx("li",{children:"Partially used subscription periods; upgrade/downgrade differences; unused time after cancellation."}),r.jsx("li",{children:"Promotional/bonus Credits and coupons."}),r.jsx("li",{children:"Taxes, bank/processor/FX fees, chargeback fees."}),r.jsx("li",{children:"Usage consumed by WhatsApp Cloud API (e.g., conversation charges) already passed through to Meta."})]})})]}),r.jsxs("details",{id:"how-to-request",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"6) How to request a refund or dispute a bill"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsxs("p",{children:["Email ",r.jsx("a",{href:"mailto:billing@primesms.app",className:"text-emerald-700",children:"billing@primesms.app"})," with subject Refund/Dispute  [account id]. Include invoice IDs, payment reference, screenshots, and a short description."]}),r.jsx("p",{className:"mt-2",children:"Deadline: disputes within 30 days of invoice issuance; after that, charges are final. We usually resolve within 715 business days and confirm whether well refund to the original method or issue service credits."})]})]}),r.jsxs("details",{id:"chargebacks",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"7) Chargebacks"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"Please contact us first. Filing a chargeback before contacting support may lead to account suspension and permanent loss of Credits."})})]}),r.jsxs("details",{id:"trials",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"8) Trial accounts & closures"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"Trial/limited accounts typically have no userfunded balance; any positive balance at closure isnt refunded."})})]}),r.jsxs("details",{id:"country-rights",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"9) Country-specific rights"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsx("p",{children:"Where consumer protection laws grant nonwaivable rights (e.g., EU/UK withdrawal rights for certain digital services, India DPDP notices, California CPRA rights), we honor those to the extent they apply. This policy targets B2B services."})})]}),r.jsxs("details",{id:"changes",className:"group border rounded-lg p-4 mb-8",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"10) Changes to this policy"}),r.jsxs("div",{className:"mt-3 text-gray-700",children:[r.jsx("p",{children:"We may update this policy; material changes will be posted with a new Last updated date."}),r.jsxs("p",{className:"mt-2",children:["Contact: ",r.jsx("a",{href:"mailto:billing@primesms.app",className:"text-emerald-700",children:"billing@primesms.app"})]})]})]}),r.jsxs("details",{id:"admin-checklist",className:"group border rounded-lg p-4 mb-4",children:[r.jsx("summary",{className:"font-semibold cursor-pointer text-gray-900",children:"Admin checklist (quick to implement)"}),r.jsx("div",{className:"mt-3 text-gray-700",children:r.jsxs("ul",{className:"list-disc pl-6",children:[r.jsx("li",{children:"Add a NonRefundable Credits note to your TopUp screen and invoice footer."}),r.jsx("li",{children:"In Cancel Subscription UI: Cancelling stops future renewals; current term remains active; no partial refunds."}),r.jsx("li",{children:"Add the 7day unusedtopup exception (optional) and link to this page near the payment button."}),r.jsx("li",{children:"Remind dispute within 30 days in billing emails."}),r.jsx("li",{children:"Note in ToS that prepaid balances are nonrefundable and may expire (if you enable expiry)."})]})})]}),r.jsxs("div",{className:"mt-10 text-sm text-gray-600 flex items-center gap-4",children:[r.jsx($e,{to:"/",className:"text-emerald-700",children:" Back to home"}),r.jsx($e,{to:"/privacy",className:"text-emerald-700",children:"View Privacy Policy"})]})]})})]})})}function NF(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-emerald-50/30",children:[r.jsx("header",{className:"border-b border-gray-200 bg-white/80 backdrop-blur-sm sticky top-0 z-40",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg flex items-center justify-center shadow-sm",children:r.jsx("span",{className:"text-white text-lg",children:""})}),r.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-emerald-700 bg-clip-text text-transparent",children:"Prime SMS"})]}),r.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[r.jsx($e,{to:"/",className:"text-gray-600 hover:text-emerald-600 font-medium transition-colors",children:"Home"}),r.jsx($e,{to:"/docs",className:"text-gray-600 hover:text-emerald-600 font-medium transition-colors",children:"Docs"}),r.jsx($e,{to:"/login",className:"text-gray-600 hover:text-emerald-600 font-medium transition-colors",children:"Sign In"})]})]})}),r.jsx("main",{className:"py-8 sm:py-16 lg:py-20",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center space-x-2 bg-emerald-50 text-emerald-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Terms & Conditions"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Terms & Conditions - FAQ"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-4",children:"Everything you need to know about using Prime SMS services"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[r.jsx("strong",{children:"Last updated:"})," January 15, 2025"]})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-4 sm:p-8 lg:p-12",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"1"}),"What is your service?"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We provide WhatsApp Business API messaging services through our cloud-based platform. Users can send bulk messages, manage templates, and track campaign performance digitally through our web-based dashboard."})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"2"}),"How does pricing and payment work?"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our service operates on a prepaid credit system. You can top up your wallet using UPI, cards, net banking, or bank transfer. Credits are deducted per conversation based on message category and recipient country. All payments are processed securely through our payment gateway."})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"3"}),"What is your refund and cancellation policy?"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Unused credits can be refunded within 30 days of purchase, subject to a processing fee. Once messages are sent, those credits cannot be refunded. You may cancel your account anytime, and remaining credits will be processed according to our refund policy."})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"4"}),"How are services delivered?"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"All services are delivered digitally through our web platform. No physical products are shipped. Access is provided immediately upon account setup and payment confirmation through your web browser."})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"5"}),"How do you handle my data and privacy?"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We protect your data with industry-standard security measures. Personal information is used only for service delivery and is not shared with third parties without consent. Message data is processed according to WhatsApp Business policies and Indian data protection laws."})]}),r.jsxs("div",{className:"pb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-sm font-bold mr-3",children:"6"}),"How can I contact support or file complaints?"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"For support or grievances, contact us using the details below. We respond to queries within 24-48 hours during business days."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-800",children:[r.jsx("strong",{children:"Business:"})," M/S PRIME SMS"]}),r.jsxs("p",{className:"text-sm text-gray-800",children:[r.jsx("strong",{children:"Address:"})," 16-11-477/6/3, #101, Sneha Prashanth Residency, Dilsukh Nagar, Hyderabad-500036"]}),r.jsxs("p",{className:"text-sm text-gray-800",children:[r.jsx("strong",{children:"Phone:"})," +91 9160352125"]}),r.jsxs("p",{className:"text-sm text-gray-800",children:[r.jsx("strong",{children:"Email:"})," shivaji@primesms.app"]})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"By using Prime SMS services, you agree to these terms and conditions. We reserve the right to update these terms at any time. Continued use of our services after changes indicates your acceptance of the updated terms. For any legal disputes, the jurisdiction will be Hyderabad, Telangana, India."})}),r.jsx("div",{className:"mt-10 text-sm text-gray-600",children:r.jsx($e,{to:"/",className:"text-emerald-700",children:" Back to home"})})]})]})})]})}function SF(){return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Documentation"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to get started with Prime SMS WhatsApp Business API"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(IN,{className:"h-6 w-6 text-emerald-600"}),r.jsx(ie,{children:"Quick Start Guide"})]}),r.jsx(je,{children:"Get up and running with Prime SMS in minutes"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Learn how to set up your WhatsApp Business account, create templates, and send your first message."}),r.jsxs(U,{variant:"outline",size:"sm",children:[r.jsx(St,{className:"h-4 w-4 mr-2"}),"Read Guide"]})]})]}),r.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dl,{className:"h-6 w-6 text-blue-600"}),r.jsx(ie,{children:"API Reference"})]}),r.jsx(je,{children:"Complete API documentation with examples"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Detailed documentation for all API endpoints, webhooks, and integration methods."}),r.jsxs(U,{variant:"outline",size:"sm",children:[r.jsx(dl,{className:"h-4 w-4 mr-2"}),"View API Docs"]})]})]}),r.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"h-6 w-6 text-purple-600"}),r.jsx(ie,{children:"Templates Guide"})]}),r.jsx(je,{children:"Create and manage WhatsApp message templates"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Learn how to create, submit, and manage WhatsApp Business message templates."}),r.jsxs(U,{variant:"outline",size:"sm",children:[r.jsx(St,{className:"h-4 w-4 mr-2"}),"Template Docs"]})]})]}),r.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tc,{className:"h-6 w-4 text-orange-600"}),r.jsx(ie,{children:"Webhook Setup"})]}),r.jsx(je,{children:"Configure webhooks for real-time updates"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Set up webhooks to receive delivery reports and incoming messages."}),r.jsxs(U,{variant:"outline",size:"sm",children:[r.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Webhook Guide"]})]})]}),r.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yd,{className:"h-6 w-6 text-green-600"}),r.jsx(ie,{children:"SDK & Libraries"})]}),r.jsx(je,{children:"Download SDKs for popular programming languages"})]}),r.jsxs(Y,{children:[r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsx(ke,{variant:"secondary",children:"JavaScript"}),r.jsx(ke,{variant:"secondary",children:"Python"}),r.jsx(ke,{variant:"secondary",children:"PHP"})]}),r.jsxs(U,{variant:"outline",size:"sm",children:[r.jsx(yd,{className:"h-4 w-4 mr-2"}),"Download SDKs"]})]})]}),r.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"h-6 w-6 text-red-600"}),r.jsx(ie,{children:"Support & FAQ"})]}),r.jsx(je,{children:"Get help and find answers to common questions"})]}),r.jsxs(Y,{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Browse our FAQ, submit support tickets, and connect with our team."}),r.jsxs(U,{variant:"outline",size:"sm",children:[r.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Get Support"]})]})]})]}),r.jsx(q,{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200",children:r.jsx(Y,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Documentation Status"}),r.jsxs("p",{className:"text-gray-600",children:["Our documentation is continuously updated. Last updated: ",new Date().toLocaleDateString()]})]}),r.jsx(ke,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:"Up to Date"})]})})})]})}function CF(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-emerald-50/30",children:[r.jsx("header",{className:"border-b border-gray-200 bg-white/80 backdrop-blur-sm sticky top-0 z-40",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg flex items-center justify-center shadow-sm",children:r.jsx("span",{className:"text-white text-lg",children:""})}),r.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-emerald-700 bg-clip-text text-transparent",children:"Prime SMS"})]}),r.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[r.jsx($e,{to:"/",className:"text-gray-600 hover:text-emerald-600 font-medium transition-colors",children:"Home"}),r.jsx($e,{to:"/docs",className:"text-gray-600 hover:text-emerald-600 font-medium transition-colors",children:"Docs"}),r.jsx($e,{to:"/login",className:"text-gray-600 hover:text-emerald-600 font-medium transition-colors",children:"Sign In"})]})]})}),r.jsx("main",{className:"py-16 sm:py-20",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center space-x-2 bg-emerald-50 text-emerald-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Get in Touch"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Contact Us"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Ready to transform your WhatsApp messaging? Reach out to our team for support and inquiries."})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 items-start",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"group relative",children:[r.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-emerald-400/10 via-emerald-500/10 to-cyan-500/10 blur-xl transition-all duration-500 group-hover:blur-2xl"}),r.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8 sm:p-12 transition-all duration-500 group-hover:-translate-y-1 group-hover:shadow-2xl",children:r.jsxs("div",{className:"space-y-6 text-left",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white text-xl",children:""})}),r.jsx("div",{children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Office Address"})})]}),r.jsxs("div",{className:"pl-15 space-y-2",children:[r.jsx("p",{className:"text-gray-900 font-semibold text-lg",children:"M/S PRIME SMS,"}),r.jsx("p",{className:"text-gray-700",children:"16-11-477/6/3,#101"}),r.jsx("p",{className:"text-gray-700",children:"SNEHA PRASHANTH RESIDENCY, DILSUKH NAGAR ,HYDERABAD-500036"})]})]}),r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-emerald-200 to-transparent"}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Phone"}),r.jsx("p",{className:"text-gray-900 font-medium text-lg",children:"+91 9160352125"})]})]})}),r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-emerald-200 to-transparent"}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),r.jsx("p",{className:"text-gray-900 font-medium text-lg",children:"shivaji@primesms.app"})]})]})})]})})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h3",{className:"text-xl font-semibold",children:"Ready to Start?"}),r.jsx("p",{className:"text-emerald-100 text-sm",children:"Get started with Prime SMS today and transform your WhatsApp business messaging."}),r.jsx($e,{to:"/signup",className:"inline-block bg-white text-emerald-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Get Started"})]})})})]})]})})]})}const eC=[1,1e3,5e3,1e4],kF=(e,t=1,s=1e5)=>{const[n,a]=h.useState(()=>e&&e>=t&&e<=s?{selectedType:eC.includes(e)?"preset":"custom",amount:e,error:void 0}:{selectedType:"preset",amount:null,error:void 0}),i=h.useCallback(f=>f.toLocaleString("en-IN"),[]),o=h.useCallback(f=>{const p=f.replace(/[,\s]/g,""),w=parseInt(p,10);return isNaN(w)?null:w},[]),l=h.useCallback(f=>{if(!(f===null||f===0)){if(f<t)return`Amount must be at least ${i(t)}`;if(f>s)return`Amount cannot exceed ${i(s)}`}},[t,s,i]),c=h.useCallback(f=>{a({selectedType:"preset",amount:f,error:l(f)})},[l]),d=h.useCallback(f=>{a({selectedType:"custom",amount:f,error:l(f)})},[l]),u=h.useCallback(f=>{a(p=>({...p,isLoading:f}))},[]),m=h.useMemo(()=>n.amount!==null&&n.amount>=t&&n.amount<=s&&!n.error,[n.amount,n.error,t,s]);return{...n,isValid:m,formatIndianNumber:i,parseIndianNumber:o,selectPreset:c,setCustomAmount:d,setLoading:u,min:t,max:s}},TF=({initialAmount:e,onCheckout:t,onPaymentSuccess:s,min:n=1,max:a=1e5,className:i})=>{const{selectedType:o,amount:l,error:c,isLoading:d,isValid:u,formatIndianNumber:m,parseIndianNumber:f,selectPreset:p,setCustomAmount:w,setLoading:y}=kF(e,n,a),[j,v]=h.useState(""),[g,x]=h.useState(!1),b=h.useRef(null),S=h.useCallback(P=>{p(P),v("")},[p]),k=h.useCallback(P=>{const E=P.target.value;if(v(E),E.trim()===""){w(null);return}const N=f(E);w(N)},[f,w]),T=h.useCallback(()=>{l!==null&&v(m(l))},[l,m]),C=h.useCallback(()=>{l!==null&&v(l.toString())},[l]),D=h.useCallback(async()=>{if(!(!u||!l||d)){y(!0);try{const E=await(await fetch("/api/payments/razorpay/order",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amountCredits:l})})).json();if(!E.success)throw new Error(E.error||"Failed to create payment order");await PF(),new window.Razorpay({key:E.keyId,amount:E.amount,currency:E.currency,name:"Prime SMS",description:`${m(l)} credits top-up`,order_id:E.orderId,handler:async I=>{try{const z=await(await fetch("/api/payments/razorpay/verify",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({orderId:I.razorpay_order_id,paymentId:I.razorpay_payment_id,signature:I.razorpay_signature,amountCredits:l})})).json();if(console.log("  FRONTEND: Payment verification response:",z),z.success)console.log("  FRONTEND: Payment verification successful!",{paymentId:I.razorpay_payment_id,orderId:I.razorpay_order_id,amount:l,verifyData:z}),x(!0),console.log("  FRONTEND: Calling onPaymentSuccess callback..."),s==null||s(),console.log("  FRONTEND: Triggering immediate balance refresh..."),setTimeout(()=>{s==null||s()},500),console.log("  FRONTEND: Scheduling page reload in 3 seconds..."),setTimeout(()=>{console.log("  FRONTEND: Reloading page to refresh balance..."),window.location.reload()},3e3);else throw console.error("  FRONTEND: Payment verification failed:",z),new Error(z.error||"Payment verification failed")}catch(A){console.error("Payment verification failed:",A),alert(`Payment verification failed: ${A instanceof Error?A.message:"Unknown error"}`)}},modal:{ondismiss:()=>{console.log("Payment cancelled by user")}},theme:{color:"#3b82f6"},prefill:{name:"",email:"",contact:""},notes:{purpose:"wallet_topup",credits:l.toString()}}).open(),await(t==null?void 0:t(l))}catch(P){console.error("Checkout failed:",P),alert(`Payment failed: ${P instanceof Error?P.message:"Unknown error"}`)}finally{y(!1)}}},[u,l,d,t,y,m]),_={rest:{scale:1,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},hover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},tap:{scale:.98}},R={hidden:{pathLength:0,opacity:0},visible:{pathLength:1,opacity:1,transition:{duration:.5,ease:"easeInOut"}}};return r.jsx("div",{className:ce("w-full max-w-2xl mx-auto",i),children:r.jsx(ws,{children:r.jsxs(q,{className:"bg-background border shadow-sm",children:[r.jsxs(ae,{className:"text-center space-y-2",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:r.jsx(Va,{className:"h-6 w-6 text-primary"})})}),r.jsx(ie,{className:"text-xl font-semibold",children:"Add Credits"}),r.jsx(je,{children:"Top up your account with credits to send WhatsApp messages"})]}),r.jsxs(Y,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(pe,{className:"text-sm font-medium text-foreground",children:"Choose Amount"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:eC.map(P=>{const E=o==="preset"&&l===P;return r.jsx(Te.div,{layoutId:E?"selected-preset":void 0,variants:_,initial:"rest",whileHover:"hover",whileTap:"tap",children:r.jsx(U,{variant:E?"default":"outline",size:"lg",onClick:()=>S(P),className:ce("w-full h-14 text-base font-medium transition-all duration-200",E&&"ring-2 ring-primary/20 shadow-md"),role:"radio","aria-checked":E,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsxs("span",{children:["",m(P)]}),r.jsx("span",{className:"text-xs opacity-80",children:"credits"})]})})},P)})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(zd,{className:"flex-1"}),r.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"OR"}),r.jsx(zd,{className:"flex-1"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(pe,{htmlFor:"custom-amount",className:"text-sm font-medium text-foreground",children:"Custom Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:""}),r.jsx(le,{ref:b,id:"custom-amount",value:j,onChange:k,onBlur:T,onFocus:C,placeholder:"Enter amount",className:ce("pl-8 h-12 text-base font-medium transition-all duration-200",o==="custom"&&"ring-2 ring-primary/20"),"aria-describedby":"amount-helper amount-error"})]}),o==="custom"&&!l&&r.jsxs("p",{id:"amount-helper",className:"text-xs text-muted-foreground flex items-center gap-1",children:[r.jsx(Rt,{className:"h-3 w-3"}),"Enter amount between ",n," and ",m(a)," credits"]}),c&&r.jsxs(Bt,{className:"py-2",children:[r.jsx(ls,{className:"h-4 w-4"}),r.jsx(zt,{id:"amount-error",className:"text-sm",children:c})]})]}),r.jsx(gd,{children:u&&l&&r.jsx(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:dn.durationBase,ease:dn.easeStandard},children:r.jsx(q,{className:"bg-primary/5 border-primary/20",children:r.jsx(Y,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(Te.svg,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx(Te.path,{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",variants:R,initial:"hidden",animate:"visible"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:"You're adding"}),r.jsxs("p",{className:"text-xl font-bold text-primary",children:["",m(l)]})]})]}),r.jsx(yu,{className:"h-5 w-5 text-primary/60"})]})})})})}),r.jsx(Te.div,{whileHover:u?{scale:1.02}:void 0,whileTap:u?{scale:.98}:void 0,children:r.jsx(U,{onClick:D,disabled:!u||d,size:"lg",className:ce("w-full h-12 text-base font-medium transition-all duration-200",u&&"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg hover:shadow-xl"),children:d?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"Processing..."]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ea,{className:"h-4 w-4"}),"Add Credits",r.jsx(MN,{className:"h-4 w-4 ml-1"})]})})}),r.jsx(gd,{children:g&&r.jsx(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-700 font-medium",children:[r.jsx(gu,{className:"h-4 w-4"}),"Credits added successfully!"]})})})]})]})})})};function PF(){return new Promise((e,t)=>{if(window.Razorpay){e();return}const s=document.createElement("script");s.src="https://checkout.razorpay.com/v1/checkout.js",s.onload=()=>e(),s.onerror=()=>t(new Error("Failed to load Razorpay script")),document.body.appendChild(s)})}function EF(){const e=xt(),{user:t}=Bs(),[s,n]=h.useState(null),[a,i]=h.useState(!0);h.useEffect(()=>{o()},[]);const o=async()=>{var u;try{console.log("  WALLET PAGE: Starting balance fetch..."),i(!0);const f=`/api/auth/me?t=${Date.now()}`;console.log("  WALLET PAGE: Fetching from:",f);const p=await fetch(f,{credentials:"include",cache:"no-cache"});if(console.log("  WALLET PAGE: Fetch response status:",p.status,p.statusText),p.ok){const w=await p.json(),y=((u=w.user)==null?void 0:u.creditBalance)||0;console.log("  WALLET PAGE: Balance fetched successfully:",{oldBalance:s,newBalance:y,userData:w.user}),n(y)}else console.error("  WALLET PAGE: Failed to fetch user data, using fallback"),n((t==null?void 0:t.creditBalance)||0)}catch(m){console.error("  WALLET PAGE: Error fetching credit balance:",m),n((t==null?void 0:t.creditBalance)||0)}finally{i(!1),console.log("  WALLET PAGE: Balance fetch completed")}},l=async u=>{Cn.info("Processing payment...",{description:"Please complete the payment in the Razorpay window"})},c=()=>{console.log("  WALLET PAGE: Payment success callback triggered!"),setTimeout(()=>{console.log("  WALLET PAGE: Refreshing balance after payment success..."),o()},1e3)},d=()=>{o()};return r.jsx(at,{title:"Wallet Top-Up",subtitle:"Add credits to your Prime SMS account",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[r.jsx(ws,{children:r.jsxs(U,{variant:"outline",onClick:()=>e("/user/dashboard"),className:"mb-4",children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx(ws,{delay:.1,children:r.jsxs(q,{children:[r.jsxs(ae,{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-2",children:r.jsx(Va,{className:"h-6 w-6 text-blue-600"})}),r.jsx(ie,{className:"text-lg",children:"Current Balance"}),r.jsx(je,{children:"Available credits in your account"})]}),r.jsx(Y,{className:"text-center",children:a?r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsx(Es,{className:"h-6 w-6 animate-spin text-blue-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["",(s==null?void 0:s.toLocaleString("en-IN"))||"0"]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Credits available"}),r.jsx(U,{variant:"outline",size:"sm",onClick:d,className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"Refresh Balance"})]})})]})})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(ws,{delay:.2,children:r.jsx(TF,{onCheckout:l,onPaymentSuccess:c,className:"w-full"})})})]}),r.jsx(ws,{delay:.3,children:r.jsx(q,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:r.jsx(Y,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx(ea,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Secure Payment"}),r.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:"Your payment is processed securely through Razorpay. Credits will be added to your account immediately after successful payment confirmation. You can use cards, UPI, net banking, and wallets for payment."})]})]})})})})]})})}const AF=new KP({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function _F(){return r.jsx(iE,{client:AF,children:r.jsx(E6,{children:r.jsx(A6,{children:r.jsxs(kP,{children:[r.jsx(R6,{}),r.jsx(M6,{}),r.jsxs(vP,{children:[r.jsx(qe,{path:"/",element:r.jsx(Ja,{children:r.jsx(KD,{})})}),r.jsx(qe,{path:"/docs",element:r.jsx(Ja,{children:r.jsx(SF,{})})}),r.jsx(qe,{path:"/contact",element:r.jsx(Ja,{children:r.jsx(CF,{})})}),r.jsx(qe,{path:"/login",element:r.jsx(Ja,{children:r.jsx(qD,{})})}),r.jsx(qe,{path:"/signup",element:r.jsx(Ja,{children:r.jsx(YD,{})})}),r.jsx(qe,{path:"/admin/dashboard",element:r.jsx(Br,{children:r.jsx(iO,{})})}),r.jsx(qe,{path:"/admin/users/:id/details",element:r.jsx(Br,{children:r.jsx(oO,{})})}),r.jsx(qe,{path:"/admin/users/:id/settings",element:r.jsx(Br,{children:r.jsx(bL,{})})}),r.jsx(qe,{path:"/admin/users/:id/wallet",element:r.jsx(Br,{children:r.jsx(jL,{})})}),r.jsx(qe,{path:"/admin/users/:id/templates",element:r.jsx(Br,{children:r.jsx(wL,{})})}),r.jsx(qe,{path:"/admin/logs",element:r.jsx(Br,{children:r.jsx(NL,{})})}),r.jsx(qe,{path:"/admin/pricing",element:r.jsx(Br,{children:r.jsx(CL,{})})}),r.jsx(qe,{path:"/admin/test-notifications",element:r.jsx(Br,{children:r.jsx(kL,{})})}),r.jsx(qe,{path:"/user/dashboard",element:r.jsx(Sr,{children:r.jsx(TL,{})})}),r.jsx(qe,{path:"/user/templates",element:r.jsx(Sr,{children:r.jsx(_L,{})})}),r.jsx(qe,{path:"/user/templates/create",element:r.jsx(Sr,{children:r.jsx(Av,{})})}),r.jsx(qe,{path:"/user/templates/:id/edit",element:r.jsx(Sr,{children:r.jsx(Av,{})})}),r.jsx(qe,{path:"/user/whatsapp-bulk",element:r.jsx(Sr,{children:r.jsx(pF,{})})}),r.jsx(qe,{path:"/user/api-management",element:r.jsx(Sr,{children:r.jsx(yF,{})})}),r.jsx(qe,{path:"/user/customize-message",element:r.jsx(Sr,{children:r.jsx(xF,{})})}),r.jsx(qe,{path:"/user/manage-reports",element:r.jsx(Sr,{children:r.jsx(gF,{})})}),r.jsx(qe,{path:"/user/wallet",element:r.jsx(Sr,{children:r.jsx(EF,{})})}),r.jsx(qe,{path:"/privacy",element:r.jsx(bF,{})}),r.jsx(qe,{path:"/refund-policy",element:r.jsx(wF,{})}),r.jsx(qe,{path:"/terms",element:r.jsx(NF,{})}),r.jsx(qe,{path:"/profile",element:r.jsx(ex,{children:r.jsx($m,{})})}),r.jsx(qe,{path:"/admin/profile",element:r.jsx(Br,{children:r.jsx($m,{})})}),r.jsx(qe,{path:"/user/profile",element:r.jsx(Sr,{children:r.jsx($m,{})})}),r.jsx(qe,{path:"*",element:r.jsx(Ja,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Page not found"}),r.jsx("button",{onClick:()=>window.history.back(),className:"text-indigo-600 hover:text-indigo-500",children:"Go back"})]})})})})]}),r.jsx(P6,{})]})})})})}Gj(document.getElementById("root")).render(r.jsx(h.StrictMode,{children:r.jsx(_F,{})}));
