# ============================================================================
# PRIME SMS - ENVIRONMENT VARIABLES FOR COOLIFY DEPLOYMENT
# ============================================================================

# Application Settings
NODE_ENV=production
PORT=3000

# Database Configuration
DATABASE_URL=postgresql://postgres:password@postgres:5432/primesms
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=primesms
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here

# Security
JWT_SECRET=your_jwt_secret_here_minimum_32_characters
SESSION_SECRET=your_session_secret_here_minimum_32_characters

# Meta WhatsApp Business API
META_ACCESS_TOKEN=your_meta_access_token
META_PHONE_NUMBER_ID=your_whatsapp_phone_number_id
META_VERIFY_TOKEN=your_webhook_verify_token

# App Secrets for Webhook Signature Verification (Multiple WhatsApp Apps Support)
META_APP_SECRET=your_first_whatsapp_app_secret
META_APP_SECRET_2=your_second_whatsapp_app_secret

GRAPH_API_VERSION=v22.0

# Webhook Configuration
WEBHOOK_DEBUG_TOKEN=your_webhook_debug_token

# N8N Integration (Optional)
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook

# Bulk Messaging Configuration (Loop-based Processing)
BULK_LOOP_SIZE=200
BULK_LOOP_PAUSE_MS=2000
BULK_MESSAGES_PER_SECOND=10
BULK_MAX_RETRIES=3
BULK_RETRY_BASE_MS=500
BULK_HARD_CAP=50000

# Legacy Settings (for backward compatibility)
BULK_BATCH_SIZE=200
BULK_CONCURRENCY=1
BULK_PAUSE_MS=2000

# Coolify Deployment Flag
COOLIFY_DEPLOYMENT=true

# Health Check Settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# Static File Serving
STATIC_DIR=./client-build
CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com
APP_VERSION=1.2.0

# Performance & Security
MAX_REQUEST_SIZE=10mb
SESSION_TIMEOUT=86400000
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
LOG_LEVEL=info
TRUST_PROXY=true

# Docker/Container Settings
TZ=Asia/Kolkata
BUILD_ID=production

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000

# Pricing System
PRICING_CURRENCY=INR
PRICING_DEFAULT_MARKETING=0.80
PRICING_DEFAULT_UTILITY=0.15
PRICING_DEFAULT_AUTHENTICATION=0.15

# Monitoring & Alerts
ENABLE_METRICS=true
HEALTH_CHECK_TIMEOUT=5000

# ============================================================================
# COOLIFY SETUP INSTRUCTIONS:
# 
# 1. Create a new project in Coolify
# 2. Connect this GitHub repository: https://github.com/Shivaji2004code/Primesms.app
# 3. Set the build configuration:
#    - Build Command: (leave empty, uses Dockerfile)
#    - Start Command: (leave empty, uses CMD from Dockerfile)
#    - Port: 3000
# 4. Add all the environment variables above in Coolify's Environment tab
# 5. Enable PostgreSQL service and update DATABASE_URL accordingly
# 6. Set up your domain and SSL certificate
# 7. Deploy!
# ============================================================================